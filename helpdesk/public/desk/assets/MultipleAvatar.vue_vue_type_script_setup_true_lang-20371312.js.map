{"version":3,"file":"MultipleAvatar.vue_vue_type_script_setup_true_lang-20371312.js","sources":["../../../../desk/src/components/FadedScrollableDiv.vue","../../../../desk/src/components/MultipleAvatar.vue"],"sourcesContent":["<template>\n  <div\n    ref=\"scrollableDiv\"\n    :style=\"`maskImage: ${maskStyle}`\"\n    @scroll=\"updateMaskStyle\"\n  >\n    <slot></slot>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref } from \"vue\";\n\nconst props = defineProps({\n  maskLength: {\n    type: Number,\n    default: 30,\n  },\n  orientation: {\n    type: String,\n    default: \"vertical\",\n  },\n});\n\nconst scrollableDiv = ref(null);\nconst maskStyle = ref(\"none\");\nconst side = computed(() =>\n  props.orientation == \"horizontal\" ? \"right\" : \"bottom\"\n);\n\nfunction updateMaskStyle() {\n  if (!scrollableDiv.value) return;\n\n  let scrollWidth = scrollableDiv.value.scrollWidth;\n  let clientWidth = scrollableDiv.value.clientWidth;\n  let scrollHeight = scrollableDiv.value.scrollHeight;\n  let clientHeight = scrollableDiv.value.clientHeight;\n  let scrollTop = scrollableDiv.value.scrollTop;\n  let scrollLeft = scrollableDiv.value.scrollLeft;\n\n  maskStyle.value = \"none\";\n\n  // faded on both sides\n  if (\n    (side.value == \"right\" && scrollWidth > clientWidth) ||\n    (side.value == \"bottom\" && scrollHeight > clientHeight)\n  ) {\n    maskStyle.value = `linear-gradient(to ${side.value}, transparent, black ${props.maskLength}px, black calc(100% - ${props.maskLength}px), transparent);`;\n  }\n\n  // faded on left or top\n  if (\n    (side.value == \"right\" && scrollLeft - 20 > clientWidth) ||\n    (side.value == \"bottom\" && scrollTop + clientHeight >= scrollHeight)\n  ) {\n    maskStyle.value = `linear-gradient(to ${side.value}, transparent, black ${props.maskLength}px, black 100%, transparent);`;\n  }\n\n  // faded on right or bottom\n  if (\n    (side.value == \"right\" && scrollLeft == 0) ||\n    (side.value == \"bottom\" && scrollTop == 0)\n  ) {\n    maskStyle.value = `linear-gradient(to ${side.value}, black calc(100% - ${props.maskLength}px), transparent 100%);`;\n  }\n\n  if (\n    (side.value == \"right\" && clientWidth == scrollWidth) ||\n    (side.value == \"bottom\" && clientHeight == scrollHeight)\n  ) {\n    maskStyle.value = \"none\";\n  }\n}\n\nonMounted(() => setTimeout(() => updateMaskStyle(), 300));\n</script>\n","<template>\n  <div v-if=\"_avatars?.length\" class=\"mr-1.5 flex cursor-pointer items-center\">\n    <div v-if=\"_avatars?.length == 1\" class=\"flex items-center gap-2 text-base\">\n      <Tooltip :text=\"_avatars[0].name\">\n        <Avatar\n          shape=\"circle\"\n          :image=\"_avatars[0].image\"\n          :label=\"_avatars[0].label\"\n          size=\"sm\"\n        />\n        <div class=\"truncate\" v-if=\"!hideName\">{{ _avatars[0].label }}</div>\n      </Tooltip>\n    </div>\n    <Tooltip\n      v-for=\"avatar in _avatars\"\n      v-else\n      :key=\"avatar.name\"\n      :text=\"avatar.name\"\n    >\n      <Avatar\n        class=\"user-avatar -mr-1.5 ring-2 ring-white transition hover:z-10 hover:scale-110\"\n        shape=\"circle\"\n        :image=\"avatar.image\"\n        :label=\"avatar.label\"\n        :size=\"size\"\n        :data-name=\"avatar.name\"\n      />\n    </Tooltip>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { useUserStore } from \"@/stores/user\";\nimport { Avatar, Tooltip } from \"frappe-ui\";\nimport { computed } from \"vue\";\n\nconst props = defineProps({\n  avatars: {\n    type: String,\n  },\n  size: {\n    type: String,\n    default: \"md\",\n  },\n  hideName: {\n    type: Boolean,\n    default: false,\n  },\n});\nconst { getUser } = useUserStore();\nconst _avatars = computed(() => {\n  let result: any;\n  try {\n    result = JSON.parse(props.avatars);\n  } catch (error) {\n    result = props.avatars;\n  }\n  if (!result) return;\n  if (result[0]?.hasOwnProperty(\"name\")) {\n    return result;\n  }\n  result = result.map((a: string) => {\n    let _user = getUser(a);\n    return {\n      name: _user.name,\n      label: _user.full_name,\n      image: _user.user_image,\n    };\n  });\n  return result;\n});\n</script>\n"],"names":["props","__props","scrollableDiv","ref","maskStyle","side","computed","updateMaskStyle","scrollWidth","clientWidth","scrollHeight","clientHeight","scrollTop","scrollLeft","onMounted","_createElementBlock","_renderSlot","_ctx","getUser","useUserStore","_avatars","result","_a","a","_user","_openBlock","_hoisted_1","_b","_hoisted_2","_createVNode","_unref","Tooltip","Avatar","_hoisted_3","_toDisplayString","_Fragment","_renderList","avatar","_createBlock"],"mappings":"sXAYA,MAAMA,EAAQC,EAWRC,EAAgBC,EAAI,IAAI,EACxBC,EAAYD,EAAI,MAAM,EACtBE,EAAOC,EAAS,IACpBN,EAAM,aAAe,aAAe,QAAU,QAAA,EAGhD,SAASO,GAAkB,CACzB,GAAI,CAACL,EAAc,MAAO,OAEtB,IAAAM,EAAcN,EAAc,MAAM,YAClCO,EAAcP,EAAc,MAAM,YAClCQ,EAAeR,EAAc,MAAM,aACnCS,EAAeT,EAAc,MAAM,aACnCU,EAAYV,EAAc,MAAM,UAChCW,EAAaX,EAAc,MAAM,WAErCE,EAAU,MAAQ,QAIfC,EAAK,OAAS,SAAWG,EAAcC,GACvCJ,EAAK,OAAS,UAAYK,EAAeC,KAEhCP,EAAA,MAAQ,sBAAsBC,EAAK,KAAK,wBAAwBL,EAAM,UAAU,yBAAyBA,EAAM,UAAU,uBAKlIK,EAAK,OAAS,SAAWQ,EAAa,GAAKJ,GAC3CJ,EAAK,OAAS,UAAYO,EAAYD,GAAgBD,KAEvDN,EAAU,MAAQ,sBAAsBC,EAAK,KAAK,wBAAwBL,EAAM,UAAU,kCAKzFK,EAAK,OAAS,SAAWQ,GAAc,GACvCR,EAAK,OAAS,UAAYO,GAAa,KAExCR,EAAU,MAAQ,sBAAsBC,EAAK,KAAK,uBAAuBL,EAAM,UAAU,4BAIxFK,EAAK,OAAS,SAAWI,GAAeD,GACxCH,EAAK,OAAS,UAAYM,GAAgBD,KAE3CN,EAAU,MAAQ,OAEtB,CAEA,OAAAU,EAAU,IAAM,WAAW,IAAMP,EAAgB,EAAG,GAAG,CAAC,cAxEtDQ,EAMM,MAAA,SALA,gBAAJ,IAAIb,EACH,sBAAqBE,EAAS,KAAA,EAAA,EAC9B,SAAQG,CAAA,GAETS,EAAaC,EAAA,OAAA,SAAA,2RC6BjB,MAAMjB,EAAQC,EAaR,CAAE,QAAAiB,GAAYC,IACdC,EAAWd,EAAS,IAAM,OAC1B,IAAAe,EACA,GAAA,CACOA,EAAA,KAAK,MAAMrB,EAAM,OAAO,OACnB,CACdqB,EAASrB,EAAM,OACjB,CACA,GAAKqB,EACL,OAAIC,EAAAD,EAAO,CAAC,IAAR,MAAAC,EAAW,eAAe,UAGrBD,EAAAA,EAAO,IAAKE,GAAc,CAC7B,IAAAC,EAAQN,EAAQK,CAAC,EACd,MAAA,CACL,KAAMC,EAAM,KACZ,MAAOA,EAAM,UACb,MAAOA,EAAM,UAAA,CACf,CACD,GACMH,CAAA,CACR,wBApEY,OAAAC,EAAAF,EAAA,QAAA,MAAAE,EAAU,QAArBG,IAAAV,EA2BM,MA3BNW,EA2BM,GA1BOC,EAAAP,EAAA,QAAA,YAAAO,EAAU,SAAM,GAA3BF,IAAAV,EAUM,MAVNa,EAUM,CATJC,EAQUC,EAAAC,CAAA,EAAA,CARA,KAAMX,EAAQ,MAAA,CAAA,EAAI,IAAA,aAC1B,IAKE,CALFS,EAKEC,EAAAE,CAAA,EAAA,CAJA,MAAM,SACL,MAAOZ,EAAQ,MAAA,CAAA,EAAI,MACnB,MAAOA,EAAQ,MAAA,CAAA,EAAI,MACpB,KAAK,gCAEsBnB,EAAQ,mBAArCwB,IAAAV,EAAoE,MAApEkB,EAA0CC,EAAAd,EAAA,SAAY,KAAK,EAAA,CAAA,gCAG/DL,EAcUoB,EAAA,CAAA,IAAA,CAAA,EAAAC,EAbShB,EAAQ,MAAlBiB,QADTC,EAcUR,EAAAC,CAAA,EAAA,CAXP,IAAKM,EAAO,KACZ,KAAMA,EAAO,IAAA,aAEd,IAOE,CAPFR,EAOEC,EAAAE,CAAA,EAAA,CANA,MAAM,8EACN,MAAM,SACL,MAAOK,EAAO,MACd,MAAOA,EAAO,MACd,KAAMpC,EAAI,KACV,YAAWoC,EAAO,IAAA"}