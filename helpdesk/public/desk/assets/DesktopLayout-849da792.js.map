{"version":3,"file":"DesktopLayout-849da792.js","sources":["../../../../node_modules/@headlessui/vue/dist/utils/get-text-value.js","../../../../node_modules/@headlessui/vue/dist/hooks/use-text-value.js","../../../../node_modules/@headlessui/vue/dist/components/menu/menu.js","../../../../node_modules/ohash/dist/shared/ohash.D__AXeF1.mjs","../../../../node_modules/reka-ui/dist/shared/arrays.js","../../../../node_modules/reka-ui/dist/shared/useFilter.js","../../../../node_modules/reka-ui/dist/shared/useFormControl.js","../../../../node_modules/reka-ui/dist/shared/useKbd.js","../../../../node_modules/reka-ui/dist/VisuallyHidden/VisuallyHiddenInputBubble.js","../../../../node_modules/reka-ui/dist/VisuallyHidden/VisuallyHiddenInput.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxAnchor.js","../../../../node_modules/reka-ui/dist/Listbox/utils.js","../../../../node_modules/reka-ui/dist/Listbox/ListboxRoot.js","../../../../node_modules/reka-ui/dist/Listbox/ListboxContent.js","../../../../node_modules/reka-ui/dist/Listbox/ListboxFilter.js","../../../../node_modules/reka-ui/dist/Listbox/ListboxGroup.js","../../../../node_modules/reka-ui/dist/Listbox/ListboxItem.js","../../../../node_modules/reka-ui/dist/Listbox/ListboxItemIndicator.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxRoot.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxContentImpl.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxContent.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxEmpty.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxGroup.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxInput.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxItem.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxItemIndicator.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxLabel.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxPortal.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxTrigger.js","../../../../node_modules/reka-ui/dist/shared/useNonce.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxViewport.js","../../../../frappe-ui/src/components/Combobox/Combobox.vue","../../../../frappe-ui/frappe/Icons/StepsIcon.vue","../../../../frappe-ui/frappe/Icons/MinimizeIcon.vue","../../../../frappe-ui/frappe/Icons/MaximizeIcon.vue","../../../../frappe-ui/frappe/Icons/HelpIcon.vue","../../../../frappe-ui/frappe/Onboarding/OnboardingSteps.vue","../../../../frappe-ui/frappe/HelpCenter/HelpCenter.vue","../../../../frappe-ui/frappe/Help/HelpModal.vue","../../../../frappe-ui/frappe/Onboarding/GettingStartedBanner.vue","../../../../frappe-ui/frappe/Onboarding/IntermediateStepModal.vue","../../../../frappe-ui/frappe/Icons/LightningIcon.vue","../../../../frappe-ui/frappe/Billing/TrialBanner.vue","../../../../desk/src/components/command-palette/CPGroup.vue","../../../../desk/src/components/command-palette/CP.vue","../../../../desk/src/components/icons/FieldDependencyIcon.vue","../../../../desk/src/components/icons/FrappeCloudIcon.vue","../../../../desk/src/components/icons/InviteCustomer.vue","../../../../desk/src/components/notifications/Notifications.vue","../../../../desk/src/components/frappe-ui/Dropdown.vue","../../../../desk/src/components/layouts/AppHeader.vue","../../../../desk/src/components/modals/ShortcutsModal.vue","../../../../desk/src/components/ConfirmDialog.vue","../../../../desk/src/components/desk/global/AddNewAgentsDialog.vue","../../../../desk/src/components/Settings/SettingsLayoutHeader.vue","../../../../desk/src/components/Settings/AgentCard.vue","../../../../desk/src/components/Settings/agents.ts","../../../../desk/src/components/Settings/Agents.vue","../../../../desk/src/components/Settings/Branding.vue","../../../../desk/src/assets/images/gmail.png","../../../../desk/src/assets/images/outlook.png","../../../../desk/src/assets/images/sendgrid.png","../../../../desk/src/assets/images/sparkpost.webp","../../../../desk/src/assets/images/yahoo.png","../../../../desk/src/assets/images/yandex.png","../../../../desk/src/assets/images/frappe-mail.svg","../../../../desk/src/components/Settings/emailConfig.ts","../../../../desk/src/components/Settings/EmailProviderIcon.vue","../../../../desk/src/components/Settings/EmailAdd.vue","../../../../desk/src/components/Settings/EmailAccountCard.vue","../../../../desk/src/components/Settings/EmailAccountList.vue","../../../../desk/src/components/Settings/EmailEdit.vue","../../../../desk/src/components/Settings/EmailConfig.vue","../../../../desk/src/stores/assignmentRules.ts","../../../../desk/src/components/Settings/Teams/TeamEdit.vue","../../../../desk/src/components/Settings/NewTeamModal.vue","../../../../desk/src/components/Settings/Teams/TeamsList.vue","../../../../desk/src/components/Settings/Teams/TeamsConfig.vue","../../../../desk/src/stores/sla.ts","../../../../desk/src/components/Settings/Sla/SlaPolicyListItem.vue","../../../../desk/src/components/Settings/Sla/SlaPolicyList.vue","../../../../desk/src/components/Settings/Sla/SlaPolicies.vue","../../../../desk/src/components/conditions-filter/filterableFields.ts","../../../../desk/src/components/conditions-filter/CFCondition.vue","../../../../desk/src/components/conditions-filter/CFConditions.vue","../../../../desk/src/components/Settings/Sla/SlaAssignmentConditions.vue","../../../../desk/src/components/Settings/Sla/Modals/WorkDayModal.vue","../../../../desk/src/components/Settings/Sla/SlaWorkDaysListItem.vue","../../../../desk/src/components/Settings/Sla/SlaWorkDaysList.vue","../../../../desk/src/stores/holidayList.ts","../../../../desk/src/components/Settings/Sla/SlaHolidays.vue","../../../../desk/src/components/frappe-ui/DurationPicker.vue","../../../../desk/src/components/Settings/Sla/utils.ts","../../../../desk/src/components/Settings/Sla/Modals/EditResponseResolutionModal.vue","../../../../desk/src/components/Settings/Sla/SlaPriorityListItem.vue","../../../../desk/src/components/Settings/Sla/SlaPriorityList.vue","../../../../desk/src/components/Settings/Sla/SlaStatusList.vue","../../../../desk/src/components/Settings/Sla/SlaPolicyView.vue","../../../../desk/src/components/Settings/Sla/Sla.vue","../../../../desk/src/components/Settings/Holiday/HolidayListItem.vue","../../../../desk/src/components/Settings/Holiday/HolidayList.vue","../../../../desk/src/components/Settings/Holiday/Holidays.vue","../../../../desk/src/components/Settings/Holiday/Modals/AddHolidayModal.vue","../../../../desk/src/components/Settings/Holiday/HolidaysTableView.vue","../../../../node_modules/dayjs/plugin/isSameOrBefore.js","../../../../node_modules/dayjs/plugin/weekday.js","../../../../desk/src/components/Settings/Holiday/utils.ts","../../../../desk/src/components/Settings/Holiday/RecurringHolidaysList.vue","../../../../desk/src/components/Settings/Holiday/HLCalender.vue","../../../../desk/src/components/Settings/Holiday/HolidaysCalendarView.vue","../../../../desk/src/components/Settings/Holiday/HolidayView.vue","../../../../desk/src/components/Settings/Holiday/Holiday.vue","../../../../desk/src/components/Settings/FieldDependency/fieldDependency.ts","../../../../desk/src/components/DocumentationButton.vue","../../../../desk/src/components/frappe-ui/MultiSelectCombobox.vue","../../../../desk/src/components/Settings/FieldDependency/FieldDependencyCriteria.vue","../../../../desk/src/components/Settings/FieldDependency/FieldDependencyFieldsSelection.vue","../../../../desk/src/components/Settings/FieldDependency/FieldDependencyValueSelection.vue","../../../../desk/src/components/Settings/FieldDependency/FieldDependency.vue","../../../../desk/src/components/Settings/FieldDependency/FieldDependencyList.vue","../../../../desk/src/components/Settings/FieldDependency/FieldDependencyConfig.vue","../../../../desk/src/components/Settings/InviteAgents.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentRuleListItem.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentRulesListView.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentRulesList.vue","../../../../desk/src/components/Settings/Assignment Rules/AssigneeSearch.vue","../../../../desk/src/components/Settings/Assignment Rules/AssigneeRules.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentRulesSection.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentScheduleItem.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentSchedule.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentRuleView.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentRules.vue","../../../../desk/src/components/Password.vue","../../../../desk/src/components/Settings/Telephony/utils.ts","../../../../desk/src/components/Settings/Telephony/Telephony.vue","../../../../desk/src/components/Settings/EmailNotifications/NotificationList.vue","../../../../desk/src/components/Settings/EmailNotifications/Notification.vue","../../../../desk/src/components/Settings/EmailNotifications/Acknowledgement.vue","../../../../desk/src/components/Settings/EmailNotifications/ReplyViaAgent.vue","../../../../desk/src/components/Settings/EmailNotifications/ShareFeedback.vue","../../../../desk/src/components/Settings/EmailNotifications/ReplyToAgents.vue","../../../../desk/src/components/Settings/EmailNotifications/EmailNotifications.vue","../../../../desk/src/components/Settings/settingsModal.ts","../../../../desk/src/components/Settings/SettingsModal.vue","../../../../desk/src/composables/fc.ts","../../../../desk/src/components/layouts/Sidebar.vue","../../../../desk/src/components/layouts/DesktopLayout.vue"],"sourcesContent":["let a=/([\\u2700-\\u27BF]|[\\uE000-\\uF8FF]|\\uD83C[\\uDC00-\\uDFFF]|\\uD83D[\\uDC00-\\uDFFF]|[\\u2011-\\u26FF]|\\uD83E[\\uDD10-\\uDDFF])/g;function o(e){var r,i;let n=(r=e.innerText)!=null?r:\"\",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return n;let u=!1;for(let f of t.querySelectorAll('[hidden],[aria-hidden],[role=\"img\"]'))f.remove(),u=!0;let l=u?(i=t.innerText)!=null?i:\"\":n;return a.test(l)&&(l=l.replace(a,\"\")),l}function g(e){let n=e.getAttribute(\"aria-label\");if(typeof n==\"string\")return n.trim();let t=e.getAttribute(\"aria-labelledby\");if(t){let u=t.split(\" \").map(l=>{let r=document.getElementById(l);if(r){let i=r.getAttribute(\"aria-label\");return typeof i==\"string\"?i.trim():o(r).trim()}return null}).filter(Boolean);if(u.length>0)return u.join(\", \")}return o(e).trim()}export{g as getTextValue};\n","import{ref as n}from\"vue\";import{dom as o}from'../utils/dom.js';import{getTextValue as i}from'../utils/get-text-value.js';function p(a){let t=n(\"\"),r=n(\"\");return()=>{let e=o(a);if(!e)return\"\";let l=e.innerText;if(t.value===l)return r.value;let u=i(e).trim().toLowerCase();return t.value=l,r.value=u,u}}export{p as useTextValue};\n","import{computed as y,defineComponent as T,inject as K,nextTick as x,onMounted as N,onUnmounted as j,provide as L,ref as R,watchEffect as B}from\"vue\";import{useId as w}from'../../hooks/use-id.js';import{useOutsideClick as U}from'../../hooks/use-outside-click.js';import{useResolveButtonType as $}from'../../hooks/use-resolve-button-type.js';import{useTextValue as V}from'../../hooks/use-text-value.js';import{useTrackedPointer as H}from'../../hooks/use-tracked-pointer.js';import{useTreeWalker as Q}from'../../hooks/use-tree-walker.js';import{State as D,useOpenClosed as _,useOpenClosedProvider as q}from'../../internal/open-closed.js';import{Keys as c}from'../../keyboard.js';import{calculateActiveIndex as W,Focus as S}from'../../utils/calculate-active-index.js';import{dom as m}from'../../utils/dom.js';import{Focus as E,FocusableMode as J,focusFrom as z,isFocusableElement as G,restoreFocusIfNecessary as k,sortByDomNode as X}from'../../utils/focus-management.js';import{match as Y}from'../../utils/match.js';import{Features as F,render as P}from'../../utils/render.js';var Z=(i=>(i[i.Open=0]=\"Open\",i[i.Closed=1]=\"Closed\",i))(Z||{}),ee=(i=>(i[i.Pointer=0]=\"Pointer\",i[i.Other=1]=\"Other\",i))(ee||{});function te(o){requestAnimationFrame(()=>requestAnimationFrame(o))}let A=Symbol(\"MenuContext\");function O(o){let M=K(A,null);if(M===null){let i=new Error(`<${o} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,O),i}return M}let ge=T({name:\"Menu\",props:{as:{type:[Object,String],default:\"template\"}},setup(o,{slots:M,attrs:i}){let I=R(1),p=R(null),e=R(null),r=R([]),f=R(\"\"),d=R(null),g=R(1);function b(t=a=>a){let a=d.value!==null?r.value[d.value]:null,n=X(t(r.value.slice()),v=>m(v.dataRef.domRef)),s=a?n.indexOf(a):null;return s===-1&&(s=null),{items:n,activeItemIndex:s}}let l={menuState:I,buttonRef:p,itemsRef:e,items:r,searchQuery:f,activeItemIndex:d,activationTrigger:g,closeMenu:()=>{I.value=1,d.value=null},openMenu:()=>I.value=0,goToItem(t,a,n){let s=b(),v=W(t===S.Specific?{focus:S.Specific,id:a}:{focus:t},{resolveItems:()=>s.items,resolveActiveIndex:()=>s.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.disabled});f.value=\"\",d.value=v,g.value=n!=null?n:1,r.value=s.items},search(t){let n=f.value!==\"\"?0:1;f.value+=t.toLowerCase();let v=(d.value!==null?r.value.slice(d.value+n).concat(r.value.slice(0,d.value+n)):r.value).find(h=>h.dataRef.textValue.startsWith(f.value)&&!h.dataRef.disabled),u=v?r.value.indexOf(v):-1;u===-1||u===d.value||(d.value=u,g.value=1)},clearSearch(){f.value=\"\"},registerItem(t,a){let n=b(s=>[...s,{id:t,dataRef:a}]);r.value=n.items,d.value=n.activeItemIndex,g.value=1},unregisterItem(t){let a=b(n=>{let s=n.findIndex(v=>v.id===t);return s!==-1&&n.splice(s,1),n});r.value=a.items,d.value=a.activeItemIndex,g.value=1}};return U([p,e],(t,a)=>{var n;l.closeMenu(),G(a,J.Loose)||(t.preventDefault(),(n=m(p))==null||n.focus())},y(()=>I.value===0)),L(A,l),q(y(()=>Y(I.value,{[0]:D.Open,[1]:D.Closed}))),()=>{let t={open:I.value===0,close:l.closeMenu};return P({ourProps:{},theirProps:o,slot:t,slots:M,attrs:i,name:\"Menu\"})}}}),Se=T({name:\"MenuButton\",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:\"button\"},id:{type:String,default:null}},setup(o,{attrs:M,slots:i,expose:I}){var b;let p=(b=o.id)!=null?b:`headlessui-menu-button-${w()}`,e=O(\"MenuButton\");I({el:e.buttonRef,$el:e.buttonRef});function r(l){switch(l.key){case c.Space:case c.Enter:case c.ArrowDown:l.preventDefault(),l.stopPropagation(),e.openMenu(),x(()=>{var t;(t=m(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(S.First)});break;case c.ArrowUp:l.preventDefault(),l.stopPropagation(),e.openMenu(),x(()=>{var t;(t=m(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(S.Last)});break}}function f(l){switch(l.key){case c.Space:l.preventDefault();break}}function d(l){o.disabled||(e.menuState.value===0?(e.closeMenu(),x(()=>{var t;return(t=m(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(l.preventDefault(),e.openMenu(),te(()=>{var t;return(t=m(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let g=$(y(()=>({as:o.as,type:M.type})),e.buttonRef);return()=>{var n;let l={open:e.menuState.value===0},{...t}=o,a={ref:e.buttonRef,id:p,type:g.value,\"aria-haspopup\":\"menu\",\"aria-controls\":(n=m(e.itemsRef))==null?void 0:n.id,\"aria-expanded\":e.menuState.value===0,onKeydown:r,onKeyup:f,onClick:d};return P({ourProps:a,theirProps:t,slot:l,attrs:M,slots:i,name:\"MenuButton\"})}}}),Me=T({name:\"MenuItems\",props:{as:{type:[Object,String],default:\"div\"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(o,{attrs:M,slots:i,expose:I}){var l;let p=(l=o.id)!=null?l:`headlessui-menu-items-${w()}`,e=O(\"MenuItems\"),r=R(null);I({el:e.itemsRef,$el:e.itemsRef}),Q({container:y(()=>m(e.itemsRef)),enabled:y(()=>e.menuState.value===0),accept(t){return t.getAttribute(\"role\")===\"menuitem\"?NodeFilter.FILTER_REJECT:t.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute(\"role\",\"none\")}});function f(t){var a;switch(r.value&&clearTimeout(r.value),t.key){case c.Space:if(e.searchQuery.value!==\"\")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case c.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let s=e.items.value[e.activeItemIndex.value];(a=m(s.dataRef.domRef))==null||a.click()}e.closeMenu(),k(m(e.buttonRef));break;case c.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(S.Next);case c.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(S.Previous);case c.Home:case c.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(S.First);case c.End:case c.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(S.Last);case c.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),x(()=>{var n;return(n=m(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})});break;case c.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),x(()=>z(m(e.buttonRef),t.shiftKey?E.Previous:E.Next));break;default:t.key.length===1&&(e.search(t.key),r.value=setTimeout(()=>e.clearSearch(),350));break}}function d(t){switch(t.key){case c.Space:t.preventDefault();break}}let g=_(),b=y(()=>g!==null?(g.value&D.Open)===D.Open:e.menuState.value===0);return()=>{var s,v;let t={open:e.menuState.value===0},{...a}=o,n={\"aria-activedescendant\":e.activeItemIndex.value===null||(s=e.items.value[e.activeItemIndex.value])==null?void 0:s.id,\"aria-labelledby\":(v=m(e.buttonRef))==null?void 0:v.id,id:p,onKeydown:f,onKeyup:d,role:\"menu\",tabIndex:0,ref:e.itemsRef};return P({ourProps:n,theirProps:a,slot:t,attrs:M,slots:i,features:F.RenderStrategy|F.Static,visible:b.value,name:\"MenuItems\"})}}}),be=T({name:\"MenuItem\",inheritAttrs:!1,props:{as:{type:[Object,String],default:\"template\"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(o,{slots:M,attrs:i,expose:I}){var v;let p=(v=o.id)!=null?v:`headlessui-menu-item-${w()}`,e=O(\"MenuItem\"),r=R(null);I({el:r,$el:r});let f=y(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===p:!1),d=V(r),g=y(()=>({disabled:o.disabled,get textValue(){return d()},domRef:r}));N(()=>e.registerItem(p,g)),j(()=>e.unregisterItem(p)),B(()=>{e.menuState.value===0&&f.value&&e.activationTrigger.value!==0&&x(()=>{var u,h;return(h=(u=m(r))==null?void 0:u.scrollIntoView)==null?void 0:h.call(u,{block:\"nearest\"})})});function b(u){if(o.disabled)return u.preventDefault();e.closeMenu(),k(m(e.buttonRef))}function l(){if(o.disabled)return e.goToItem(S.Nothing);e.goToItem(S.Specific,p)}let t=H();function a(u){t.update(u)}function n(u){t.wasMoved(u)&&(o.disabled||f.value||e.goToItem(S.Specific,p,0))}function s(u){t.wasMoved(u)&&(o.disabled||f.value&&e.goToItem(S.Nothing))}return()=>{let{disabled:u,...h}=o,C={active:f.value,disabled:u,close:e.closeMenu};return P({ourProps:{id:p,ref:r,role:\"menuitem\",tabIndex:u===!0?void 0:-1,\"aria-disabled\":u===!0?!0:void 0,onClick:b,onFocus:l,onPointerenter:a,onMouseenter:a,onPointermove:n,onMousemove:n,onPointerleave:s,onMouseleave:s},theirProps:{...i,...h},slot:C,attrs:i,slots:M,name:\"MenuItem\"})}}});export{ge as Menu,Se as MenuButton,be as MenuItem,Me as MenuItems};\n","function serialize(o){return typeof o==\"string\"?`'${o}'`:new c().serialize(o)}const c=/*@__PURE__*/function(){class o{#t=new Map;compare(t,r){const e=typeof t,n=typeof r;return e===\"string\"&&n===\"string\"?t.localeCompare(r):e===\"number\"&&n===\"number\"?t-r:String.prototype.localeCompare.call(this.serialize(t,true),this.serialize(r,true))}serialize(t,r){if(t===null)return \"null\";switch(typeof t){case \"string\":return r?t:`'${t}'`;case \"bigint\":return `${t}n`;case \"object\":return this.$object(t);case \"function\":return this.$function(t)}return String(t)}serializeObject(t){const r=Object.prototype.toString.call(t);if(r!==\"[object Object]\")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),t);const e=t.constructor,n=e===Object||e===void 0?\"\":e.name;if(n!==\"\"&&globalThis[n]===e)return this.serializeBuiltInType(n,t);if(typeof t.toJSON==\"function\"){const i=t.toJSON();return n+(i!==null&&typeof i==\"object\"?this.$object(i):`(${this.serialize(i)})`)}return this.serializeObjectEntries(n,Object.entries(t))}serializeBuiltInType(t,r){const e=this[\"$\"+t];if(e)return e.call(this,r);if(typeof r?.entries==\"function\")return this.serializeObjectEntries(t,r.entries());throw new Error(`Cannot serialize ${t}`)}serializeObjectEntries(t,r){const e=Array.from(r).sort((i,a)=>this.compare(i[0],a[0]));let n=`${t}{`;for(let i=0;i<e.length;i++){const[a,l]=e[i];n+=`${this.serialize(a,true)}:${this.serialize(l)}`,i<e.length-1&&(n+=\",\");}return n+\"}\"}$object(t){let r=this.#t.get(t);return r===void 0&&(this.#t.set(t,`#${this.#t.size}`),r=this.serializeObject(t),this.#t.set(t,r)),r}$function(t){const r=Function.prototype.toString.call(t);return r.slice(-15)===\"[native code] }\"?`${t.name||\"\"}()[native]`:`${t.name}(${t.length})${r.replace(/\\s*\\n\\s*/g,\"\")}`}$Array(t){let r=\"[\";for(let e=0;e<t.length;e++)r+=this.serialize(t[e]),e<t.length-1&&(r+=\",\");return r+\"]\"}$Date(t){try{return `Date(${t.toISOString()})`}catch{return \"Date(null)\"}}$ArrayBuffer(t){return `ArrayBuffer[${new Uint8Array(t).join(\",\")}]`}$Set(t){return `Set${this.$Array(Array.from(t).sort((r,e)=>this.compare(r,e)))}`}$Map(t){return this.serializeObjectEntries(\"Map\",t.entries())}}for(const s of [\"Error\",\"RegExp\",\"URL\"])o.prototype[\"$\"+s]=function(t){return `${s}(${t})`};for(const s of [\"Int8Array\",\"Uint8Array\",\"Uint8ClampedArray\",\"Int16Array\",\"Uint16Array\",\"Int32Array\",\"Uint32Array\",\"Float32Array\",\"Float64Array\"])o.prototype[\"$\"+s]=function(t){return `${s}[${t.join(\",\")}]`};for(const s of [\"BigInt64Array\",\"BigUint64Array\"])o.prototype[\"$\"+s]=function(t){return `${s}[${t.join(\"n,\")}${t.length>0?\"n\":\"\"}]`};return o}();\n\nfunction isEqual(object1, object2) {\n  if (object1 === object2) {\n    return true;\n  }\n  if (serialize(object1) === serialize(object2)) {\n    return true;\n  }\n  return false;\n}\n\nexport { isEqual as i, serialize as s };\n","import { isEqual } from \"ohash\";\n\n//#region src/shared/arrays.ts\n/**\n* The function `areEqual` compares two arrays and returns true if they are equal in length and have\n* the same elements at corresponding indexes.\n* @param {any[]} arrayA - An array of any type of elements.\n* @param {any[]} arrayB - It looks like you haven't provided the value for `arrayB`. Could you please\n* provide the arrayB value so that I can assist you further?\n* @returns The function `areEqual` is returning a boolean value, either `true` if the two input arrays\n* `arrayA` and `arrayB` are equal, or `false` if they are not equal.\n*/\nfunction areEqual(arrayA, arrayB) {\n\tif (arrayA.length !== arrayB.length) return false;\n\tfor (let index = 0; index < arrayA.length; index++) if (arrayA[index] !== arrayB[index]) return false;\n\treturn true;\n}\n/**\n* The function `findValuesBetween` takes an array and two values, then returns a subarray containing\n* elements between the first occurrence of the start value and the first occurrence of the end value\n* in the array.\n* @param {T[]} array - The `array` parameter is an array of values of type `T`.\n* @param {T} start - The `start` parameter is the value that marks the beginning of the range you want\n* to find in the array.\n* @param {T} end - The `end` parameter in the `findValuesBetween` function represents the end value\n* that you want to find in the array. This function will return a subarray of values that are between\n* the `start` and `end` values in the original array.\n* @returns The `findValuesBetween` function returns an array of values from the input array that are\n* between the `start` and `end` values (inclusive). If either the `start` or `end` values are not\n* found in the input array, an empty array is returned.\n*/\nfunction findValuesBetween(array, start, end) {\n\tconst startIndex = array.findIndex((i) => isEqual(i, start));\n\tconst endIndex = array.findIndex((i) => isEqual(i, end));\n\tif (startIndex === -1 || endIndex === -1) return [];\n\tconst [minIndex, maxIndex] = [startIndex, endIndex].sort((a, b) => a - b);\n\treturn array.slice(minIndex, maxIndex + 1);\n}\n\n//#endregion\nexport { areEqual, findValuesBetween };\n//# sourceMappingURL=arrays.js.map","import { computed, unref } from \"vue\";\n\n//#region src/shared/useFilter.ts\n/**\n* Provides locale-aware string filtering functions.\n* Uses `Intl.Collator` for comparison to ensure proper Unicode handling.\n*\n* @param options - Optional collator options to customize comparison behavior.\n*   See [Intl.CollatorOptions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Collator/Collator#options) for details.\n* @returns An object with methods to check if a string starts with, ends with, or contains a substring.\n*\n* @example\n* const { startsWith, endsWith, contains } = useFilter();\n*\n* startsWith('hello', 'he'); // true\n* endsWith('hello', 'lo'); // true\n* contains('hello', 'ell'); // true\n*/\nfunction useFilter(options) {\n\tconst computedOptions = computed(() => unref(options));\n\tconst collator = computed(() => new Intl.Collator(\"en\", {\n\t\tusage: \"search\",\n\t\t...computedOptions.value\n\t}));\n\tconst startsWith = (string, substring) => {\n\t\tif (substring.length === 0) return true;\n\t\tstring = string.normalize(\"NFC\");\n\t\tsubstring = substring.normalize(\"NFC\");\n\t\treturn collator.value.compare(string.slice(0, substring.length), substring) === 0;\n\t};\n\tconst endsWith = (string, substring) => {\n\t\tif (substring.length === 0) return true;\n\t\tstring = string.normalize(\"NFC\");\n\t\tsubstring = substring.normalize(\"NFC\");\n\t\treturn collator.value.compare(string.slice(-substring.length), substring) === 0;\n\t};\n\tconst contains = (string, substring) => {\n\t\tif (substring.length === 0) return true;\n\t\tstring = string.normalize(\"NFC\");\n\t\tsubstring = substring.normalize(\"NFC\");\n\t\tlet scan = 0;\n\t\tconst sliceLen = substring.length;\n\t\tfor (; scan + sliceLen <= string.length; scan++) {\n\t\t\tconst slice = string.slice(scan, scan + sliceLen);\n\t\t\tif (collator.value.compare(substring, slice) === 0) return true;\n\t\t}\n\t\treturn false;\n\t};\n\treturn {\n\t\tstartsWith,\n\t\tendsWith,\n\t\tcontains\n\t};\n}\n\n//#endregion\nexport { useFilter };\n//# sourceMappingURL=useFilter.js.map","import { computed } from \"vue\";\nimport { toValue as toValue$1, unrefElement } from \"@vueuse/core\";\n\n//#region src/shared/useFormControl.ts\nfunction useFormControl(el) {\n\treturn computed(() => toValue$1(el) ? Boolean(unrefElement(el)?.closest(\"form\")) : true);\n}\n\n//#endregion\nexport { useFormControl };\n//# sourceMappingURL=useFormControl.js.map","//#region src/shared/useKbd.ts\nfunction useKbd() {\n\treturn {\n\t\tALT: \"Alt\",\n\t\tARROW_DOWN: \"ArrowDown\",\n\t\tARROW_LEFT: \"ArrowLeft\",\n\t\tARROW_RIGHT: \"ArrowRight\",\n\t\tARROW_UP: \"ArrowUp\",\n\t\tBACKSPACE: \"Backspace\",\n\t\tCAPS_LOCK: \"CapsLock\",\n\t\tCONTROL: \"Control\",\n\t\tDELETE: \"Delete\",\n\t\tEND: \"End\",\n\t\tENTER: \"Enter\",\n\t\tESCAPE: \"Escape\",\n\t\tF1: \"F1\",\n\t\tF10: \"F10\",\n\t\tF11: \"F11\",\n\t\tF12: \"F12\",\n\t\tF2: \"F2\",\n\t\tF3: \"F3\",\n\t\tF4: \"F4\",\n\t\tF5: \"F5\",\n\t\tF6: \"F6\",\n\t\tF7: \"F7\",\n\t\tF8: \"F8\",\n\t\tF9: \"F9\",\n\t\tHOME: \"Home\",\n\t\tMETA: \"Meta\",\n\t\tPAGE_DOWN: \"PageDown\",\n\t\tPAGE_UP: \"PageUp\",\n\t\tSHIFT: \"Shift\",\n\t\tSPACE: \" \",\n\t\tTAB: \"Tab\",\n\t\tCTRL: \"Control\",\n\t\tASTERISK: \"*\",\n\t\tSPACE_CODE: \"Space\"\n\t};\n}\n\n//#endregion\nexport { useKbd };\n//# sourceMappingURL=useKbd.js.map","import { usePrimitiveElement } from \"../Primitive/usePrimitiveElement.js\";\nimport { VisuallyHidden_default } from \"./VisuallyHidden.js\";\nimport { computed, createBlock, defineComponent, mergeProps, openBlock, watch } from \"vue\";\n\n//#region src/VisuallyHidden/VisuallyHiddenInputBubble.vue?vue&type=script&setup=true&lang.ts\nvar VisuallyHiddenInputBubble_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\tinheritAttrs: false,\n\t__name: \"VisuallyHiddenInputBubble\",\n\tprops: {\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tvalue: {\n\t\t\ttype: null,\n\t\t\trequired: true\n\t\t},\n\t\tchecked: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: void 0\n\t\t},\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tfeature: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"fully-hidden\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst { primitiveElement, currentElement } = usePrimitiveElement();\n\t\tconst valueState = computed(() => props.checked ?? props.value);\n\t\twatch(valueState, (cur, prev) => {\n\t\t\tif (!currentElement.value) return;\n\t\t\tconst input = currentElement.value;\n\t\t\tconst inputProto = window.HTMLInputElement.prototype;\n\t\t\tconst descriptor = Object.getOwnPropertyDescriptor(inputProto, \"value\");\n\t\t\tconst setValue = descriptor.set;\n\t\t\tif (setValue && cur !== prev) {\n\t\t\t\tconst inputEvent = new Event(\"input\", { bubbles: true });\n\t\t\t\tconst changeEvent = new Event(\"change\", { bubbles: true });\n\t\t\t\tsetValue.call(input, cur);\n\t\t\t\tinput.dispatchEvent(inputEvent);\n\t\t\t\tinput.dispatchEvent(changeEvent);\n\t\t\t}\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(VisuallyHidden_default, mergeProps({\n\t\t\t\tref_key: \"primitiveElement\",\n\t\t\t\tref: primitiveElement\n\t\t\t}, {\n\t\t\t\t...props,\n\t\t\t\t..._ctx.$attrs\n\t\t\t}, { as: \"input\" }), null, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/VisuallyHidden/VisuallyHiddenInputBubble.vue\nvar VisuallyHiddenInputBubble_default = VisuallyHiddenInputBubble_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { VisuallyHiddenInputBubble_default };\n//# sourceMappingURL=VisuallyHiddenInputBubble.js.map","import { VisuallyHiddenInputBubble_default } from \"./VisuallyHiddenInputBubble.js\";\nimport { Fragment, computed, createBlock, createCommentVNode, createElementBlock, defineComponent, mergeProps, openBlock, renderList } from \"vue\";\n\n//#region src/VisuallyHidden/VisuallyHiddenInput.vue?vue&type=script&setup=true&lang.ts\nvar VisuallyHiddenInput_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\tinheritAttrs: false,\n\t__name: \"VisuallyHiddenInput\",\n\tprops: {\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tvalue: {\n\t\t\ttype: null,\n\t\t\trequired: true\n\t\t},\n\t\tchecked: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: void 0\n\t\t},\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tfeature: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"fully-hidden\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst isFormArrayEmptyAndRequired = computed(() => typeof props.value === \"object\" && Array.isArray(props.value) && props.value.length === 0 && props.required);\n\t\tconst parsedValue = computed(() => {\n\t\t\tif (typeof props.value === \"string\" || typeof props.value === \"number\" || typeof props.value === \"boolean\" || props.value === null || props.value === void 0) return [{\n\t\t\t\tname: props.name,\n\t\t\t\tvalue: props.value\n\t\t\t}];\n\t\t\telse if (typeof props.value === \"object\" && Array.isArray(props.value)) return props.value.flatMap((obj, index) => {\n\t\t\t\tif (typeof obj === \"object\") return Object.entries(obj).map(([key, value]) => ({\n\t\t\t\t\tname: `${props.name}[${index}][${key}]`,\n\t\t\t\t\tvalue\n\t\t\t\t}));\n\t\t\t\telse return {\n\t\t\t\t\tname: `${props.name}[${index}]`,\n\t\t\t\t\tvalue: obj\n\t\t\t\t};\n\t\t\t});\n\t\t\telse if (props.value !== null && typeof props.value === \"object\" && !Array.isArray(props.value)) return Object.entries(props.value).map(([key, value]) => ({\n\t\t\t\tname: `${props.name}[${key}]`,\n\t\t\t\tvalue\n\t\t\t}));\n\t\t\treturn [];\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createElementBlock(Fragment, null, [createCommentVNode(\" We render single input if it's required \"), isFormArrayEmptyAndRequired.value ? (openBlock(), createBlock(VisuallyHiddenInputBubble_default, mergeProps({ key: _ctx.name }, {\n\t\t\t\t...props,\n\t\t\t\t..._ctx.$attrs\n\t\t\t}, {\n\t\t\t\tname: _ctx.name,\n\t\t\t\tvalue: _ctx.value\n\t\t\t}), null, 16, [\"name\", \"value\"])) : (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList(parsedValue.value, (parsed) => {\n\t\t\t\treturn openBlock(), createBlock(VisuallyHiddenInputBubble_default, mergeProps({ key: parsed.name }, { ref_for: true }, {\n\t\t\t\t\t...props,\n\t\t\t\t\t..._ctx.$attrs\n\t\t\t\t}, {\n\t\t\t\t\tname: parsed.name,\n\t\t\t\t\tvalue: parsed.value\n\t\t\t\t}), null, 16, [\"name\", \"value\"]);\n\t\t\t}), 128))], 2112);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/VisuallyHidden/VisuallyHiddenInput.vue\nvar VisuallyHiddenInput_default = VisuallyHiddenInput_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { VisuallyHiddenInput_default };\n//# sourceMappingURL=VisuallyHiddenInput.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { PopperAnchor_default } from \"../Popper/PopperAnchor.js\";\nimport { createBlock, createVNode, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxAnchor.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxAnchor_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxAnchor\",\n\tprops: {\n\t\treference: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst { forwardRef } = useForwardExpose();\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(PopperAnchor_default), {\n\t\t\t\t\"as-child\": \"\",\n\t\t\t\treference: _ctx.reference\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(Primitive), mergeProps({\n\t\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\tas: _ctx.as\n\t\t\t\t}, _ctx.$attrs), {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 16, [\"as-child\", \"as\"])]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\"reference\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxAnchor.vue\nvar ComboboxAnchor_default = ComboboxAnchor_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxAnchor_default };\n//# sourceMappingURL=ComboboxAnchor.js.map","import { isEqual } from \"ohash\";\n\n//#region src/Listbox/utils.ts\nfunction queryCheckedElement(parentEl) {\n\treturn parentEl?.querySelector(\"[data-state=checked]\");\n}\nfunction valueComparator(value, currentValue, comparator) {\n\tif (value === void 0) return false;\n\telse if (Array.isArray(value)) return value.some((val) => compare(val, currentValue, comparator));\n\telse return compare(value, currentValue, comparator);\n}\nfunction compare(value, currentValue, comparator) {\n\tif (value === void 0 || currentValue === void 0) return false;\n\tif (typeof value === \"string\") return value === currentValue;\n\tif (typeof comparator === \"function\") return comparator(value, currentValue);\n\tif (typeof comparator === \"string\") return value?.[comparator] === currentValue?.[comparator];\n\treturn isEqual(value, currentValue);\n}\n\n//#endregion\nexport { compare, queryCheckedElement, valueComparator };\n//# sourceMappingURL=utils.js.map","import { findValuesBetween } from \"../shared/arrays.js\";\nimport { createContext } from \"../shared/createContext.js\";\nimport { useDirection } from \"../shared/useDirection.js\";\nimport { useFormControl } from \"../shared/useFormControl.js\";\nimport { useKbd } from \"../shared/useKbd.js\";\nimport { useTypeahead } from \"../shared/useTypeahead.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { usePrimitiveElement } from \"../Primitive/usePrimitiveElement.js\";\nimport { useCollection } from \"../Collection/Collection.js\";\nimport { getFocusIntent } from \"../RovingFocus/utils.js\";\nimport { VisuallyHiddenInput_default } from \"../VisuallyHidden/VisuallyHiddenInput.js\";\nimport { compare } from \"./utils.js\";\nimport { createBlock, createCommentVNode, defineComponent, nextTick, openBlock, ref, renderSlot, toRefs, unref, watch, withCtx } from \"vue\";\nimport { createEventHook, useVModel } from \"@vueuse/core\";\n\n//#region src/Listbox/ListboxRoot.vue?vue&type=script&setup=true&lang.ts\nconst [injectListboxRootContext, provideListboxRootContext] = createContext(\"ListboxRoot\");\nvar ListboxRoot_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ListboxRoot\",\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tdefaultValue: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tmultiple: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\torientation: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"vertical\"\n\t\t},\n\t\tdir: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tselectionBehavior: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"toggle\"\n\t\t},\n\t\thighlightOnHover: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tby: {\n\t\t\ttype: [String, Function],\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\n\t\t\"update:modelValue\",\n\t\t\"highlight\",\n\t\t\"entryFocus\",\n\t\t\"leave\"\n\t],\n\tsetup(__props, { expose: __expose, emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst { multiple, highlightOnHover, orientation, disabled, selectionBehavior, dir: propDir } = toRefs(props);\n\t\tconst { getItems } = useCollection({ isProvider: true });\n\t\tconst { handleTypeaheadSearch } = useTypeahead();\n\t\tconst { primitiveElement, currentElement } = usePrimitiveElement();\n\t\tconst kbd = useKbd();\n\t\tconst dir = useDirection(propDir);\n\t\tconst isFormControl = useFormControl(currentElement);\n\t\tconst firstValue = ref();\n\t\tconst isUserAction = ref(false);\n\t\tconst focusable = ref(true);\n\t\tconst modelValue = useVModel(props, \"modelValue\", emits, {\n\t\t\tdefaultValue: props.defaultValue ?? (multiple.value ? [] : void 0),\n\t\t\tpassive: props.modelValue === void 0,\n\t\t\tdeep: true\n\t\t});\n\t\tfunction onValueChange(val) {\n\t\t\tisUserAction.value = true;\n\t\t\tif (props.multiple) {\n\t\t\t\tconst modelArray = Array.isArray(modelValue.value) ? [...modelValue.value] : [];\n\t\t\t\tconst index = modelArray.findIndex((i) => compare(i, val, props.by));\n\t\t\t\tif (props.selectionBehavior === \"toggle\") {\n\t\t\t\t\tindex === -1 ? modelArray.push(val) : modelArray.splice(index, 1);\n\t\t\t\t\tmodelValue.value = modelArray;\n\t\t\t\t} else {\n\t\t\t\t\tmodelValue.value = [val];\n\t\t\t\t\tfirstValue.value = val;\n\t\t\t\t}\n\t\t\t} else if (props.selectionBehavior === \"toggle\") if (compare(modelValue.value, val, props.by)) modelValue.value = void 0;\n\t\t\telse modelValue.value = val;\n\t\t\telse modelValue.value = val;\n\t\t\tsetTimeout(() => {\n\t\t\t\tisUserAction.value = false;\n\t\t\t}, 1);\n\t\t}\n\t\tconst highlightedElement = ref(null);\n\t\tconst previousElement = ref(null);\n\t\tconst isVirtual = ref(false);\n\t\tconst isComposing = ref(false);\n\t\tconst virtualFocusHook = createEventHook();\n\t\tconst virtualKeydownHook = createEventHook();\n\t\tconst virtualHighlightHook = createEventHook();\n\t\tfunction getCollectionItem() {\n\t\t\treturn getItems().map((i) => i.ref).filter((i) => i.dataset.disabled !== \"\");\n\t\t}\n\t\tfunction changeHighlight(el, scrollIntoView = true) {\n\t\t\tif (!el) return;\n\t\t\thighlightedElement.value = el;\n\t\t\tif (focusable.value) highlightedElement.value.focus();\n\t\t\tif (scrollIntoView) highlightedElement.value.scrollIntoView({ block: \"nearest\" });\n\t\t\tconst highlightedItem = getItems().find((i) => i.ref === el);\n\t\t\temits(\"highlight\", highlightedItem);\n\t\t}\n\t\tfunction highlightItem(value) {\n\t\t\tif (isVirtual.value) virtualHighlightHook.trigger(value);\n\t\t\telse {\n\t\t\t\tconst item = getItems().find((i) => compare(i.value, value, props.by));\n\t\t\t\tif (item) {\n\t\t\t\t\thighlightedElement.value = item.ref;\n\t\t\t\t\tchangeHighlight(item.ref);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfunction onKeydownEnter(event) {\n\t\t\tif (highlightedElement.value && highlightedElement.value.isConnected) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tif (!isComposing.value) highlightedElement.value.click();\n\t\t\t}\n\t\t}\n\t\tfunction onKeydownTypeAhead(event) {\n\t\t\tif (!focusable.value) return;\n\t\t\tisUserAction.value = true;\n\t\t\tif (isVirtual.value) virtualKeydownHook.trigger(event);\n\t\t\telse {\n\t\t\t\tconst isMetaKey = event.altKey || event.ctrlKey || event.metaKey;\n\t\t\t\tif (isMetaKey && event.key === \"a\" && multiple.value) {\n\t\t\t\t\tconst collection = getItems();\n\t\t\t\t\tconst values = collection.map((i) => i.value);\n\t\t\t\t\tmodelValue.value = [...values];\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tchangeHighlight(collection[collection.length - 1].ref);\n\t\t\t\t} else if (!isMetaKey) {\n\t\t\t\t\tconst el = handleTypeaheadSearch(event.key, getItems());\n\t\t\t\t\tif (el) changeHighlight(el);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTimeout(() => {\n\t\t\t\tisUserAction.value = false;\n\t\t\t}, 1);\n\t\t}\n\t\tfunction onCompositionStart() {\n\t\t\tisComposing.value = true;\n\t\t}\n\t\tfunction onCompositionEnd() {\n\t\t\tnextTick(() => {\n\t\t\t\tisComposing.value = false;\n\t\t\t});\n\t\t}\n\t\tfunction highlightFirstItem() {\n\t\t\tnextTick(() => {\n\t\t\t\tconst event = new KeyboardEvent(\"keydown\", { key: \"PageUp\" });\n\t\t\t\tonKeydownNavigation(event);\n\t\t\t});\n\t\t}\n\t\tfunction onLeave(event) {\n\t\t\tconst el = highlightedElement.value;\n\t\t\tif (el?.isConnected) previousElement.value = el;\n\t\t\thighlightedElement.value = null;\n\t\t\temits(\"leave\", event);\n\t\t}\n\t\tfunction onEnter(event) {\n\t\t\tconst entryFocusEvent = new CustomEvent(\"listbox.entryFocus\", {\n\t\t\t\tbubbles: false,\n\t\t\t\tcancelable: true\n\t\t\t});\n\t\t\tevent.currentTarget?.dispatchEvent(entryFocusEvent);\n\t\t\temits(\"entryFocus\", entryFocusEvent);\n\t\t\tif (entryFocusEvent.defaultPrevented) return;\n\t\t\tif (previousElement.value) changeHighlight(previousElement.value);\n\t\t\telse {\n\t\t\t\tconst el = getCollectionItem()?.[0];\n\t\t\t\tchangeHighlight(el);\n\t\t\t}\n\t\t}\n\t\tfunction onKeydownNavigation(event) {\n\t\t\tconst intent = getFocusIntent(event, orientation.value, dir.value);\n\t\t\tif (!intent) return;\n\t\t\tlet collection = getCollectionItem();\n\t\t\tif (highlightedElement.value) {\n\t\t\t\tif (intent === \"last\") collection.reverse();\n\t\t\t\telse if (intent === \"prev\" || intent === \"next\") {\n\t\t\t\t\tif (intent === \"prev\") collection.reverse();\n\t\t\t\t\tconst currentIndex = collection.indexOf(highlightedElement.value);\n\t\t\t\t\tcollection = collection.slice(currentIndex + 1);\n\t\t\t\t}\n\t\t\t\thandleMultipleReplace(event, collection[0]);\n\t\t\t}\n\t\t\tif (collection.length) {\n\t\t\t\tconst index = !highlightedElement.value && intent === \"prev\" ? collection.length - 1 : 0;\n\t\t\t\tchangeHighlight(collection[index]);\n\t\t\t}\n\t\t\tif (isVirtual.value) return virtualKeydownHook.trigger(event);\n\t\t}\n\t\tfunction handleMultipleReplace(event, targetEl) {\n\t\t\tif (isVirtual.value || props.selectionBehavior !== \"replace\" || !multiple.value || !Array.isArray(modelValue.value)) return;\n\t\t\tconst isMetaKey = event.altKey || event.ctrlKey || event.metaKey;\n\t\t\tif (isMetaKey && !event.shiftKey) return;\n\t\t\tif (event.shiftKey) {\n\t\t\t\tconst collection = getItems().filter((i) => i.ref.dataset.disabled !== \"\");\n\t\t\t\tlet lastValue = collection.find((i) => i.ref === targetEl)?.value;\n\t\t\t\tif (event.key === kbd.END) lastValue = collection[collection.length - 1].value;\n\t\t\t\telse if (event.key === kbd.HOME) lastValue = collection[0].value;\n\t\t\t\tif (!lastValue || !firstValue.value) return;\n\t\t\t\tconst values = findValuesBetween(collection.map((i) => i.value), firstValue.value, lastValue);\n\t\t\t\tmodelValue.value = values;\n\t\t\t}\n\t\t}\n\t\tasync function highlightSelected(event) {\n\t\t\tawait nextTick();\n\t\t\tif (isVirtual.value) virtualFocusHook.trigger(event);\n\t\t\telse {\n\t\t\t\tconst collection = getCollectionItem();\n\t\t\t\tconst item = collection.find((i) => i.dataset.state === \"checked\");\n\t\t\t\tif (item) changeHighlight(item);\n\t\t\t\telse if (collection.length) changeHighlight(collection[0]);\n\t\t\t}\n\t\t}\n\t\twatch(modelValue, () => {\n\t\t\tif (!isUserAction.value) nextTick(() => {\n\t\t\t\thighlightSelected();\n\t\t\t});\n\t\t}, {\n\t\t\timmediate: true,\n\t\t\tdeep: true\n\t\t});\n\t\t__expose({\n\t\t\thighlightedElement,\n\t\t\thighlightItem,\n\t\t\thighlightFirstItem,\n\t\t\thighlightSelected,\n\t\t\tgetItems\n\t\t});\n\t\tprovideListboxRootContext({\n\t\t\tmodelValue,\n\t\t\tonValueChange,\n\t\t\tmultiple,\n\t\t\torientation,\n\t\t\tdir,\n\t\t\tdisabled,\n\t\t\thighlightOnHover,\n\t\t\thighlightedElement,\n\t\t\tisVirtual,\n\t\t\tvirtualFocusHook,\n\t\t\tvirtualKeydownHook,\n\t\t\tvirtualHighlightHook,\n\t\t\tby: props.by,\n\t\t\tfirstValue,\n\t\t\tselectionBehavior,\n\t\t\tfocusable,\n\t\t\tonLeave,\n\t\t\tonEnter,\n\t\t\tchangeHighlight,\n\t\t\tonKeydownEnter,\n\t\t\tonKeydownNavigation,\n\t\t\tonKeydownTypeAhead,\n\t\t\tonCompositionStart,\n\t\t\tonCompositionEnd,\n\t\t\thighlightFirstItem\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Primitive), {\n\t\t\t\tref_key: \"primitiveElement\",\n\t\t\t\tref: primitiveElement,\n\t\t\t\tas: _ctx.as,\n\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\tdir: unref(dir),\n\t\t\t\t\"data-disabled\": unref(disabled) ? \"\" : void 0,\n\t\t\t\tonPointerleave: onLeave,\n\t\t\t\tonFocusout: _cache[0] || (_cache[0] = async (event) => {\n\t\t\t\t\tconst target = event.relatedTarget || event.target;\n\t\t\t\t\tawait nextTick();\n\t\t\t\t\tif (highlightedElement.value && unref(currentElement) && !unref(currentElement).contains(target)) onLeave(event);\n\t\t\t\t})\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\", { modelValue: unref(modelValue) }), unref(isFormControl) && _ctx.name ? (openBlock(), createBlock(unref(VisuallyHiddenInput_default), {\n\t\t\t\t\tkey: 0,\n\t\t\t\t\tname: _ctx.name,\n\t\t\t\t\tvalue: unref(modelValue),\n\t\t\t\t\tdisabled: unref(disabled),\n\t\t\t\t\trequired: _ctx.required\n\t\t\t\t}, null, 8, [\n\t\t\t\t\t\"name\",\n\t\t\t\t\t\"value\",\n\t\t\t\t\t\"disabled\",\n\t\t\t\t\t\"required\"\n\t\t\t\t])) : createCommentVNode(\"v-if\", true)]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\n\t\t\t\t\"as\",\n\t\t\t\t\"as-child\",\n\t\t\t\t\"dir\",\n\t\t\t\t\"data-disabled\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Listbox/ListboxRoot.vue\nvar ListboxRoot_default = ListboxRoot_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ListboxRoot_default, injectListboxRootContext };\n//# sourceMappingURL=ListboxRoot.js.map","import { Primitive } from \"../Primitive/Primitive.js\";\nimport { useCollection } from \"../Collection/Collection.js\";\nimport { injectListboxRootContext } from \"./ListboxRoot.js\";\nimport { createBlock, createVNode, defineComponent, openBlock, renderSlot, unref, withCtx, withKeys, withModifiers } from \"vue\";\nimport { refAutoReset } from \"@vueuse/shared\";\n\n//#region src/Listbox/ListboxContent.vue?vue&type=script&setup=true&lang.ts\nvar ListboxContent_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ListboxContent\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst { CollectionSlot } = useCollection();\n\t\tconst rootContext = injectListboxRootContext();\n\t\tconst isClickFocus = refAutoReset(false, 10);\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(CollectionSlot), null, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(Primitive), {\n\t\t\t\t\trole: \"listbox\",\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\ttabindex: unref(rootContext).focusable.value ? unref(rootContext).highlightedElement.value ? \"-1\" : \"0\" : void 0,\n\t\t\t\t\t\"aria-orientation\": unref(rootContext).orientation.value,\n\t\t\t\t\t\"aria-multiselectable\": !!unref(rootContext).multiple.value,\n\t\t\t\t\t\"data-orientation\": unref(rootContext).orientation.value,\n\t\t\t\t\tonMousedown: _cache[0] || (_cache[0] = withModifiers(($event) => isClickFocus.value = true, [\"left\"])),\n\t\t\t\t\tonFocus: _cache[1] || (_cache[1] = (ev) => {\n\t\t\t\t\t\tif (unref(isClickFocus)) return;\n\t\t\t\t\t\tunref(rootContext).onEnter(ev);\n\t\t\t\t\t}),\n\t\t\t\t\tonKeydown: [\n\t\t\t\t\t\t_cache[2] || (_cache[2] = withKeys(withModifiers((event) => {\n\t\t\t\t\t\t\tunref(rootContext).focusable.value && unref(rootContext).onKeydownNavigation(event);\n\t\t\t\t\t\t}, [\"prevent\"]), [\n\t\t\t\t\t\t\t\"down\",\n\t\t\t\t\t\t\t\"up\",\n\t\t\t\t\t\t\t\"left\",\n\t\t\t\t\t\t\t\"right\",\n\t\t\t\t\t\t\t\"home\",\n\t\t\t\t\t\t\t\"end\"\n\t\t\t\t\t\t])),\n\t\t\t\t\t\twithKeys(unref(rootContext).onKeydownEnter, [\"enter\"]),\n\t\t\t\t\t\tunref(rootContext).onKeydownTypeAhead\n\t\t\t\t\t]\n\t\t\t\t}, {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 8, [\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"as-child\",\n\t\t\t\t\t\"tabindex\",\n\t\t\t\t\t\"aria-orientation\",\n\t\t\t\t\t\"aria-multiselectable\",\n\t\t\t\t\t\"data-orientation\",\n\t\t\t\t\t\"onKeydown\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t});\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Listbox/ListboxContent.vue\nvar ListboxContent_default = ListboxContent_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ListboxContent_default };\n//# sourceMappingURL=ListboxContent.js.map","import { Primitive } from \"../Primitive/Primitive.js\";\nimport { usePrimitiveElement } from \"../Primitive/usePrimitiveElement.js\";\nimport { injectListboxRootContext } from \"./ListboxRoot.js\";\nimport { computed, createBlock, defineComponent, onMounted, onUnmounted, openBlock, ref, renderSlot, unref, watchSyncEffect, withCtx, withKeys, withModifiers } from \"vue\";\nimport { useVModel } from \"@vueuse/core\";\n\n//#region src/Listbox/ListboxFilter.vue?vue&type=script&setup=true&lang.ts\nvar ListboxFilter_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ListboxFilter\",\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tautoFocus: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"input\"\n\t\t}\n\t},\n\temits: [\"update:modelValue\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst modelValue = useVModel(props, \"modelValue\", emits, {\n\t\t\tdefaultValue: \"\",\n\t\t\tpassive: props.modelValue === void 0\n\t\t});\n\t\tconst rootContext = injectListboxRootContext();\n\t\tconst { primitiveElement, currentElement } = usePrimitiveElement();\n\t\tconst disabled = computed(() => props.disabled || rootContext.disabled.value || false);\n\t\tconst activedescendant = ref();\n\t\twatchSyncEffect(() => activedescendant.value = rootContext.highlightedElement.value?.id);\n\t\tonMounted(() => {\n\t\t\trootContext.focusable.value = false;\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (props.autoFocus) currentElement.value?.focus();\n\t\t\t}, 1);\n\t\t});\n\t\tonUnmounted(() => {\n\t\t\trootContext.focusable.value = true;\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Primitive), {\n\t\t\t\tref_key: \"primitiveElement\",\n\t\t\t\tref: primitiveElement,\n\t\t\t\tas: _ctx.as,\n\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\tvalue: unref(modelValue),\n\t\t\t\tdisabled: disabled.value ? \"\" : void 0,\n\t\t\t\t\"data-disabled\": disabled.value ? \"\" : void 0,\n\t\t\t\t\"aria-disabled\": disabled.value ?? void 0,\n\t\t\t\t\"aria-activedescendant\": activedescendant.value,\n\t\t\t\ttype: \"text\",\n\t\t\t\tonKeydown: [withKeys(withModifiers(unref(rootContext).onKeydownNavigation, [\"prevent\"]), [\n\t\t\t\t\t\"down\",\n\t\t\t\t\t\"up\",\n\t\t\t\t\t\"home\",\n\t\t\t\t\t\"end\"\n\t\t\t\t]), withKeys(unref(rootContext).onKeydownEnter, [\"enter\"])],\n\t\t\t\tonInput: _cache[0] || (_cache[0] = (event) => {\n\t\t\t\t\tmodelValue.value = event.target.value;\n\t\t\t\t\tunref(rootContext).highlightFirstItem();\n\t\t\t\t}),\n\t\t\t\tonCompositionstart: unref(rootContext).onCompositionStart,\n\t\t\t\tonCompositionend: unref(rootContext).onCompositionEnd\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\", { modelValue: unref(modelValue) })]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\n\t\t\t\t\"as\",\n\t\t\t\t\"as-child\",\n\t\t\t\t\"value\",\n\t\t\t\t\"disabled\",\n\t\t\t\t\"data-disabled\",\n\t\t\t\t\"aria-disabled\",\n\t\t\t\t\"aria-activedescendant\",\n\t\t\t\t\"onKeydown\",\n\t\t\t\t\"onCompositionstart\",\n\t\t\t\t\"onCompositionend\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Listbox/ListboxFilter.vue\nvar ListboxFilter_default = ListboxFilter_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ListboxFilter_default };\n//# sourceMappingURL=ListboxFilter.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { useId } from \"../shared/useId.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { createBlock, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Listbox/ListboxGroup.vue?vue&type=script&setup=true&lang.ts\nconst [injectListboxGroupContext, provideListboxGroupContext] = createContext(\"ListboxGroup\");\nvar ListboxGroup_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ListboxGroup\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst id = useId(void 0, \"reka-listbox-group\");\n\t\tprovideListboxGroupContext({ id });\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Primitive), mergeProps({ role: \"group\" }, props, { \"aria-labelledby\": unref(id) }), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\"aria-labelledby\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Listbox/ListboxGroup.vue\nvar ListboxGroup_default = ListboxGroup_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ListboxGroup_default, injectListboxGroupContext };\n//# sourceMappingURL=ListboxGroup.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { handleAndDispatchCustomEvent } from \"../shared/handleAndDispatchCustomEvent.js\";\nimport { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useId } from \"../shared/useId.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { useCollection } from \"../Collection/Collection.js\";\nimport { valueComparator } from \"./utils.js\";\nimport { injectListboxRootContext } from \"./ListboxRoot.js\";\nimport { computed, createBlock, createVNode, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx, withKeys, withMemo, withModifiers } from \"vue\";\n\n//#region src/Listbox/ListboxItem.vue?vue&type=script&setup=true&lang.ts\nconst LISTBOX_SELECT = \"listbox.select\";\nconst [injectListboxItemContext, provideListboxItemContext] = createContext(\"ListboxItem\");\nvar ListboxItem_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ListboxItem\",\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: null,\n\t\t\trequired: true\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"div\"\n\t\t}\n\t},\n\temits: [\"select\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst id = useId(void 0, \"reka-listbox-item\");\n\t\tconst { CollectionItem } = useCollection();\n\t\tconst { forwardRef, currentElement } = useForwardExpose();\n\t\tconst rootContext = injectListboxRootContext();\n\t\tconst isHighlighted = computed(() => currentElement.value === rootContext.highlightedElement.value);\n\t\tconst isSelected = computed(() => valueComparator(rootContext.modelValue.value, props.value, rootContext.by));\n\t\tconst disabled = computed(() => rootContext.disabled.value || props.disabled);\n\t\tasync function handleSelect(ev) {\n\t\t\temits(\"select\", ev);\n\t\t\tif (ev?.defaultPrevented) return;\n\t\t\tif (!disabled.value && ev) {\n\t\t\t\trootContext.onValueChange(props.value);\n\t\t\t\trootContext.changeHighlight(currentElement.value);\n\t\t\t}\n\t\t}\n\t\tfunction handleSelectCustomEvent(ev) {\n\t\t\tconst eventDetail = {\n\t\t\t\toriginalEvent: ev,\n\t\t\t\tvalue: props.value\n\t\t\t};\n\t\t\thandleAndDispatchCustomEvent(LISTBOX_SELECT, handleSelect, eventDetail);\n\t\t}\n\t\tprovideListboxItemContext({ isSelected });\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(CollectionItem), { value: _ctx.value }, {\n\t\t\t\tdefault: withCtx(() => [withMemo([isHighlighted.value, isSelected.value], () => createVNode(unref(Primitive), mergeProps({ id: unref(id) }, _ctx.$attrs, {\n\t\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\trole: \"option\",\n\t\t\t\t\ttabindex: unref(rootContext).focusable.value ? isHighlighted.value ? \"0\" : \"-1\" : -1,\n\t\t\t\t\t\"aria-selected\": isSelected.value,\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\tdisabled: disabled.value ? \"\" : void 0,\n\t\t\t\t\t\"data-disabled\": disabled.value ? \"\" : void 0,\n\t\t\t\t\t\"data-highlighted\": isHighlighted.value ? \"\" : void 0,\n\t\t\t\t\t\"data-state\": isSelected.value ? \"checked\" : \"unchecked\",\n\t\t\t\t\tonClick: handleSelectCustomEvent,\n\t\t\t\t\tonKeydown: withKeys(withModifiers(handleSelectCustomEvent, [\"prevent\"]), [\"space\"]),\n\t\t\t\t\tonPointermove: _cache[0] || (_cache[0] = (event) => {\n\t\t\t\t\t\tif (unref(rootContext).highlightedElement.value === unref(currentElement)) return;\n\t\t\t\t\t\tif (unref(rootContext).highlightOnHover.value) unref(rootContext).changeHighlight(unref(currentElement), false);\n\t\t\t\t\t\telse unref(rootContext).focusable.value || unref(rootContext).changeHighlight(unref(currentElement), false);\n\t\t\t\t\t})\n\t\t\t\t}), {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 16, [\n\t\t\t\t\t\"id\",\n\t\t\t\t\t\"tabindex\",\n\t\t\t\t\t\"aria-selected\",\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"as-child\",\n\t\t\t\t\t\"disabled\",\n\t\t\t\t\t\"data-disabled\",\n\t\t\t\t\t\"data-highlighted\",\n\t\t\t\t\t\"data-state\",\n\t\t\t\t\t\"onKeydown\"\n\t\t\t\t]), _cache, 1)]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\"value\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Listbox/ListboxItem.vue\nvar ListboxItem_default = ListboxItem_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ListboxItem_default, injectListboxItemContext };\n//# sourceMappingURL=ListboxItem.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { injectListboxItemContext } from \"./ListboxItem.js\";\nimport { createBlock, createCommentVNode, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Listbox/ListboxItemIndicator.vue?vue&type=script&setup=true&lang.ts\nvar ListboxItemIndicator_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ListboxItemIndicator\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"span\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tuseForwardExpose();\n\t\tconst itemContext = injectListboxItemContext();\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn unref(itemContext).isSelected.value ? (openBlock(), createBlock(unref(Primitive), mergeProps({\n\t\t\t\tkey: 0,\n\t\t\t\t\"aria-hidden\": \"true\"\n\t\t\t}, props), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16)) : createCommentVNode(\"v-if\", true);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Listbox/ListboxItemIndicator.vue\nvar ListboxItemIndicator_default = ListboxItemIndicator_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ListboxItemIndicator_default };\n//# sourceMappingURL=ListboxItemIndicator.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { useDirection } from \"../shared/useDirection.js\";\nimport { useFilter } from \"../shared/useFilter.js\";\nimport { usePrimitiveElement } from \"../Primitive/usePrimitiveElement.js\";\nimport { PopperRoot_default } from \"../Popper/PopperRoot.js\";\nimport { ListboxRoot_default } from \"../Listbox/ListboxRoot.js\";\nimport { computed, createBlock, createVNode, defineComponent, getCurrentInstance, isRef, mergeProps, nextTick, onMounted, openBlock, ref, renderSlot, toRefs, unref, withCtx } from \"vue\";\nimport { createEventHook, useVModel } from \"@vueuse/core\";\n\n//#region src/Combobox/ComboboxRoot.vue?vue&type=script&setup=true&lang.ts\nconst [injectComboboxRootContext, provideComboboxRootContext] = createContext(\"ComboboxRoot\");\nvar ComboboxRoot_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxRoot\",\n\tprops: {\n\t\topen: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: void 0\n\t\t},\n\t\tdefaultOpen: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tresetSearchTermOnBlur: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t},\n\t\tresetSearchTermOnSelect: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t},\n\t\topenOnFocus: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\topenOnClick: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\tignoreFilter: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tmodelValue: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tdefaultValue: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tmultiple: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdir: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\thighlightOnHover: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tby: {\n\t\t\ttype: [String, Function],\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\n\t\t\"update:modelValue\",\n\t\t\"highlight\",\n\t\t\"update:open\"\n\t],\n\tsetup(__props, { expose: __expose, emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst { primitiveElement, currentElement: parentElement } = usePrimitiveElement();\n\t\tconst { multiple, disabled, ignoreFilter, resetSearchTermOnSelect, openOnFocus, openOnClick, dir: propDir } = toRefs(props);\n\t\tconst dir = useDirection(propDir);\n\t\tconst modelValue = useVModel(props, \"modelValue\", emits, {\n\t\t\tdefaultValue: props.defaultValue ?? (multiple.value ? [] : void 0),\n\t\t\tpassive: props.modelValue === void 0,\n\t\t\tdeep: true\n\t\t});\n\t\tconst open = useVModel(props, \"open\", emits, {\n\t\t\tdefaultValue: props.defaultOpen,\n\t\t\tpassive: props.open === void 0\n\t\t});\n\t\tasync function onOpenChange(val) {\n\t\t\topen.value = val;\n\t\t\tfilterSearch.value = \"\";\n\t\t\tif (val) {\n\t\t\t\tawait nextTick();\n\t\t\t\tprimitiveElement.value?.highlightSelected();\n\t\t\t\tisUserInputted.value = true;\n\t\t\t} else isUserInputted.value = false;\n\t\t\tinputElement.value?.focus();\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!val && props.resetSearchTermOnBlur) resetSearchTerm.trigger();\n\t\t\t}, 1);\n\t\t}\n\t\tconst resetSearchTerm = createEventHook();\n\t\tconst isUserInputted = ref(false);\n\t\tconst isVirtual = ref(false);\n\t\tconst inputElement = ref();\n\t\tconst triggerElement = ref();\n\t\tconst highlightedElement = computed(() => primitiveElement.value?.highlightedElement ?? void 0);\n\t\tconst allItems = ref(/* @__PURE__ */ new Map());\n\t\tconst allGroups = ref(/* @__PURE__ */ new Map());\n\t\tconst { contains } = useFilter({ sensitivity: \"base\" });\n\t\tconst filterSearch = ref(\"\");\n\t\tconst filterState = computed((oldValue) => {\n\t\t\tif (!filterSearch.value || props.ignoreFilter || isVirtual.value) return {\n\t\t\t\tcount: allItems.value.size,\n\t\t\t\titems: oldValue?.items ?? /* @__PURE__ */ new Map(),\n\t\t\t\tgroups: oldValue?.groups ?? new Set(allGroups.value.keys())\n\t\t\t};\n\t\t\tlet itemCount = 0;\n\t\t\tconst filteredItems = /* @__PURE__ */ new Map();\n\t\t\tconst filteredGroups = /* @__PURE__ */ new Set();\n\t\t\tfor (const [id, value] of allItems.value) {\n\t\t\t\tconst score = contains(value, filterSearch.value);\n\t\t\t\tfilteredItems.set(id, score ? 1 : 0);\n\t\t\t\tif (score) itemCount++;\n\t\t\t}\n\t\t\tfor (const [groupId, group] of allGroups.value) for (const itemId of group) if (filteredItems.get(itemId) > 0) {\n\t\t\t\tfilteredGroups.add(groupId);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tcount: itemCount,\n\t\t\t\titems: filteredItems,\n\t\t\t\tgroups: filteredGroups\n\t\t\t};\n\t\t});\n\t\tconst inst = getCurrentInstance();\n\t\tonMounted(() => {\n\t\t\tif (inst?.exposed) {\n\t\t\t\tinst.exposed.highlightItem = primitiveElement.value?.highlightItem;\n\t\t\t\tinst.exposed.highlightFirstItem = primitiveElement.value?.highlightFirstItem;\n\t\t\t\tinst.exposed.highlightSelected = primitiveElement.value?.highlightSelected;\n\t\t\t}\n\t\t});\n\t\t__expose({\n\t\t\tfiltered: filterState,\n\t\t\thighlightedElement,\n\t\t\thighlightItem: primitiveElement.value?.highlightItem,\n\t\t\thighlightFirstItem: primitiveElement.value?.highlightFirstItem,\n\t\t\thighlightSelected: primitiveElement.value?.highlightSelected\n\t\t});\n\t\tprovideComboboxRootContext({\n\t\t\tmodelValue,\n\t\t\tmultiple,\n\t\t\tdisabled,\n\t\t\topen,\n\t\t\tonOpenChange,\n\t\t\tcontentId: \"\",\n\t\t\tisUserInputted,\n\t\t\tisVirtual,\n\t\t\tinputElement,\n\t\t\thighlightedElement,\n\t\t\tonInputElementChange: (val) => inputElement.value = val,\n\t\t\ttriggerElement,\n\t\t\tonTriggerElementChange: (val) => triggerElement.value = val,\n\t\t\tparentElement,\n\t\t\tresetSearchTermOnSelect,\n\t\t\tonResetSearchTerm: resetSearchTerm.on,\n\t\t\tallItems,\n\t\t\tallGroups,\n\t\t\tfilterSearch,\n\t\t\tfilterState,\n\t\t\tignoreFilter,\n\t\t\topenOnFocus,\n\t\t\topenOnClick\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(PopperRoot_default), null, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(ListboxRoot_default), mergeProps({\n\t\t\t\t\tref_key: \"primitiveElement\",\n\t\t\t\t\tref: primitiveElement\n\t\t\t\t}, _ctx.$attrs, {\n\t\t\t\t\tmodelValue: unref(modelValue),\n\t\t\t\t\t\"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => isRef(modelValue) ? modelValue.value = $event : null),\n\t\t\t\t\tstyle: { pointerEvents: unref(open) ? \"auto\" : void 0 },\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\tdir: unref(dir),\n\t\t\t\t\tmultiple: unref(multiple),\n\t\t\t\t\tname: _ctx.name,\n\t\t\t\t\trequired: _ctx.required,\n\t\t\t\t\tdisabled: unref(disabled),\n\t\t\t\t\t\"highlight-on-hover\": true,\n\t\t\t\t\tby: props.by,\n\t\t\t\t\tonHighlight: _cache[1] || (_cache[1] = ($event) => emits(\"highlight\", $event))\n\t\t\t\t}), {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\", {\n\t\t\t\t\t\topen: unref(open),\n\t\t\t\t\t\tmodelValue: unref(modelValue)\n\t\t\t\t\t})]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 16, [\n\t\t\t\t\t\"modelValue\",\n\t\t\t\t\t\"style\",\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"as-child\",\n\t\t\t\t\t\"dir\",\n\t\t\t\t\t\"multiple\",\n\t\t\t\t\t\"name\",\n\t\t\t\t\t\"required\",\n\t\t\t\t\t\"disabled\",\n\t\t\t\t\t\"by\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t});\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxRoot.vue\nvar ComboboxRoot_default = ComboboxRoot_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxRoot_default, injectComboboxRootContext };\n//# sourceMappingURL=ComboboxRoot.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { useBodyScrollLock } from \"../shared/useBodyScrollLock.js\";\nimport { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useForwardProps } from \"../shared/useForwardProps.js\";\nimport { useHideOthers } from \"../shared/useHideOthers.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { DismissableLayer_default } from \"../DismissableLayer/DismissableLayer.js\";\nimport { PopperContent_default } from \"../Popper/PopperContent.js\";\nimport { ListboxContent_default } from \"../Listbox/ListboxContent.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { computed, createBlock, createVNode, defineComponent, mergeProps, onMounted, onUnmounted, openBlock, ref, renderSlot, resolveDynamicComponent, toRefs, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxContentImpl.vue?vue&type=script&setup=true&lang.ts\nconst [injectComboboxContentContext, provideComboboxContentContext] = createContext(\"ComboboxContent\");\nvar ComboboxContentImpl_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxContentImpl\",\n\tprops: {\n\t\tposition: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"inline\"\n\t\t},\n\t\tbodyLock: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tside: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tsideOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsideFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\talign: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\talignOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\talignFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tavoidCollisions: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionBoundary: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionPadding: {\n\t\t\ttype: [Number, Object],\n\t\t\trequired: false\n\t\t},\n\t\tarrowPadding: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsticky: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\thideWhenDetached: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tpositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tupdatePositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisableUpdateOnLayoutShift: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tprioritizePosition: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\treference: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tdisableOutsidePointerEvents: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\n\t\t\"escapeKeyDown\",\n\t\t\"pointerDownOutside\",\n\t\t\"focusOutside\",\n\t\t\"interactOutside\"\n\t],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst { position } = toRefs(props);\n\t\tconst rootContext = injectComboboxRootContext();\n\t\tconst { forwardRef, currentElement } = useForwardExpose();\n\t\tuseBodyScrollLock(props.bodyLock);\n\t\tuseHideOthers(rootContext.parentElement);\n\t\tconst pickedProps = computed(() => {\n\t\t\tif (props.position === \"popper\") return props;\n\t\t\telse return {};\n\t\t});\n\t\tconst forwardedProps = useForwardProps(pickedProps.value);\n\t\tconst popperStyle = {\n\t\t\t\"boxSizing\": \"border-box\",\n\t\t\t\"--reka-combobox-content-transform-origin\": \"var(--reka-popper-transform-origin)\",\n\t\t\t\"--reka-combobox-content-available-width\": \"var(--reka-popper-available-width)\",\n\t\t\t\"--reka-combobox-content-available-height\": \"var(--reka-popper-available-height)\",\n\t\t\t\"--reka-combobox-trigger-width\": \"var(--reka-popper-anchor-width)\",\n\t\t\t\"--reka-combobox-trigger-height\": \"var(--reka-popper-anchor-height)\"\n\t\t};\n\t\tprovideComboboxContentContext({ position });\n\t\tconst isInputWithinContent = ref(false);\n\t\tonMounted(() => {\n\t\t\tif (rootContext.inputElement.value) {\n\t\t\t\tisInputWithinContent.value = currentElement.value.contains(rootContext.inputElement.value);\n\t\t\t\tif (isInputWithinContent.value) rootContext.inputElement.value.focus();\n\t\t\t}\n\t\t});\n\t\tonUnmounted(() => {\n\t\t\tif (isInputWithinContent.value) rootContext.triggerElement.value?.focus();\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(ListboxContent_default), { \"as-child\": \"\" }, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(DismissableLayer_default), {\n\t\t\t\t\t\"as-child\": \"\",\n\t\t\t\t\t\"disable-outside-pointer-events\": _ctx.disableOutsidePointerEvents,\n\t\t\t\t\tonDismiss: _cache[0] || (_cache[0] = ($event) => unref(rootContext).onOpenChange(false)),\n\t\t\t\t\tonFocusOutside: _cache[1] || (_cache[1] = (ev) => {\n\t\t\t\t\t\tif (unref(rootContext).parentElement.value?.contains(ev.target)) ev.preventDefault();\n\t\t\t\t\t\temits(\"focusOutside\", ev);\n\t\t\t\t\t}),\n\t\t\t\t\tonInteractOutside: _cache[2] || (_cache[2] = ($event) => emits(\"interactOutside\", $event)),\n\t\t\t\t\tonEscapeKeyDown: _cache[3] || (_cache[3] = ($event) => emits(\"escapeKeyDown\", $event)),\n\t\t\t\t\tonPointerDownOutside: _cache[4] || (_cache[4] = (ev) => {\n\t\t\t\t\t\tif (unref(rootContext).parentElement.value?.contains(ev.target)) ev.preventDefault();\n\t\t\t\t\t\temits(\"pointerDownOutside\", ev);\n\t\t\t\t\t})\n\t\t\t\t}, {\n\t\t\t\t\tdefault: withCtx(() => [(openBlock(), createBlock(resolveDynamicComponent(unref(position) === \"popper\" ? unref(PopperContent_default) : unref(Primitive)), mergeProps({\n\t\t\t\t\t\t..._ctx.$attrs,\n\t\t\t\t\t\t...unref(forwardedProps)\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid: unref(rootContext).contentId,\n\t\t\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\t\t\"data-state\": unref(rootContext).open.value ? \"open\" : \"closed\",\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\t\t\toutline: \"none\",\n\t\t\t\t\t\t\t...unref(position) === \"popper\" ? popperStyle : {}\n\t\t\t\t\t\t}\n\t\t\t\t\t}), {\n\t\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t\t_: 3\n\t\t\t\t\t}, 16, [\n\t\t\t\t\t\t\"id\",\n\t\t\t\t\t\t\"data-state\",\n\t\t\t\t\t\t\"style\"\n\t\t\t\t\t]))]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 8, [\"disable-outside-pointer-events\"])]),\n\t\t\t\t_: 3\n\t\t\t});\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxContentImpl.vue\nvar ComboboxContentImpl_default = ComboboxContentImpl_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxContentImpl_default, injectComboboxContentContext };\n//# sourceMappingURL=ComboboxContentImpl.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useForwardPropsEmits } from \"../shared/useForwardPropsEmits.js\";\nimport { useId } from \"../shared/useId.js\";\nimport { Presence_default } from \"../Presence/Presence.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { ComboboxContentImpl_default } from \"./ComboboxContentImpl.js\";\nimport { createBlock, createVNode, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxContent.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxContent_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxContent\",\n\tprops: {\n\t\tforceMount: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tposition: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tbodyLock: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tside: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tsideOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsideFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\talign: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\talignOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\talignFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tavoidCollisions: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionBoundary: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionPadding: {\n\t\t\ttype: [Number, Object],\n\t\t\trequired: false\n\t\t},\n\t\tarrowPadding: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsticky: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\thideWhenDetached: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tpositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tupdatePositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisableUpdateOnLayoutShift: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tprioritizePosition: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\treference: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tdisableOutsidePointerEvents: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\n\t\t\"escapeKeyDown\",\n\t\t\"pointerDownOutside\",\n\t\t\"focusOutside\",\n\t\t\"interactOutside\"\n\t],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst forwarded = useForwardPropsEmits(props, emits);\n\t\tconst { forwardRef } = useForwardExpose();\n\t\tconst rootContext = injectComboboxRootContext();\n\t\trootContext.contentId ||= useId(void 0, \"reka-combobox-content\");\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Presence_default), { present: _ctx.forceMount || unref(rootContext).open.value }, {\n\t\t\t\tdefault: withCtx(() => [createVNode(ComboboxContentImpl_default, mergeProps({\n\t\t\t\t\t...unref(forwarded),\n\t\t\t\t\t..._ctx.$attrs\n\t\t\t\t}, { ref: unref(forwardRef) }), {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 16)]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\"present\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxContent.vue\nvar ComboboxContent_default = ComboboxContent_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxContent_default };\n//# sourceMappingURL=ComboboxContent.js.map","import { Primitive } from \"../Primitive/Primitive.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { computed, createBlock, createCommentVNode, createTextVNode, defineComponent, guardReactiveProps, mergeProps, normalizeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxEmpty.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxEmpty_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxEmpty\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst rootContext = injectComboboxRootContext();\n\t\tconst isRender = computed(() => rootContext.ignoreFilter.value ? rootContext.allItems.value.size === 0 : rootContext.filterState.value.count === 0);\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn isRender.value ? (openBlock(), createBlock(unref(Primitive), normalizeProps(mergeProps({ key: 0 }, props)), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\", {}, () => [_cache[0] || (_cache[0] = createTextVNode(\"No options\"))])]),\n\t\t\t\t_: 3\n\t\t\t}, 16)) : createCommentVNode(\"v-if\", true);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxEmpty.vue\nvar ComboboxEmpty_default = ComboboxEmpty_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxEmpty_default };\n//# sourceMappingURL=ComboboxEmpty.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { useId } from \"../shared/useId.js\";\nimport { ListboxGroup_default } from \"../Listbox/ListboxGroup.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { computed, createBlock, defineComponent, mergeProps, onMounted, onUnmounted, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxGroup.vue?vue&type=script&setup=true&lang.ts\nconst [injectComboboxGroupContext, provideComboboxGroupContext] = createContext(\"ComboboxGroup\");\nvar ComboboxGroup_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxGroup\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst id = useId(void 0, \"reka-combobox-group\");\n\t\tconst rootContext = injectComboboxRootContext();\n\t\tconst isRender = computed(() => rootContext.ignoreFilter.value ? true : !rootContext.filterSearch.value ? true : rootContext.filterState.value.groups.has(id));\n\t\tconst context = provideComboboxGroupContext({\n\t\t\tid,\n\t\t\tlabelId: \"\"\n\t\t});\n\t\tonMounted(() => {\n\t\t\tif (!rootContext.allGroups.value.has(id)) rootContext.allGroups.value.set(id, /* @__PURE__ */ new Set());\n\t\t});\n\t\tonUnmounted(() => {\n\t\t\trootContext.allGroups.value.delete(id);\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(ListboxGroup_default), mergeProps({\n\t\t\t\tid: unref(id),\n\t\t\t\t\"aria-labelledby\": unref(context).labelId\n\t\t\t}, props, { hidden: isRender.value ? void 0 : true }), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\n\t\t\t\t\"id\",\n\t\t\t\t\"aria-labelledby\",\n\t\t\t\t\"hidden\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxGroup.vue\nvar ComboboxGroup_default = ComboboxGroup_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxGroup_default, injectComboboxGroupContext };\n//# sourceMappingURL=ComboboxGroup.js.map","import { usePrimitiveElement } from \"../Primitive/usePrimitiveElement.js\";\nimport { injectListboxRootContext } from \"../Listbox/ListboxRoot.js\";\nimport { ListboxFilter_default } from \"../Listbox/ListboxFilter.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { createBlock, defineComponent, isRef, nextTick, onMounted, openBlock, renderSlot, unref, watch, withCtx, withKeys, withModifiers } from \"vue\";\nimport { useVModel } from \"@vueuse/core\";\n\n//#region src/Combobox/ComboboxInput.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxInput_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxInput\",\n\tprops: {\n\t\tdisplayValue: {\n\t\t\ttype: Function,\n\t\t\trequired: false\n\t\t},\n\t\tmodelValue: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tautoFocus: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"input\"\n\t\t}\n\t},\n\temits: [\"update:modelValue\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst rootContext = injectComboboxRootContext();\n\t\tconst listboxContext = injectListboxRootContext();\n\t\tconst { primitiveElement, currentElement } = usePrimitiveElement();\n\t\tconst modelValue = useVModel(props, \"modelValue\", emits, { passive: props.modelValue === void 0 });\n\t\tonMounted(() => {\n\t\t\tif (currentElement.value) rootContext.onInputElementChange(currentElement.value);\n\t\t});\n\t\tfunction handleKeyDown(ev) {\n\t\t\tif (!rootContext.open.value) rootContext.onOpenChange(true);\n\t\t}\n\t\tfunction handleInput(event) {\n\t\t\tconst target = event.target;\n\t\t\tif (!rootContext.open.value) {\n\t\t\t\trootContext.onOpenChange(true);\n\t\t\t\tnextTick(() => {\n\t\t\t\t\tif (target.value) {\n\t\t\t\t\t\trootContext.filterSearch.value = target.value;\n\t\t\t\t\t\tlistboxContext.highlightFirstItem();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else rootContext.filterSearch.value = target.value;\n\t\t}\n\t\tfunction handleFocus() {\n\t\t\tif (rootContext.openOnFocus.value && !rootContext.open.value) rootContext.onOpenChange(true);\n\t\t}\n\t\tfunction handleClick() {\n\t\t\tif (rootContext.openOnClick.value && !rootContext.open.value) rootContext.onOpenChange(true);\n\t\t}\n\t\tfunction resetSearchTerm() {\n\t\t\tconst rootModelValue = rootContext.modelValue.value;\n\t\t\tif (props.displayValue) modelValue.value = props.displayValue(rootModelValue);\n\t\t\telse if (!rootContext.multiple.value && rootModelValue && !Array.isArray(rootModelValue)) if (typeof rootModelValue !== \"object\") modelValue.value = rootModelValue.toString();\n\t\t\telse modelValue.value = \"\";\n\t\t\telse modelValue.value = \"\";\n\t\t\tnextTick(() => {\n\t\t\t\tmodelValue.value = modelValue.value;\n\t\t\t});\n\t\t}\n\t\trootContext.onResetSearchTerm(() => {\n\t\t\tresetSearchTerm();\n\t\t});\n\t\twatch(rootContext.modelValue, async () => {\n\t\t\tif (!rootContext.isUserInputted.value && rootContext.resetSearchTermOnSelect.value) resetSearchTerm();\n\t\t}, {\n\t\t\timmediate: true,\n\t\t\tdeep: true\n\t\t});\n\t\twatch(rootContext.filterState, () => {\n\t\t\tif (!rootContext.isVirtual.value) listboxContext.highlightFirstItem();\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(ListboxFilter_default), {\n\t\t\t\tref_key: \"primitiveElement\",\n\t\t\t\tref: primitiveElement,\n\t\t\t\tmodelValue: unref(modelValue),\n\t\t\t\t\"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => isRef(modelValue) ? modelValue.value = $event : null),\n\t\t\t\tas: _ctx.as,\n\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\"auto-focus\": _ctx.autoFocus,\n\t\t\t\tdisabled: _ctx.disabled,\n\t\t\t\t\"aria-expanded\": unref(rootContext).open.value,\n\t\t\t\t\"aria-controls\": unref(rootContext).contentId,\n\t\t\t\t\"aria-autocomplete\": \"list\",\n\t\t\t\trole: \"combobox\",\n\t\t\t\tautocomplete: \"off\",\n\t\t\t\tonClick: handleClick,\n\t\t\t\tonInput: handleInput,\n\t\t\t\tonKeydown: withKeys(withModifiers(handleKeyDown, [\"prevent\"]), [\"down\", \"up\"]),\n\t\t\t\tonFocus: handleFocus\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\n\t\t\t\t\"modelValue\",\n\t\t\t\t\"as\",\n\t\t\t\t\"as-child\",\n\t\t\t\t\"auto-focus\",\n\t\t\t\t\"disabled\",\n\t\t\t\t\"aria-expanded\",\n\t\t\t\t\"aria-controls\",\n\t\t\t\t\"onKeydown\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxInput.vue\nvar ComboboxInput_default = ComboboxInput_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxInput_default };\n//# sourceMappingURL=ComboboxInput.js.map","import { useId } from \"../shared/useId.js\";\nimport { usePrimitiveElement } from \"../Primitive/usePrimitiveElement.js\";\nimport { ListboxItem_default } from \"../Listbox/ListboxItem.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { injectComboboxGroupContext } from \"./ComboboxGroup.js\";\nimport { computed, createBlock, createCommentVNode, createTextVNode, defineComponent, mergeProps, onMounted, onUnmounted, openBlock, renderSlot, toDisplayString, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxItem.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxItem_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxItem\",\n\tprops: {\n\t\ttextValue: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tvalue: {\n\t\t\ttype: null,\n\t\t\trequired: true\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\"select\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst id = useId(void 0, \"reka-combobox-item\");\n\t\tconst rootContext = injectComboboxRootContext();\n\t\tconst groupContext = injectComboboxGroupContext(null);\n\t\tconst { primitiveElement, currentElement } = usePrimitiveElement();\n\t\tif (props.value === \"\") throw new Error(\"A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.\");\n\t\tconst isRender = computed(() => {\n\t\t\tif (rootContext.isVirtual.value || rootContext.ignoreFilter.value || !rootContext.filterSearch.value) return true;\n\t\t\telse {\n\t\t\t\tconst filteredCurrentItem = rootContext.filterState.value.items.get(id);\n\t\t\t\tif (filteredCurrentItem === void 0) return true;\n\t\t\t\treturn filteredCurrentItem > 0;\n\t\t\t}\n\t\t});\n\t\tonMounted(() => {\n\t\t\trootContext.allItems.value.set(id, props.textValue || currentElement.value.textContent || currentElement.value.innerText);\n\t\t\tconst groupId = groupContext?.id;\n\t\t\tif (groupId) if (!rootContext.allGroups.value.has(groupId)) rootContext.allGroups.value.set(groupId, new Set([id]));\n\t\t\telse rootContext.allGroups.value.get(groupId)?.add(id);\n\t\t});\n\t\tonUnmounted(() => {\n\t\t\trootContext.allItems.value.delete(id);\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn isRender.value ? (openBlock(), createBlock(unref(ListboxItem_default), mergeProps({ key: 0 }, props, {\n\t\t\t\tid: unref(id),\n\t\t\t\tref_key: \"primitiveElement\",\n\t\t\t\tref: primitiveElement,\n\t\t\t\tdisabled: unref(rootContext).disabled.value || _ctx.disabled,\n\t\t\t\tonSelect: _cache[0] || (_cache[0] = (event) => {\n\t\t\t\t\temits(\"select\", event);\n\t\t\t\t\tif (event.defaultPrevented) return;\n\t\t\t\t\tif (!unref(rootContext).multiple.value && !_ctx.disabled && !unref(rootContext).disabled.value) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tunref(rootContext).onOpenChange(false);\n\t\t\t\t\t\tunref(rootContext).modelValue.value = props.value;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\", {}, () => [createTextVNode(toDisplayString(_ctx.value), 1)])]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\"id\", \"disabled\"])) : createCommentVNode(\"v-if\", true);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxItem.vue\nvar ComboboxItem_default = ComboboxItem_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxItem_default };\n//# sourceMappingURL=ComboboxItem.js.map","import { ListboxItemIndicator_default } from \"../Listbox/ListboxItemIndicator.js\";\nimport { createBlock, defineComponent, guardReactiveProps, normalizeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxItemIndicator.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxItemIndicator_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxItemIndicator\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"span\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(ListboxItemIndicator_default), normalizeProps(guardReactiveProps(props)), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxItemIndicator.vue\nvar ComboboxItemIndicator_default = ComboboxItemIndicator_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxItemIndicator_default };\n//# sourceMappingURL=ComboboxItemIndicator.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useId } from \"../shared/useId.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { injectComboboxGroupContext } from \"./ComboboxGroup.js\";\nimport { createBlock, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxLabel.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxLabel_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxLabel\",\n\tprops: {\n\t\tfor: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"div\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tuseForwardExpose();\n\t\tconst groupContext = injectComboboxGroupContext({\n\t\t\tid: \"\",\n\t\t\tlabelId: \"\"\n\t\t});\n\t\tgroupContext.labelId ||= useId(void 0, \"reka-combobox-group-label\");\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Primitive), mergeProps(props, { id: unref(groupContext).labelId }), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\"id\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxLabel.vue\nvar ComboboxLabel_default = ComboboxLabel_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxLabel_default };\n//# sourceMappingURL=ComboboxLabel.js.map","import { Teleport_default } from \"../Teleport/Teleport.js\";\nimport { createBlock, defineComponent, guardReactiveProps, normalizeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxPortal.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxPortal_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxPortal\",\n\tprops: {\n\t\tto: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdefer: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tforceMount: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Teleport_default), normalizeProps(guardReactiveProps(props)), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxPortal.vue\nvar ComboboxPortal_default = ComboboxPortal_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxPortal_default };\n//# sourceMappingURL=ComboboxPortal.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { computed, createBlock, defineComponent, mergeProps, onMounted, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxTrigger.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxTrigger_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxTrigger\",\n\tprops: {\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"button\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst { forwardRef, currentElement } = useForwardExpose();\n\t\tconst rootContext = injectComboboxRootContext();\n\t\tconst disabled = computed(() => props.disabled || rootContext.disabled.value || false);\n\t\tonMounted(() => {\n\t\t\tif (currentElement.value) rootContext.onTriggerElementChange(currentElement.value);\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Primitive), mergeProps(props, {\n\t\t\t\tref: unref(forwardRef),\n\t\t\t\ttype: _ctx.as === \"button\" ? \"button\" : void 0,\n\t\t\t\ttabindex: \"-1\",\n\t\t\t\t\"aria-label\": \"Show popup\",\n\t\t\t\t\"aria-haspopup\": \"listbox\",\n\t\t\t\t\"aria-expanded\": unref(rootContext).open.value,\n\t\t\t\t\"aria-controls\": unref(rootContext).contentId,\n\t\t\t\t\"data-state\": unref(rootContext).open.value ? \"open\" : \"closed\",\n\t\t\t\tdisabled: disabled.value,\n\t\t\t\t\"data-disabled\": disabled.value ? \"\" : void 0,\n\t\t\t\t\"aria-disabled\": disabled.value ?? void 0,\n\t\t\t\tonClick: _cache[0] || (_cache[0] = ($event) => unref(rootContext).onOpenChange(!unref(rootContext).open.value))\n\t\t\t}), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\n\t\t\t\t\"type\",\n\t\t\t\t\"aria-expanded\",\n\t\t\t\t\"aria-controls\",\n\t\t\t\t\"data-state\",\n\t\t\t\t\"disabled\",\n\t\t\t\t\"data-disabled\",\n\t\t\t\t\"aria-disabled\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxTrigger.vue\nvar ComboboxTrigger_default = ComboboxTrigger_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxTrigger_default };\n//# sourceMappingURL=ComboboxTrigger.js.map","import { injectConfigProviderContext } from \"../ConfigProvider/ConfigProvider.js\";\nimport { computed, ref } from \"vue\";\n\n//#region src/shared/useNonce.ts\nfunction useNonce(nonce) {\n\tconst context = injectConfigProviderContext({ nonce: ref() });\n\treturn computed(() => nonce?.value || context.nonce?.value);\n}\n\n//#endregion\nexport { useNonce };\n//# sourceMappingURL=useNonce.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { useNonce } from \"../shared/useNonce.js\";\nimport { Fragment, createElementBlock, createTextVNode, createVNode, defineComponent, mergeProps, openBlock, renderSlot, toRefs, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxViewport.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxViewport_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxViewport\",\n\tprops: {\n\t\tnonce: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst { forwardRef } = useForwardExpose();\n\t\tconst { nonce: propNonce } = toRefs(props);\n\t\tconst nonce = useNonce(propNonce);\n\t\tconst rootContext = injectComboboxRootContext();\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createElementBlock(Fragment, null, [createVNode(unref(Primitive), mergeProps({\n\t\t\t\t..._ctx.$attrs,\n\t\t\t\t...props\n\t\t\t}, {\n\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\"data-reka-combobox-viewport\": \"\",\n\t\t\t\trole: \"presentation\",\n\t\t\t\tstyle: {\n\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\tflex: unref(rootContext).isVirtual.value ? void 0 : 1,\n\t\t\t\t\toverflow: \"auto\"\n\t\t\t\t}\n\t\t\t}), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\"style\"]), createVNode(unref(Primitive), {\n\t\t\t\tas: \"style\",\n\t\t\t\tnonce: unref(nonce)\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => _cache[0] || (_cache[0] = [createTextVNode(\" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-combobox-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-combobox-viewport]::-webkit-scrollbar { display: none; } \")])),\n\t\t\t\t_: 1,\n\t\t\t\t__: [0]\n\t\t\t}, 8, [\"nonce\"])], 64);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxViewport.vue\nvar ComboboxViewport_default = ComboboxViewport_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxViewport_default };\n//# sourceMappingURL=ComboboxViewport.js.map","<script setup lang=\"ts\">\nimport {\n  computed,\n  type Component,\n  ref,\n  watch,\n  h,\n  FunctionalComponent,\n} from 'vue'\nimport {\n  ComboboxAnchor,\n  ComboboxContent,\n  ComboboxEmpty,\n  ComboboxGroup,\n  ComboboxInput,\n  ComboboxItem,\n  ComboboxItemIndicator,\n  ComboboxLabel,\n  ComboboxPortal,\n  ComboboxRoot,\n  ComboboxSeparator,\n  ComboboxTrigger,\n  ComboboxViewport,\n} from 'reka-ui'\nimport LucideCheck from '~icons/lucide/check'\nimport LucideChevronDown from '~icons/lucide/chevron-down'\n\ntype SimpleOption =\n  | string\n  | {\n      label: string\n      value: string\n      icon?: string | Component\n      disabled?: boolean\n    }\ntype GroupedOption = { group: string; options: SimpleOption[] }\ntype ComboboxOption = SimpleOption | GroupedOption\n\ninterface ComboboxProps {\n  options: Array<ComboboxOption>\n  modelValue?: string | null\n  placeholder?: string\n  disabled?: boolean\n}\n\nconst props = defineProps<ComboboxProps>()\nconst emit = defineEmits([\n  'update:modelValue',\n  'update:selectedOption',\n  'focus',\n  'blur',\n])\n\nconst searchTerm = ref(getDisplayValue(props.modelValue))\nconst internalModelValue = ref(props.modelValue)\nconst isOpen = ref(false)\nconst userHasTyped = ref(false)\n\nwatch(\n  () => props.modelValue,\n  (newValue) => {\n    internalModelValue.value = newValue\n    searchTerm.value = getDisplayValue(newValue)\n  },\n)\n\nconst onUpdateModelValue = (value: string | null) => {\n  internalModelValue.value = value\n  emit('update:modelValue', value)\n  searchTerm.value = getDisplayValue(value)\n  userHasTyped.value = false\n\n  const selectedOpt = value\n    ? allOptionsFlat.value.find((opt) => getValue(opt) === value) || null\n    : null\n  emit('update:selectedOption', selectedOpt)\n}\n\nfunction isGroup(option: ComboboxOption): option is GroupedOption {\n  return typeof option === 'object' && 'group' in option\n}\n\nfunction getLabel(option: SimpleOption): string {\n  return typeof option === 'string' ? option : option.label\n}\n\nfunction getValue(option: SimpleOption): string {\n  return typeof option === 'string' ? option : option.value\n}\n\nfunction isDisabled(option: SimpleOption): boolean {\n  return typeof option === 'object' && !!option.disabled\n}\n\nfunction getIcon(option: SimpleOption): string | Component | undefined {\n  return typeof option === 'object' ? option.icon : undefined\n}\n\nconst allOptionsFlat = computed(() => {\n  const flatOptions: SimpleOption[] = []\n  props.options.forEach((optionOrGroup) => {\n    if (isGroup(optionOrGroup)) {\n      flatOptions.push(...optionOrGroup.options)\n    } else {\n      flatOptions.push(optionOrGroup)\n    }\n  })\n  return flatOptions\n})\n\nfunction getDisplayValue(selectedValue: string | null | undefined): string {\n  if (!selectedValue) return ''\n  const options = props.options.flatMap((opt) =>\n    isGroup(opt) ? opt.options : opt,\n  )\n  const selectedOption = options.find((opt) => getValue(opt) === selectedValue)\n  return selectedOption ? getLabel(selectedOption) : selectedValue || ''\n}\n\nconst selectedOption = computed(() => {\n  if (!internalModelValue.value) return null\n  return allOptionsFlat.value.find(\n    (opt) => getValue(opt) === internalModelValue.value,\n  )\n})\n\nconst selectedOptionIcon = computed(() => {\n  return selectedOption.value ? getIcon(selectedOption.value) : undefined\n})\n\nconst RenderIcon: FunctionalComponent<{ icon?: string | Component }> = (\n  props,\n) => {\n  if (!props.icon) return null\n  const iconContent =\n    typeof props.icon === 'string'\n      ? h('span', props.icon)\n      : h(props.icon, { class: 'w-4 h-4' })\n\n  return h(\n    'span',\n    {\n      class: 'flex-shrink-0 w-4 h-4 inline-flex items-center justify-center',\n    },\n    [iconContent],\n  )\n}\n\nconst filterFunction = (options: ComboboxOption[], search: string) => {\n  if (!search) return options\n\n  const lowerSearch = search.toLowerCase()\n  const filtered: ComboboxOption[] = []\n\n  options.forEach((optionOrGroup) => {\n    if (isGroup(optionOrGroup)) {\n      const filteredGroupOptions = optionOrGroup.options.filter((opt) => {\n        const label = getLabel(opt).toLowerCase()\n        const value = getValue(opt).toLowerCase()\n\n        return label.includes(lowerSearch) || value.includes(lowerSearch)\n      })\n      if (filteredGroupOptions.length > 0) {\n        filtered.push({ ...optionOrGroup, options: filteredGroupOptions })\n      }\n    } else {\n      const label = getLabel(optionOrGroup).toLowerCase()\n      const value = getValue(optionOrGroup).toLowerCase()\n      if (label.includes(lowerSearch) || value.includes(lowerSearch)) {\n        filtered.push(optionOrGroup)\n      }\n    }\n  })\n  return filtered\n}\n\nconst filteredOptions = computed(() => {\n  if (isOpen.value && !userHasTyped.value && internalModelValue.value) {\n    return props.options\n  }\n  return filterFunction(props.options, searchTerm.value)\n})\n\nconst handleInputChange = (event: Event) => {\n  const target = event.target as HTMLInputElement\n  searchTerm.value = target.value\n  userHasTyped.value = true\n\n  if (searchTerm.value === '') {\n    internalModelValue.value = null\n    emit('update:modelValue', null)\n  }\n}\n\nconst handleOpenChange = (open: boolean) => {\n  isOpen.value = open\n  if (!open) {\n    searchTerm.value = getDisplayValue(internalModelValue.value)\n    userHasTyped.value = false\n  } else {\n    userHasTyped.value = false\n  }\n}\n\nconst handleFocus = (event: FocusEvent) => {\n  emit('focus', event)\n}\n\nconst handleBlur = (event: FocusEvent) => {\n  emit('blur', event)\n}\n</script>\n\n<template>\n  <div class=\"relative\">\n    <ComboboxRoot\n      :model-value=\"internalModelValue\"\n      @update:modelValue=\"onUpdateModelValue\"\n      @update:open=\"handleOpenChange\"\n      :ignore-filter=\"true\"\n    >\n      <ComboboxAnchor\n        class=\"flex h-7 w-full items-center justify-between gap-2 rounded bg-surface-gray-2 px-2 py-1 transition-colors hover:bg-surface-gray-3 border border-transparent focus-within:border-outline-gray-4 focus-within:ring-2 focus-within:ring-outline-gray-3\"\n        :class=\"{ 'opacity-50 pointer-events-none': disabled }\"\n      >\n        <div class=\"flex items-center gap-2 flex-1 overflow-hidden\">\n          <RenderIcon v-if=\"selectedOptionIcon\" :icon=\"selectedOptionIcon\" />\n          <ComboboxInput\n            :value=\"searchTerm\"\n            @input=\"handleInputChange\"\n            @focus=\"handleFocus\"\n            @blur=\"handleBlur\"\n            class=\"bg-transparent p-0 focus:outline-0 border-0 focus:border-0 focus:ring-0 text-base text-ink-gray-8 h-full placeholder:text-ink-gray-4 w-full\"\n            :placeholder=\"placeholder || ''\"\n            :disabled=\"disabled\"\n            autocomplete=\"off\"\n          />\n        </div>\n        <ComboboxTrigger :disabled=\"disabled\">\n          <LucideChevronDown class=\"h-4 w-4 text-ink-gray-5\" />\n        </ComboboxTrigger>\n      </ComboboxAnchor>\n      <ComboboxPortal>\n        <ComboboxContent\n          class=\"z-10 min-w-[--reka-combobox-trigger-width] mt-1 bg-surface-modal overflow-hidden rounded-lg shadow-2xl\"\n          position=\"popper\"\n          @openAutoFocus.prevent\n          @closeAutoFocus.prevent\n          :align=\"'start'\"\n        >\n          <ComboboxViewport\n            class=\"max-h-60 overflow-auto pb-1.5\"\n            :class=\"{ 'px-1.5 pt-1.5': !isGroup(filteredOptions[0]) }\"\n          >\n            <ComboboxEmpty\n              class=\"text-ink-gray-5 text-base text-center py-1.5 px-2.5\"\n            >\n              No results found for \"{{ searchTerm }}\"\n            </ComboboxEmpty>\n            <template\n              v-for=\"(optionOrGroup, index) in filteredOptions\"\n              :key=\"index\"\n            >\n              <ComboboxGroup class=\"px-1.5\" v-if=\"isGroup(optionOrGroup)\">\n                <ComboboxLabel\n                  class=\"px-2.5 pt-3 pb-1.5 text-sm font-medium text-ink-gray-5 sticky top-0 bg-surface-modal z-10\"\n                >\n                  {{ optionOrGroup.group }}\n                </ComboboxLabel>\n                <ComboboxItem\n                  v-for=\"(option, idx) in optionOrGroup.options\"\n                  :key=\"`${index}-${idx}`\"\n                  :value=\"getValue(option)\"\n                  :disabled=\"isDisabled(option)\"\n                  class=\"text-base leading-none text-ink-gray-7 rounded flex items-center h-7 px-2.5 py-1.5 relative select-none data-[disabled]:opacity-50 data-[disabled]:pointer-events-none data-[highlighted]:outline-none data-[highlighted]:bg-surface-gray-3\"\n                >\n                  <span class=\"flex items-center gap-2 pr-6 flex-1\">\n                    <RenderIcon :icon=\"getIcon(option)\" />\n                    {{ getLabel(option) }}\n                  </span>\n                  <ComboboxItemIndicator\n                    class=\"inline-flex ml-2 items-center justify-center\"\n                  >\n                    <LucideCheck class=\"size-4\" />\n                  </ComboboxItemIndicator>\n                </ComboboxItem>\n              </ComboboxGroup>\n              <ComboboxItem\n                v-else\n                :key=\"index\"\n                :value=\"getValue(optionOrGroup)\"\n                :disabled=\"isDisabled(optionOrGroup)\"\n                class=\"text-base leading-none text-ink-gray-7 rounded flex items-center h-7 px-2.5 py-1.5 relative select-none data-[disabled]:opacity-50 data-[disabled]:pointer-events-none data-[highlighted]:outline-none data-[highlighted]:bg-surface-gray-3\"\n              >\n                <span class=\"flex items-center gap-2 pr-6 flex-1\">\n                  <RenderIcon\n                    v-if=\"getIcon(optionOrGroup)\"\n                    :icon=\"getIcon(optionOrGroup)\"\n                  />\n                  {{ getLabel(optionOrGroup) }}\n                </span>\n                <ComboboxItemIndicator\n                  class=\"absolute right-0 w-6 inline-flex items-center justify-center\"\n                >\n                  <LucideCheck class=\"h-4 w-4\" />\n                </ComboboxItemIndicator>\n              </ComboboxItem>\n            </template>\n          </ComboboxViewport>\n        </ComboboxContent>\n      </ComboboxPortal>\n    </ComboboxRoot>\n  </div>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M8 6.5C9.10457 6.5 10 5.60457 10 4.5C10 3.39543 9.10457 2.5 8 2.5C6.89543 2.5 6 3.39543 6 4.5C6 5.60457 6.89543 6.5 8 6.5ZM8 7.5C9.65685 7.5 11 6.15685 11 4.5C11 2.84315 9.65685 1.5 8 1.5C6.34315 1.5 5 2.84315 5 4.5C5 6.15685 6.34315 7.5 8 7.5ZM12 13.5C13.1046 13.5 14 12.6046 14 11.5C14 10.3954 13.1046 9.5 12 9.5C10.8954 9.5 10 10.3954 10 11.5C10 12.6046 10.8954 13.5 12 13.5ZM12 14.5C13.6569 14.5 15 13.1569 15 11.5C15 9.84315 13.6569 8.5 12 8.5C10.3431 8.5 9 9.84315 9 11.5C9 13.1569 10.3431 14.5 12 14.5ZM6 11.5C6 12.6046 5.10457 13.5 4 13.5C2.89543 13.5 2 12.6046 2 11.5C2 10.3954 2.89543 9.5 4 9.5C5.10457 9.5 6 10.3954 6 11.5ZM7 11.5C7 13.1569 5.65685 14.5 4 14.5C2.34315 14.5 1 13.1569 1 11.5C1 9.84315 2.34315 8.5 4 8.5C5.65685 8.5 7 9.84315 7 11.5Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"1.5\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"feather feather-minimize-2\"\n  >\n    <polyline points=\"4 14 10 14 10 20\" />\n    <polyline points=\"20 10 14 10 14 4\" />\n    <line x1=\"14\" y1=\"10\" x2=\"21\" y2=\"3\" />\n    <line x1=\"3\" y1=\"21\" x2=\"10\" y2=\"14\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"1.5\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"feather feather-maximize-2\"\n  >\n    <polyline points=\"15 3 21 3 21 9\" />\n    <polyline points=\"9 21 3 21 3 15\" />\n    <line x1=\"21\" y1=\"3\" x2=\"14\" y2=\"10\" />\n    <line x1=\"3\" y1=\"21\" x2=\"10\" y2=\"14\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M14.25 8C14.25 11.4518 11.4518 14.25 8 14.25C4.54822 14.25 1.75 11.4518 1.75 8C1.75 4.54822 4.54822 1.75 8 1.75C11.4518 1.75 14.25 4.54822 14.25 8ZM15.25 8C15.25 12.0041 12.0041 15.25 8 15.25C3.99594 15.25 0.75 12.0041 0.75 8C0.75 3.99594 3.99594 0.75 8 0.75C12.0041 0.75 15.25 3.99594 15.25 8ZM7.37988 9.37695V9.44531H8.39062V9.37695C8.39062 9.10352 8.41992 8.88542 8.47852 8.72266C8.53711 8.55664 8.62826 8.41504 8.75195 8.29785C8.87891 8.18066 9.04329 8.06185 9.24512 7.94141C9.56087 7.74609 9.8099 7.51009 9.99219 7.2334C10.1745 6.95345 10.2656 6.61328 10.2656 6.21289C10.2656 5.82878 10.1745 5.49186 9.99219 5.20215C9.81315 4.91244 9.56087 4.6862 9.23535 4.52344C8.90983 4.36068 8.52734 4.2793 8.08789 4.2793C7.69401 4.2793 7.33268 4.35579 7.00391 4.50879C6.67513 4.65853 6.41146 4.88151 6.21289 5.17773C6.01432 5.4707 5.90853 5.82878 5.89551 6.25195H6.96973C6.986 6.0013 7.04948 5.79785 7.16016 5.6416C7.27083 5.4821 7.40755 5.36491 7.57031 5.29004C7.73633 5.21517 7.90885 5.17773 8.08789 5.17773C8.28971 5.17773 8.47363 5.22005 8.63965 5.30469C8.80892 5.38932 8.94075 5.50814 9.03516 5.66113C9.13281 5.81413 9.18164 5.99479 9.18164 6.20312C9.18164 6.47005 9.11003 6.69954 8.9668 6.8916C8.82357 7.0804 8.64453 7.23828 8.42969 7.36523C8.21159 7.50195 8.02279 7.64193 7.86328 7.78516C7.70703 7.92513 7.58659 8.11556 7.50195 8.35645C7.42057 8.59408 7.37988 8.93425 7.37988 9.37695ZM7.37988 11.5205C7.51986 11.654 7.69076 11.7207 7.89258 11.7207C8.09766 11.7207 8.26855 11.654 8.40527 11.5205C8.54525 11.3838 8.61523 11.2161 8.61523 11.0176C8.61523 10.8158 8.54525 10.6481 8.40527 10.5146C8.26855 10.3779 8.09766 10.3096 7.89258 10.3096C7.69076 10.3096 7.51986 10.3779 7.37988 10.5146C7.24316 10.6481 7.1748 10.8158 7.1748 11.0176C7.1748 11.2161 7.24316 11.3838 7.37988 11.5205Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <div class=\"flex flex-col justify-center items-center gap-1 mt-4 mb-7\">\n    <component :is=\"logo\" class=\"size-10 shrink-0 rounded mb-4\" />\n    <div class=\"text-base font-medium\">\n      {{ 'Welcome to ' + title }}\n    </div>\n    <div class=\"text-p-base font-normal\">\n      {{ `${stepsCompleted}/${totalSteps} steps completed` }}\n    </div>\n  </div>\n  <div class=\"flex flex-col gap-2.5 overflow-hidden\">\n    <div class=\"flex justify-between items-center py-0.5\">\n      <Badge\n        :label=\"`${completedPercentage}% completed`\"\n        :theme=\"completedPercentage == 100 ? 'green' : 'orange'\"\n        size=\"lg\"\n      />\n      <div class=\"flex\">\n        <Button\n          v-if=\"completedPercentage != 0\"\n          variant=\"ghost\"\n          :label=\"'Reset all'\"\n          @click=\"() => resetAll(afterResetAll)\"\n        />\n        <Button\n          v-if=\"completedPercentage != 100\"\n          variant=\"ghost\"\n          :label=\"'Skip all'\"\n          @click=\"() => skipAll(afterSkipAll)\"\n        />\n      </div>\n    </div>\n    <div class=\"flex flex-col gap-1.5 overflow-y-auto\">\n      <div\n        v-for=\"step in steps\"\n        :key=\"step.title\"\n        class=\"group w-full flex gap-2 justify-between items-center hover:bg-surface-gray-1 rounded px-2 py-1.5 cursor-pointer\"\n        @click.stop=\"\n          () => !step.completed && !isDependent(step) && step.onClick()\n        \"\n      >\n        <component\n          :is=\"isDependent(step) ? Tooltip : 'div'\"\n          :text=\"dependsOnTooltip(step)\"\n        >\n          <div\n            class=\"flex gap-2 items-center\"\n            :class=\"[\n              step.completed\n                ? 'text-ink-gray-5'\n                : isDependent(step)\n                  ? 'text-ink-gray-4'\n                  : 'text-ink-gray-8',\n            ]\"\n          >\n            <component :is=\"step.icon\" class=\"h-4\" />\n            <div class=\"text-base\" :class=\"{ 'line-through': step.completed }\">\n              {{ step.title }}\n            </div>\n          </div>\n        </component>\n        <Button\n          v-if=\"!step.completed && !isDependent(step)\"\n          :label=\"'Skip'\"\n          class=\"!h-4 text-xs !text-ink-gray-6 hidden group-hover:flex\"\n          @click=\"() => skip(step.name, afterSkip)\"\n        />\n        <Button\n          v-else-if=\"!isDependent(step)\"\n          :label=\"'Reset'\"\n          class=\"!h-4 text-xs !text-ink-gray-6 hidden group-hover:flex\"\n          @click.stop=\"() => reset(step.name, afterReset)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { useOnboarding } from './onboarding'\nimport Tooltip from '../../src/components/Tooltip/Tooltip.vue'\nimport Button from '../../src/components/Button/Button.vue'\nimport Badge from '../../src/components/Badge/Badge.vue'\n\nconst props = defineProps({\n  appName: {\n    type: String,\n    default: 'frappecrm',\n  },\n  title: {\n    type: String,\n    default: 'Frappe CRM',\n  },\n  logo: {\n    type: Object,\n    required: true,\n  },\n  afterSkip: {\n    type: Function,\n    default: () => {},\n  },\n  afterSkipAll: {\n    type: Function,\n    default: () => {},\n  },\n  afterReset: {\n    type: Function,\n    default: () => {},\n  },\n  afterResetAll: {\n    type: Function,\n    default: () => {},\n  },\n})\n\nfunction isDependent(step) {\n  if (step.dependsOn && !step.completed) {\n    const dependsOnStep = steps.find((s) => s.name === step.dependsOn)\n    if (dependsOnStep && !dependsOnStep.completed) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction dependsOnTooltip(step) {\n  if (step.dependsOn && !step.completed) {\n    const dependsOnStep = steps.find((s) => s.name === step.dependsOn)\n    if (dependsOnStep && !dependsOnStep.completed) {\n      return `You need to complete \"${dependsOnStep.title}\" first.`\n    }\n  }\n  return ''\n}\n\nconst {\n  steps,\n  stepsCompleted,\n  totalSteps,\n  completedPercentage,\n  skip,\n  skipAll,\n  reset,\n  resetAll,\n} = useOnboarding(props.appName)\n</script>\n","<template>\n  <div class=\"flex flex-col gap-2 overflow-hidden\">\n    <div class=\"m-1\">\n      <TextInput\n        ref=\"searchInput\"\n        :placeholder=\"'Search articles...'\"\n        v-model=\"search\"\n        :debounce=\"300\"\n      >\n        <template #prefix>\n          <FeatherIcon name=\"search\" class=\"h-4 text-ink-gray-5\" />\n        </template>\n      </TextInput>\n    </div>\n    <div\n      class=\"flex justify-between items-center text-base text-ink-gray-5 mx-2\"\n    >\n      <div>All articles</div>\n      <Button variant=\"ghost\" @click=\"openDocs\">\n        <FeatherIcon name=\"arrow-up-right\" class=\"h-4 text-ink-gray-5\" />\n      </Button>\n    </div>\n    <div class=\"flex flex-col gap-1.5 overflow-y-auto\">\n      <div\n        v-for=\"a in parsedArticles\"\n        :key=\"a.title\"\n        class=\"flex flex-col gap-1.5\"\n      >\n        <div\n          class=\"flex items-center justify-between p-1.5 hover:bg-surface-gray-1 rounded cursor-pointer\"\n          @click=\"a.opened = !a.opened\"\n        >\n          <div class=\"flex items-center gap-2\">\n            <FeatherIcon\n              :name=\"a.opened ? 'chevron-down' : 'chevron-right'\"\n              class=\"h-4 text-ink-gray-5\"\n            />\n            <div class=\"text-base text-ink-gray-8\">{{ a.title }}</div>\n          </div>\n        </div>\n        <div v-show=\"a.opened\" class=\"flex flex-col gap-1.5 ml-5\">\n          <div\n            v-for=\"subArticle in a.subArticles\"\n            :key=\"subArticle.name\"\n            class=\"group flex items-center justify-between gap-2 p-1.5 hover:bg-surface-gray-1 rounded cursor-pointer\"\n            @click=\"() => openDoc(subArticle.name)\"\n          >\n            <div class=\"flex items-center gap-2\">\n              <FeatherIcon name=\"file-text\" class=\"h-4 text-ink-gray-5\" />\n              <div class=\"text-base text-ink-gray-8\">\n                {{ subArticle.title }}\n              </div>\n            </div>\n            <FeatherIcon\n              name=\"arrow-up-right\"\n              class=\"h-4 hidden group-hover:flex text-ink-gray-5\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport Button from '../../src/components/Button/Button.vue'\nimport FeatherIcon from '../../src/components/FeatherIcon.vue'\nimport TextInput from '../../src/components/TextInput/TextInput.vue'\nimport { ref, computed, onMounted } from 'vue'\n\nconst props = defineProps({\n  docsLink: {\n    type: String,\n    default: 'https://docs.frappe.io/crm',\n  },\n})\n\nconst searchInput = ref(null)\nconst search = ref('')\nconst articles = defineModel()\n\nconst parsedArticles = computed(() => {\n  if (!search.value) return articles.value\n\n  return articles.value.filter((a) => {\n    const filteredSubArticles = a.subArticles.filter((subArticle) => {\n      return subArticle.title.toLowerCase().includes(search.value.toLowerCase())\n    })\n\n    if (\n      a.title.toLowerCase().includes(search.value.toLowerCase()) ||\n      filteredSubArticles.length > 0\n    ) {\n      return {\n        ...a,\n        subArticles: filteredSubArticles,\n      }\n    }\n\n    return false\n  })\n})\n\nfunction openDocs() {\n  window.open(props.docsLink, '_blank')\n}\n\nfunction openDoc(name) {\n  window.open(`${props.docsLink}/${name}`, '_blank')\n}\n\nonMounted(() => {\n  searchInput.value?.el?.focus()\n})\n</script>\n","<template>\n  <div\n    v-show=\"show\"\n    class=\"fixed z-50 right-0 w-80 h-[calc(100%_-_80px)] text-ink-gray-9 m-5 mt-[62px] p-3 flex gap-2 flex-col justify-between rounded-lg bg-surface-modal shadow-2xl\"\n    :class=\"{ 'top-[calc(100%_-_120px)] border': minimize }\"\n    @click.stop\n  >\n    <div class=\"flex items-center justify-between px-2 py-1.5\">\n      <div class=\"text-base font-medium\">\n        {{ headingTitle }}\n      </div>\n      <div class=\"flex gap-1\">\n        <Dropdown v-if=\"options.length\" :options=\"options\">\n          <Button variant=\"ghost\" icon=\"more-horizontal\" />\n        </Dropdown>\n        <Button @click=\"minimize = !minimize\" variant=\"ghost\">\n          <component\n            :is=\"minimize ? MaximizeIcon : MinimizeIcon\"\n            class=\"h-3.5\"\n          />\n        </Button>\n        <Button variant=\"ghost\" @click=\"show = false\">\n          <FeatherIcon name=\"x\" class=\"h-3.5\" />\n        </Button>\n      </div>\n    </div>\n    <div class=\"h-full overflow-hidden flex flex-col\">\n      <OnboardingSteps\n        v-if=\"!isOnboardingStepsCompleted && !showHelpCenter\"\n        :title=\"title\"\n        :logo=\"logo\"\n        :afterSkip=\"afterSkip\"\n        :afterSkipAll=\"afterSkipAll\"\n        :afterReset=\"afterReset\"\n        :afterResetAll=\"afterResetAll\"\n        :appName=\"appName\"\n      />\n      <HelpCenter\n        v-else-if=\"showHelpCenter\"\n        v-model=\"articles\"\n        :docsLink=\"docsLink\"\n      />\n    </div>\n    <div v-for=\"item in footerItems\" class=\"flex flex-col gap-1.5\">\n      <div\n        class=\"w-full flex gap-2 items-center hover:bg-surface-gray-1 text-ink-gray-8 rounded px-2 py-1.5 cursor-pointer\"\n        @click=\"item.onClick\"\n      >\n        <component :is=\"item.icon\" class=\"h-4\" />\n        <div class=\"text-base\">{{ item.label }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport Dropdown from '../../src/components/Dropdown/Dropdown.vue'\nimport Button from '../../src/components/Button/Button.vue'\nimport StepsIcon from '../Icons/StepsIcon.vue'\nimport MinimizeIcon from '../Icons/MinimizeIcon.vue'\nimport MaximizeIcon from '../Icons/MaximizeIcon.vue'\nimport HelpIcon from '../Icons/HelpIcon.vue'\nimport OnboardingSteps from '../Onboarding/OnboardingSteps.vue'\nimport HelpCenter from '../HelpCenter/HelpCenter.vue'\nimport { useOnboarding } from '../Onboarding/onboarding'\nimport { showHelpCenter } from '../HelpCenter/helpCenter'\nimport { minimize } from '../Help/help'\nimport { onMounted, computed } from 'vue'\nimport FeatherIcon from '../../src/components/FeatherIcon.vue'\n\nconst props = defineProps({\n  appName: {\n    type: String,\n    default: 'frappecrm',\n  },\n  title: {\n    type: String,\n    default: 'Frappe CRM',\n  },\n  logo: {\n    type: Object,\n    required: true,\n  },\n  afterSkip: {\n    type: Function,\n    default: () => {},\n  },\n  afterSkipAll: {\n    type: Function,\n    default: () => {},\n  },\n  afterReset: {\n    type: Function,\n    default: () => {},\n  },\n  afterResetAll: {\n    type: Function,\n    default: () => {},\n  },\n  docsLink: {\n    type: String,\n    default: 'https://docs.frappe.io/crm',\n  },\n})\n\nconst { syncStatus, resetAll, isOnboardingStepsCompleted } = useOnboarding(\n  props.appName,\n)\n\nconst show = defineModel()\nconst articles = defineModel('articles')\n\nconst headingTitle = computed(() => {\n  if (!isOnboardingStepsCompleted.value && !showHelpCenter.value) {\n    return 'Getting started'\n  } else if (showHelpCenter.value) {\n    return 'Help center'\n  }\n})\n\nconst options = computed(() => {\n  let items = [\n    {\n      icon: StepsIcon,\n      label: 'Reset onboarding steps',\n      onClick: resetOnboardingSteps,\n      condition: () => showHelpCenter.value && isOnboardingStepsCompleted.value,\n    },\n  ]\n\n  return items.filter((item) => item.condition())\n})\n\nconst footerItems = computed(() => {\n  let items = [\n    {\n      icon: HelpIcon,\n      label: 'Help centre',\n      onClick: () => {\n        syncStatus()\n        showHelpCenter.value = true\n      },\n      condition: !isOnboardingStepsCompleted.value && !showHelpCenter.value,\n    },\n    {\n      icon: StepsIcon,\n      label: 'Getting started',\n      onClick: () => (showHelpCenter.value = false),\n      condition: showHelpCenter.value && !isOnboardingStepsCompleted.value,\n    },\n  ]\n\n  return items.filter((item) => item.condition)\n})\n\nfunction resetOnboardingSteps() {\n  resetAll()\n  isOnboardingStepsCompleted.value = false\n  showHelpCenter.value = false\n}\n\nonMounted(() => {\n  if (isOnboardingStepsCompleted.value) {\n    showHelpCenter.value = true\n  }\n})\n</script>\n","<template>\n  <div\n    v-if=\"!isSidebarCollapsed\"\n    class=\"flex flex-col gap-3 shadow-sm rounded-lg py-2.5 px-3 bg-surface-modal text-base\"\n  >\n    <div\n      v-if=\"stepsCompleted != totalSteps\"\n      class=\"inline-flex text-ink-gray-9 gap-2\"\n    >\n      <StepsIcon class=\"h-4 my-0.5 shrink-0\" />\n      <div class=\"flex flex-col text-p-sm gap-0.5\">\n        <div class=\"font-medium\">\n          {{ 'Getting started' }}\n        </div>\n        <div class=\"text-ink-gray-7\">\n          {{ `${stepsCompleted}/${totalSteps} steps` }}\n        </div>\n      </div>\n    </div>\n    <div v-else class=\"flex flex-col gap-1\">\n      <div class=\"flex items-center justify-between gap-1\">\n        <div class=\"flex items-center gap-2 shrink-0\">\n          <StepsIcon class=\"h-4 my-0.5\" />\n          <div class=\"text-ink-gray-9 font-medium\">\n            {{ 'You are all set' }}\n          </div>\n        </div>\n        <FeatherIcon\n          name=\"x\"\n          class=\"h-4 cursor-pointer\"\n          @click=\"\n            () => {\n              showHelpCenter = true\n              isOnboardingStepsCompleted = true\n            }\n          \"\n        />\n      </div>\n      <div class=\"text-p-sm text-ink-gray-7\">\n        {{ 'All steps are completed successfully' }}\n      </div>\n    </div>\n    <Button\n      v-if=\"stepsCompleted != totalSteps\"\n      :label=\"stepsCompleted == 0 ? 'Start now' : 'Continue'\"\n      theme=\"blue\"\n      @click=\"openOnboarding\"\n    >\n      <template #prefix>\n        <FeatherIcon name=\"chevrons-right\" class=\"size-4\" />\n      </template>\n    </Button>\n  </div>\n  <Button v-else-if=\"stepsCompleted != totalSteps\" @click=\"openOnboarding\">\n    <StepsIcon class=\"h-4 my-0.5 shrink-0\" />\n  </Button>\n</template>\n<script setup>\nimport StepsIcon from '../Icons/StepsIcon.vue'\nimport Button from '../../src/components/Button/Button.vue'\nimport FeatherIcon from '../../src/components/FeatherIcon.vue'\nimport { useOnboarding } from './onboarding'\nimport { showHelpCenter } from '../HelpCenter/helpCenter'\nimport { showHelpModal, minimize } from '../Help/help'\n\nconst props = defineProps({\n  isSidebarCollapsed: {\n    type: Boolean,\n    default: false,\n  },\n  appName: {\n    type: String,\n    default: 'frappecrm',\n  },\n})\n\nconst { stepsCompleted, totalSteps, isOnboardingStepsCompleted } =\n  useOnboarding(props.appName)\n\nconst openOnboarding = () => {\n  minimize.value = false\n  showHelpModal.value = true\n}\n</script>\n","<template>\n  <Dialog v-model=\"show\" :options=\"options\">\n    <template #boday-header>\n      <slot name=\"body-header\"></slot>\n    </template>\n    <template #body-content>\n      <slot>\n        <div class=\"flex flex-col gap-2 text-ink-gray-9 text-base\">\n          <div v-if=\"currentStep.message\">{{ currentStep.message }}</div>\n          <video\n            v-if=\"currentStep.videoURL\"\n            class=\"w-full rounded\"\n            controls\n            autoplay\n            muted\n          >\n            <source :src=\"currentStep.videoURL\" type=\"video/mp4\" />\n            Your browser does not support the video tag.\n          </video>\n        </div>\n      </slot>\n    </template>\n    <template #actions>\n      <slot name=\"actions\"></slot>\n    </template>\n  </Dialog>\n</template>\n<script setup>\nimport { Dialog } from '../../src/components/Dialog'\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  currentStep: {\n    type: Object,\n    default: {\n      title: 'Title',\n      message: 'Message',\n      videoURL: '',\n      buttonLabel: 'Button Label',\n      onClick: () => {},\n    },\n  },\n  dialogOptions: {\n    type: Object,\n    default: () => ({}),\n  },\n})\n\nconst show = defineModel()\n\nconst options = computed(() => {\n  if (props.dialogOptions && Object.keys(props.dialogOptions).length) {\n    return props.dialogOptions\n  }\n\n  return {\n    title: props.currentStep.title,\n    size: '2xl',\n    actions: [\n      {\n        label: props.currentStep.buttonLabel,\n        variant: 'solid',\n        onClick: props.currentStep.onClick,\n      },\n    ],\n  }\n})\n</script>\n","<template>\n  <svg\n    width=\"17\"\n    height=\"16\"\n    viewBox=\"0 0 17 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M6.2641 1C5.5758 1 4.97583 1.46845 4.80889 2.1362L3.57555 7.06953C3.33887 8.01625 4.05491 8.93333 5.03077 8.93333H7.50682L6.72168 14.4293C6.68838 14.6624 6.82229 14.8872 7.04319 14.9689C7.26408 15.0507 7.51204 14.9671 7.63849 14.7684L13.2161 6.00354C13.6398 5.33782 13.1616 4.46667 12.3725 4.46667H9.59038L10.3017 1.62127C10.3391 1.4719 10.3055 1.31365 10.2108 1.19229C10.116 1.07094 9.97063 1 9.81666 1H6.2641ZM5.77903 2.37873C5.83468 2.15615 6.03467 2 6.2641 2H9.17627L8.46492 4.8454C8.42758 4.99477 8.46114 5.15302 8.55589 5.27437C8.65064 5.39573 8.79602 5.46667 8.94999 5.46667H12.3725L8.0395 12.2757L8.5783 8.50404C8.5988 8.36056 8.55602 8.21523 8.46105 8.10573C8.36608 7.99623 8.22827 7.93333 8.08332 7.93333H5.03077C4.70548 7.93333 4.4668 7.62764 4.5457 7.31207L5.77903 2.37873Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <div\n    v-if=\"!isSidebarCollapsed && showBanner\"\n    class=\"flex flex-col gap-3 shadow-sm rounded-lg py-2.5 px-3 bg-surface-modal text-base\"\n  >\n    <div class=\"flex flex-col gap-1\">\n      <div class=\"inline-flex text-ink-gray-9 gap-2 items-center font-medium\">\n        <FeatherIcon class=\"h-4\" name=\"info\" />\n        {{ trialTitle }}\n      </div>\n      <div class=\"text-ink-gray-7 text-p-sm\">\n        {{ trialMessage }}\n      </div>\n    </div>\n    <Button :label=\"'Upgrade plan'\" theme=\"blue\" @click=\"upgradePlan\">\n      <template #prefix>\n        <LightningIcon class=\"size-4\" />\n      </template>\n    </Button>\n  </div>\n  <Button v-else-if=\"isSidebarCollapsed && showBanner\" @click=\"upgradePlan\">\n    <LightningIcon class=\"h-4 my-0.5 shrink-0\" />\n  </Button>\n</template>\n<script setup>\nimport LightningIcon from '../Icons/LightningIcon.vue'\nimport FeatherIcon from '../../src/components/FeatherIcon.vue'\nimport { Button } from '../../src/components/Button'\nimport { createResource } from '../../src/resources'\nimport { ref, computed } from 'vue'\n\nconst props = defineProps({\n  isSidebarCollapsed: {\n    type: Boolean,\n    default: false,\n  },\n  afterUpgrade: {\n    type: Function,\n    default: () => {},\n  },\n})\n\nconst trialEndDays = ref(0)\nconst showBanner = ref(false)\nconst baseEndpoint = ref('https://frappecloud.com')\nconst siteName = ref('')\n\nconst trialTitle = computed(() => {\n  return trialEndDays.value > 1\n    ? 'Trial ends in ' + trialEndDays.value + ' days'\n    : 'Trial ends tomorrow'\n})\n\nconst trialMessage = 'Upgrade to a paid plan for uninterrupted services'\n\ncreateResource({\n  url: 'frappe.integrations.frappe_providers.frappecloud_billing.current_site_info',\n  cache: 'current_site_info_data',\n  auto: true,\n  onSuccess: (data) => {\n    trialEndDays.value = calculateTrialEndDays(data.trial_end_date)\n    baseEndpoint.value = data.base_url\n    siteName.value = data.site_name\n    showBanner.value = data.plan.is_trial_plan && trialEndDays.value > 0\n  },\n})\n\nfunction calculateTrialEndDays(trialEndDate) {\n  if (!trialEndDate) return 0\n\n  trialEndDate = new Date(trialEndDate)\n  const today = new Date()\n  const diffTime = trialEndDate - today\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n  return diffDays\n}\n\nfunction upgradePlan() {\n  window.open(\n    `${baseEndpoint.value}/dashboard/sites/${siteName.value}`,\n    '_blank',\n  )\n  props.afterUpgrade?.()\n}\n</script>\n","<template>\n  <div\n    class=\"flex w-full min-w-0 items-center rounded p-2 text-base font-medium text-gray-800\"\n    :class=\"{ 'bg-gray-200': active }\"\n  >\n    <component\n      :is=\"item.icon\"\n      v-if=\"item.icon\"\n      class=\"mr-3 h-4 w-4 text-gray-700\"\n    />\n    <span class=\"overflow-hidden text-ellipsis whitespace-nowrap\">\n      {{ item.title }}&nbsp;\n    </span>\n    <span\n      v-if=\"item.modified\"\n      class=\"ml-auto whitespace-nowrap pl-2 text-gray-600\"\n    >\n      {{ dayjs(item.modified).fromNow(true) }}\n    </span>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { dayjs } from \"@/dayjs\";\n\ndefineProps({\n  item: {\n    type: Object,\n    required: true,\n  },\n  active: {\n    type: Boolean,\n    required: true,\n  },\n});\n</script>\n","<template>\n  <Dialog v-model=\"show\" :options=\"{ size: 'xl', position: 'top' }\">\n    <template #body>\n      <div>\n        <Combobox nullable @update:model-value=\"onSelection\">\n          <div class=\"relative\">\n            <div class=\"pl-4.5 absolute inset-y-0 left-0 flex items-center\">\n              <LucideSearch class=\"h-4 w-4\" />\n            </div>\n            <ComboboxInput\n              placeholder=\"Search tickets, emails, comments, or #234 to navigate to ticket\"\n              class=\"pl-11.5 pr-4.5 w-full border-none bg-transparent py-3 text-base text-gray-800 placeholder:text-gray-500 focus:ring-0\"\n              autocomplete=\"off\"\n              @input=\"onInput\"\n            />\n          </div>\n          <ComboboxOptions\n            class=\"max-h-96 overflow-auto border-t border-gray-100\"\n            static\n            :hold=\"true\"\n          >\n            <div\n              v-for=\"group in groupedSearchResults\"\n              :key=\"group.title\"\n              class=\"mt-4.5 mb-2 first:mt-3\"\n            >\n              <div\n                v-if=\"!group.hideTitle\"\n                class=\"px-4.5 mb-2.5 text-base text-gray-600\"\n              >\n                {{ group.title }}\n              </div>\n              <ComboboxOption\n                v-for=\"item in group.items\"\n                :key=\"`${item.doctype}:${item.name}`\"\n                v-slot=\"{ active }\"\n                :value=\"item\"\n                class=\"px-2.5\"\n                :disabled=\"item.disabled\"\n              >\n                <component\n                  :is=\"group.component\"\n                  :item=\"item\"\n                  :active=\"active\"\n                />\n              </ComboboxOption>\n            </div>\n          </ComboboxOptions>\n        </Combobox>\n      </div>\n    </template>\n  </Dialog>\n</template>\n<script setup>\nimport { useDevice } from \"@/composables\";\nimport { useShortcut } from \"@/composables/shortcuts\";\nimport { isCustomerPortal } from \"@/utils\";\nimport {\n  Combobox,\n  ComboboxInput,\n  ComboboxOption,\n  ComboboxOptions,\n} from \"@headlessui/vue\";\n\nimport { Dialog } from \"frappe-ui\";\nimport { computed, h, onBeforeUnmount, onMounted, ref, watch } from \"vue\";\nimport { useRouter } from \"vue-router\";\n\nimport LucideBookOpen from \"~icons/lucide/book-open\";\nimport { showCommentBox, showEmailBox } from \"@/pages/ticket/modalStates\";\nimport LucideTicket from \"~icons/lucide/ticket\";\nimport CPGroup from \"./CPGroup.vue\";\nconst router = useRouter();\nconst { isMac } = useDevice();\n\n// Reactive data\nconst show = defineModel();\nconst query = ref(\"\");\n\n// Computed properties\nconst navigationItems = computed(() => {\n  const items = [];\n  if (query.value.startsWith(\"#\")) {\n    items.push({\n      title: `Go to Ticket #${query.value.slice(1)}`,\n      icon: () => h(LucideTicket),\n      route: {\n        name: \"TicketAgent\",\n        params: { ticketId: query.value.slice(1) },\n      },\n    });\n  } else {\n    items.push({\n      title: \"Tickets\",\n      icon: () => h(LucideTicket),\n      route: { name: \"TicketsAgent\" },\n    });\n  }\n  items.push({\n    title: \"Knowledge Base\",\n    icon: () => h(LucideBookOpen),\n    route: {\n      name: isCustomerPortal.value\n        ? \"CustomerKnowledgeBase\"\n        : \"AgentKnowledgeBase\",\n    },\n  });\n\n  return {\n    title: \"Jump to\",\n    component: h(CPGroup),\n    items,\n  };\n});\n\nconst fullSearchItem = computed(() => ({\n  title: \"Search\",\n  hideTitle: true,\n  component: h(CPGroup),\n  items: [\n    {\n      title: `Search for \"${query.value}\"`,\n      icon: () => h(LucideFileSearch),\n      route: { name: \"SearchAgent\", query: { q: query.value } },\n    },\n  ],\n}));\n\nconst groupedSearchResults = computed(() => {\n  let results = [navigationItems.value];\n\n  // Add search option if there's a query and we're not in customer portal\n  if (query.value.length > 2 && !isCustomerPortal.value) {\n    results.push(fullSearchItem.value);\n  }\n\n  return results;\n});\n\n// Methods\nconst onInput = (e) => {\n  query.value = e.target.value;\n};\n\nconst onSelection = (value) => {\n  if (value) {\n    router.push(value.route);\n    hideCommandPalette();\n  }\n};\n\nconst addKeyboardShortcut = () => {\n  useShortcut({ key: \"k\", meta: true }, toggleCommandPalette);\n};\n\nfunction hideCommandPalette() {\n  show.value = false;\n}\n\nfunction toggleCommandPalette() {\n  show.value = !show.value;\n}\n\n// Watchers\nwatch(show, (value) => {\n  if (value) {\n    query.value = \"\";\n  }\n});\n\n// Lifecycle hooks\nonMounted(() => {\n  if (isCustomerPortal.value) return;\n  addKeyboardShortcut();\n});\n\nonBeforeUnmount(() => {\n  hideCommandPalette();\n});\n</script>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M3 8.5C4.10457 8.5 5 9.39543 5 10.5C5 11.4316 4.3622 12.2113 3.5 12.4336V14C3.5 14.2761 3.27614 14.5 3 14.5C2.72386 14.5 2.5 14.2761 2.5 14V12.4336C1.6378 12.2113 1 11.4316 1 10.5C1 9.39543 1.89543 8.5 3 8.5ZM8 9.5C8.27614 9.5 8.5 9.72386 8.5 10V14C8.5 14.2761 8.27614 14.5 8 14.5C7.72386 14.5 7.5 14.2761 7.5 14V10C7.5 9.72386 7.72386 9.5 8 9.5ZM13 8.5C14.1046 8.5 15 9.39543 15 10.5C15 11.4316 14.3622 12.2113 13.5 12.4336V14C13.5 14.2761 13.2761 14.5 13 14.5C12.7239 14.5 12.5 14.2761 12.5 14V12.4336C11.6378 12.2113 11 11.4316 11 10.5C11 9.39543 11.8954 8.5 13 8.5ZM3 9.5C2.44772 9.5 2 9.94772 2 10.5C2 11.0523 2.44772 11.5 3 11.5C3.55228 11.5 4 11.0523 4 10.5C4 9.94772 3.55228 9.5 3 9.5ZM13 9.5C12.4477 9.5 12 9.94772 12 10.5C12 11.0523 12.4477 11.5 13 11.5C13.5523 11.5 14 11.0523 14 10.5C14 9.94772 13.5523 9.5 13 9.5ZM8 2C8.27614 2 8.5 2.22386 8.5 2.5V4.5C8.5 4.52163 8.49583 4.54257 8.49316 4.56348C9.35898 4.7833 10 5.56581 10 6.5C10 7.60457 9.10457 8.5 8 8.5C6.89543 8.5 6 7.60457 6 6.5C6 5.56614 6.64051 4.78362 7.50586 4.56348C7.50321 4.54261 7.5 4.52158 7.5 4.5V2.5C7.5 2.22386 7.72386 2 8 2ZM8 5.5C7.44772 5.5 7 5.94772 7 6.5C7 7.05228 7.44772 7.5 8 7.5C8.55228 7.5 9 7.05228 9 6.5C9 5.94772 8.55228 5.5 8 5.5ZM3 2C3.27614 2 3.5 2.22386 3.5 2.5V6.5C3.5 6.77614 3.27614 7 3 7C2.72386 7 2.5 6.77614 2.5 6.5V2.5C2.5 2.22386 2.72386 2 3 2ZM13 2C13.2761 2 13.5 2.22386 13.5 2.5V6.5C13.5 6.77614 13.2761 7 13 7C12.7239 7 12.5 6.77614 12.5 6.5V2.5C12.5 2.22386 12.7239 2 13 2Z\"\n      fill=\"#525252\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"32\"\n    height=\"32\"\n    viewBox=\"0 0 32 32\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <rect\n      x=\"0.75\"\n      y=\"0.75\"\n      width=\"30.5\"\n      height=\"30.5\"\n      rx=\"6.25\"\n      stroke=\"currentColor\"\n      stroke-width=\"1.5\"\n    />\n    <path\n      d=\"M24.5011 14.1124C23.3954 12.4873 21.532 11.5477 19.594 11.6747C18.7616 10.1384 17.2211 9.12267 15.4198 9.0084C14.1651 8.93222 12.8979 9.3766 11.9165 10.24C11.2456 10.8367 10.7611 11.5223 10.463 12.2968C10.289 12.7539 9.89151 13.0459 9.46912 13.0459H6.5V15.5852H9.46912C10.9226 15.5852 12.2271 14.6584 12.7737 13.2237C12.9227 12.8301 13.1712 12.4873 13.5439 12.1571C14.0284 11.7255 14.662 11.4969 15.2583 11.535C16.1528 11.5985 16.7863 12.0175 17.1839 12.538C17.6063 13.0205 17.8423 13.7696 17.979 14.5187C18.774 14.2902 19.6437 14.0997 20.476 14.2394C21.1593 14.3536 21.7929 14.7218 22.2525 15.2678C22.327 15.3567 22.4016 15.4456 22.4637 15.5471C23.06 16.4232 23.1718 17.5024 22.7743 18.5689C22.414 19.5592 21.0847 20.4607 19.9791 20.4607H11.3326C10.1524 20.4607 9.18339 19.5592 9.03432 18.4038H6.54969C6.71119 20.9686 8.78585 23 11.3326 23H19.9915C22.1283 23 24.3769 21.451 25.1098 19.4704C25.7931 17.6167 25.5695 15.6614 24.5135 14.0997L24.5011 14.1124Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M10 11C12.2091 11 14 9.20914 14 7C14 4.79086 12.2091 3 10 3C7.79086 3 6 4.79086 6 7C6 9.20914 7.79086 11 10 11Z\"\n      stroke=\"currentColor\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M10.3 15H7C5.93913 15 4.92172 15.4214 4.17157 16.1716C3.42143 16.9217 3 17.9391 3 19V21H11.5\"\n      stroke=\"currentColor\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M22.166 13.834H14.8327C14.3264 13.834 13.916 14.2444 13.916 14.7507V20.2507C13.916 20.7569 14.3264 21.1673 14.8327 21.1673H22.166C22.6723 21.1673 23.0827 20.7569 23.0827 20.2507V14.7507C23.0827 14.2444 22.6723 13.834 22.166 13.834Z\"\n      stroke=\"currentColor\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M23.0827 15.209L18.9714 17.8215C18.8299 17.9101 18.6663 17.9572 18.4993 17.9572C18.3324 17.9572 18.1688 17.9101 18.0273 17.8215L13.916 15.209\"\n      stroke=\"currentColor\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <g clip-path=\"url(#clip0_368_1881)\">\n      <path\n        d=\"M16.667 5H21.3337\"\n        stroke=\"currentColor\"\n        stroke-width=\"1.5\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n      <path\n        d=\"M19 2.66699V7.33366\"\n        stroke=\"currentColor\"\n        stroke-width=\"1.5\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_368_1881\">\n        <rect width=\"8\" height=\"8\" fill=\"white\" transform=\"translate(15 1)\" />\n      </clipPath>\n    </defs>\n  </svg>\n</template>\n","<template>\n  <span\n    v-if=\"notificationStore.visible\"\n    ref=\"target\"\n    class=\"fixed z-10 h-screen overflow-auto bg-white\"\n    :style=\"{\n      'box-shadow': '8px 0px 8px rgba(0, 0, 0, 0.1)',\n      'max-width': '350px',\n      'min-width': '350px',\n      left: sidebarStore.width,\n    }\"\n  >\n    <div\n      class=\"sticky top-0 z-10 flex items-center justify-between border-b bg-white px-5 py-2.5\"\n    >\n      <span class=\"text-lg font-medium\">Notifications</span>\n      <div>\n        <Button\n          theme=\"blue\"\n          variant=\"ghost\"\n          @click=\"() => notificationStore.clear.submit()\"\n          v-if=\"notificationStore.data.length\"\n        >\n          <template #icon>\n            <LucideCheckCheck class=\"h-4 w-4\" />\n          </template>\n        </Button>\n        <Button\n          theme=\"gray\"\n          variant=\"ghost\"\n          @click=\"() => notificationStore.toggle()\"\n        >\n          <template #icon>\n            <LucideX class=\"h-4 w-4\" />\n          </template>\n        </Button>\n      </div>\n    </div>\n    <div class=\"divide-y text-base\" v-if=\"notificationStore.data.length\">\n      <RouterLink\n        v-for=\"n in notificationStore.data\"\n        :key=\"n.name\"\n        class=\"flex cursor-pointer items-start gap-3.5 px-5 py-2.5 hover:bg-gray-100\"\n        :to=\"getRoute(n)\"\n        @click=\"\n          () => {\n            handleNotificationClick(n);\n          }\n        \"\n      >\n        <UserAvatar :name=\"n.user_from\" />\n        <span>\n          <div class=\"mb-2 leading-5\">\n            <span class=\"space-x-1 text-gray-700\">\n              <span class=\"font-medium text-gray-900\">{{ n.user_from }}</span>\n              <span v-if=\"n.notification_type === 'Mention'\"\n                >mentioned you in ticket</span\n              >\n              <span v-if=\"n.notification_type === 'Assignment'\"\n                >assigned you a ticket</span\n              >\n              <span v-if=\"n.notification_type === 'Reaction'\"\n                >has reopened the ticket</span\n              >\n              <span class=\"font-medium text-gray-900\">{{\n                n.reference_ticket\n              }}</span>\n            </span>\n          </div>\n          <div class=\"flex items-center gap-2\">\n            <div class=\"text-sm text-gray-600\">\n              {{ dayjs.tz(n.creation).fromNow() }}\n            </div>\n            <div v-if=\"!n.read\" class=\"h-1.5 w-1.5 rounded-full bg-blue-400\" />\n          </div>\n        </span>\n      </RouterLink>\n    </div>\n    <div\n      class=\"p-5 text-center text-gray-500 flex flex-col items-center justify-center gap-2 mt-20\"\n      v-else\n    >\n      <LucideBell class=\"size-6\" />\n      <p class=\"text-base text-ink-gray-8\">You are all caught up!</p>\n    </div>\n  </span>\n</template>\n\n<script setup lang=\"ts\">\nimport { UserAvatar } from \"@/components\";\nimport { dayjs } from \"@/dayjs\";\nimport { useNotificationStore } from \"@/stores/notification\";\nimport { useSidebarStore } from \"@/stores/sidebar\";\nimport { Notification } from \"@/types\";\nimport { onClickOutside } from \"@vueuse/core\";\nimport { ref } from \"vue\";\n\nconst notificationStore = useNotificationStore();\nconst sidebarStore = useSidebarStore();\nconst target = ref(null);\nonClickOutside(\n  target,\n  () => {\n    if (notificationStore.visible) {\n      notificationStore.toggle();\n    }\n  },\n  {\n    ignore: [\"#notifications-btn\"],\n  }\n);\n\nfunction handleNotificationClick(n: Notification) {\n  notificationStore.toggle();\n  if (n.read) return;\n  notificationStore.read(n.reference_ticket);\n}\n\nfunction getRoute(n: Notification) {\n  switch (n.notification_type) {\n    case \"Mention\":\n      return {\n        name: \"TicketAgent\",\n        params: {\n          ticketId: n.reference_ticket,\n        },\n        hash: \"#\" + n.reference_comment,\n      };\n    case \"Assignment\":\n    case \"Reaction\":\n      return {\n        name: \"TicketAgent\",\n        params: {\n          ticketId: n.reference_ticket,\n        },\n      };\n  }\n}\n</script>\n","<template>\n  <Menu as=\"div\" class=\"relative inline-block text-left\" v-slot=\"{ open }\">\n    <Popover\n      :transition=\"dropdownTransition\"\n      :show=\"open\"\n      :placement=\"popoverPlacement\"\n    >\n      <template #target=\"{ togglePopover }\">\n        <MenuButton as=\"template\">\n          <slot v-if=\"$slots.default\" v-bind=\"{ open, togglePopover }\" />\n          <Button v-else :active=\"open\" v-bind=\"button\">\n            {{ button ? button?.label || null : \"Options\" }}\n          </Button>\n        </MenuButton>\n      </template>\n\n      <template #body>\n        <div\n          class=\"mt-2 min-w-40 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none\"\n          :class=\"{\n            'mt-2': ['bottom', 'left', 'right'].includes(placement),\n            'ml-2': placement == 'right-start',\n          }\"\n        >\n          <MenuItems\n            class=\"min-w-40 divide-y divide-outline-gray-modals\"\n            :class=\"{\n              'left-0 origin-top-left': placement == 'left',\n              'right-0 origin-top-right': placement == 'right',\n              'inset-x-0 origin-top': placement == 'center',\n              'mt-0 origin-top-right': placement == 'right-start',\n            }\"\n          >\n            <div v-for=\"group in groups\" :key=\"group.key\" class=\"p-1.5\">\n              <div\n                v-if=\"group.group && !group.hideLabel\"\n                class=\"flex h-7 items-center px-2 text-sm font-medium text-ink-gray-4\"\n              >\n                {{ group.group }}\n              </div>\n              <MenuItem\n                v-for=\"item in group.items\"\n                :key=\"item.label\"\n                v-slot=\"{ active }\"\n              >\n                <slot name=\"item\" v-bind=\"{ item, active }\">\n                  <component\n                    v-if=\"item.component\"\n                    :is=\"item.component\"\n                    :active=\"active\"\n                  />\n                  <button\n                    v-else\n                    :class=\"[\n                      active ? 'bg-surface-gray-3' : 'text-ink-gray-6',\n                      'group flex h-7 w-full items-center rounded px-2 text-base',\n                    ]\"\n                    @click=\"item.onClick\"\n                  >\n                    <FeatherIcon\n                      v-if=\"item.icon && typeof item.icon === 'string'\"\n                      :name=\"item.icon\"\n                      class=\"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-7\"\n                      aria-hidden=\"true\"\n                    />\n                    <component\n                      class=\"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-7\"\n                      v-else-if=\"item.icon\"\n                      :is=\"item.icon\"\n                    />\n                    <span class=\"whitespace-nowrap text-ink-gray-7\">\n                      {{ item.label }}\n                    </span>\n                  </button>\n                </slot>\n              </MenuItem>\n            </div>\n          </MenuItems>\n          <div v-if=\"slots.footer\" class=\"border-t p-1.5\">\n            <slot name=\"footer\"></slot>\n          </div>\n        </div>\n      </template>\n    </Popover>\n  </Menu>\n</template>\n\n<script setup>\nimport { Menu, MenuButton, MenuItems, MenuItem } from \"@headlessui/vue\";\nimport { Popover, Button, FeatherIcon } from \"frappe-ui\";\nimport { computed, useSlots } from \"vue\";\nimport { useRouter } from \"vue-router\";\n\nconst props = defineProps({\n  button: {\n    type: Object,\n    default: null,\n  },\n  options: {\n    type: Array,\n    default: () => [],\n  },\n  placement: {\n    type: String,\n    default: \"left\",\n  },\n});\n\nconst router = useRouter();\nconst slots = useSlots();\n\nconst dropdownTransition = {\n  enterActiveClass: \"transition duration-100 ease-out\",\n  enterFromClass: \"transform scale-95 opacity-0\",\n  enterToClass: \"transform scale-100 opacity-100\",\n  leaveActiveClass: \"transition duration-75 ease-in\",\n  leaveFromClass: \"transform scale-100 opacity-100\",\n  leaveToClass: \"transform scale-95 opacity-0\",\n};\n\nconst groups = computed(() => {\n  let groups = props.options[0]?.group\n    ? props.options\n    : [{ group: \"\", items: props.options }];\n\n  return groups.map((group, i) => {\n    return {\n      key: i,\n      group: group.group,\n      hideLabel: group.hideLabel || false,\n      items: filterOptions(group.items),\n    };\n  });\n});\n\nconst popoverPlacement = computed(() => {\n  if (props.placement === \"left\") return \"bottom-start\";\n  if (props.placement === \"right\") return \"bottom-end\";\n  if (props.placement === \"center\") return \"bottom-center\";\n  if (props.placement === \"right-start\") return \"right-start\";\n  return \"bottom\";\n});\n\nfunction normalizeDropdownItem(option) {\n  let onClick = option.onClick || null;\n  if (!onClick && option.route && router) {\n    onClick = () => router.push(option.route);\n  }\n\n  return {\n    name: option.name,\n    label: option.label,\n    icon: option.icon,\n    group: option.group,\n    component: option.component,\n    onClick,\n  };\n}\n\nfunction filterOptions(options) {\n  return (options || [])\n    .filter(Boolean)\n    .filter((option) => (option.condition ? option.condition() : true))\n    .map((option) => normalizeDropdownItem(option));\n}\n</script>\n","<template>\n  <div class=\"flex border-b pr-5\">\n    <div id=\"app-header\" class=\"flex-1 w-full\"></div>\n    <div class=\"flex items-start justify-center\">\n      <CallUI :userEmail=\"user\" />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport CallUI from \"@/components/telephony/CallUI.vue\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useTelephonyStore } from \"@/stores/telephony\";\nimport { onMounted } from \"vue\";\n\nconst { user } = useAuthStore();\n\nconst telephonyStore = useTelephonyStore();\n\nonMounted(() => {\n  telephonyStore.fetchCallIntegrationStatus();\n});\n</script>\n","<template>\n  <Dialog\n    v-model=\"open\"\n    :options=\"{ title: 'Keyboard Shortcuts', size: '4xl' }\"\n  >\n    <template #body-content>\n      <div class=\"w-full grid grid-cols-2 gap-10 py-1 shortcutsModal\">\n        <div\n          v-for=\"group in shortcutGroups\"\n          :key=\"group.title\"\n          class=\"pb-4\"\n          :class=\"!group.hideBorder && 'border-b border-outline-gray-2'\"\n        >\n          <h2 class=\"text-lg font-semibold text-ink-gray-9 mb-4\">\n            {{ group.title }}\n          </h2>\n          <ul class=\"space-y-2\">\n            <li\n              v-for=\"(shortcut, index) in group.shortcuts\"\n              :key=\"index\"\n              class=\"flex items-start justify-between gap-4\"\n            >\n              <div class=\"text-ink-gray-7 text-base flex-1\">\n                {{ shortcut.description }}\n              </div>\n              <div class=\"flex space-x-1 gap-1 justify-end\">\n                <span\n                  v-for=\"(key, kIndex) in shortcut.keys\"\n                  :key=\"kIndex\"\n                  class=\"bg-surface-gray-2 border border-outline-gray-2 text-xs rounded-sm text-ink-gray-8 shadow-sm min-w-5 h-5 flex items-center justify-center\"\n                  :class=\"[\n                    ![metaIcon, shiftKey].includes(key) && 'w-5 ',\n                    key === shiftKey && '!px-2',\n                  ]\"\n                >\n                  {{ key }}\n                </span>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { useDevice } from \"@/composables/device\";\nimport { useShortcut } from \"@/composables/shortcuts\";\nimport { isCustomerPortal } from \"@/utils\";\nimport { Dialog } from \"frappe-ui\";\nimport { computed, onMounted } from \"vue\";\n\nconst props = defineProps({\n  modelValue: Boolean,\n});\nconst emit = defineEmits([\"update:modelValue\"]);\nconst open = defineModel<boolean>();\n\nconst { metaIcon } = useDevice();\n\n// const shiftKey = \"\";\nconst shiftKey = \"Shift\";\n\ninterface Shortcut {\n  keys: string[];\n  description: string;\n}\n\ninterface ShortcutGroup {\n  title: string;\n  shortcuts: Shortcut[];\n  hideBorder?: boolean;\n}\n\nconst shortcutGroups = computed<ShortcutGroup[]>(() => [\n  {\n    title: \"General\",\n    shortcuts: [\n      { keys: [metaIcon, \"K\"], description: \"Open command palette\" },\n      { keys: [metaIcon, \",\"], description: \"Open settings\" },\n      { keys: [metaIcon, \"/\"], description: \"Show keyboard shortcuts\" },\n      { keys: [metaIcon, \"H\"], description: \"Open help\" },\n    ],\n  },\n  {\n    title: \"Ticket Management\",\n    shortcuts: [\n      { keys: [\"T\"], description: \"Change ticket type\" },\n      { keys: [\"P\"], description: \"Change priority\" },\n      { keys: [shiftKey, \"T\"], description: \"Change team\" },\n      { keys: [\"A\"], description: \"Assign ticket\" },\n      { keys: [\"S\"], description: \"Change status\" },\n      { keys: [metaIcon, \".\"], description: \"Copy ticket id\" },\n      { keys: [metaIcon, shiftKey, \".\"], description: \"Copy ticket URL\" },\n    ],\n  },\n  {\n    title: \"Communication\",\n    shortcuts: [\n      { keys: [\"R\"], description: \"Open reply box\" },\n      { keys: [\"C\"], description: \"Open comment box\" },\n    ],\n    hideBorder: true,\n  },\n  {\n    title: \"Navigation\",\n    shortcuts: [\n      { keys: [shiftKey, \">\"], description: \"Next ticket\" },\n      { keys: [shiftKey, \"<\"], description: \"Previous ticket\" },\n    ],\n    hideBorder: true,\n  },\n]);\n\nonMounted(() => {\n  if (isCustomerPortal.value) return;\n  useShortcut({ key: \"/\", meta: true }, () => {\n    open.value = !open.value;\n  });\n});\n</script>\n<style>\n/* Hack to remove focus ring from buttons in shortcuts modal */\n.bg-surface-modal:has(.shortcutsModal) button {\n  @apply focus-visible:ring-0;\n}\n</style>\n","<template>\n  <Dialog v-model=\"showDialog\" :options=\"{ title }\" @close=\"closeDialog\">\n    <template #body-content>\n      <div class=\"space-y-4\">\n        <p class=\"text-p-base text-gray-800\" v-if=\"message\" v-html=\"message\" />\n      </div>\n    </template>\n    <template #actions>\n      <Button\n        class=\"w-full\"\n        label=\"Confirm\"\n        variant=\"solid\"\n        :loading=\"isLoading\"\n        @click=\"onConfirm\"\n      />\n    </template>\n  </Dialog>\n</template>\n<script>\nimport { Button, Dialog } from \"frappe-ui\";\n\nexport default {\n  name: \"ConfirmDialog\",\n  props: {\n    title: {\n      type: String,\n    },\n    message: {\n      type: String,\n    },\n    onConfirm: {\n      type: Function,\n      default: null,\n    },\n    onCancel: {\n      type: Function,\n      default: null,\n    },\n  },\n  expose: [\"show\", \"hide\"],\n  components: {\n    Dialog,\n    Button,\n  },\n  data() {\n    return {\n      showDialog: true,\n      isLoading: false,\n    };\n  },\n  methods: {\n    async handleConfirmation() {\n      if (this.isLoading) return;\n      this.isLoading = true;\n      try {\n        if (this.onConfirm) {\n          await this.onConfirm({\n            hideDialog: this.hide,\n          });\n        }\n        this.hide();\n      } catch (error) {\n        console.error(\"Error in confirmation:\", error);\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    show() {\n      this.showDialog = true;\n    },\n    closeDialog() {\n      this.hide();\n      this.onCancel?.();\n    },\n    hide() {\n      this.showDialog = false;\n    },\n  },\n};\n</script>\n","<template>\n  <Dialog\n    :options=\"{ title: props.title }\"\n    :model-value=\"show\"\n    @update:modelValue=\"$emit('update:modelValue', $event)\"\n    @close=\"close()\"\n  >\n    <template #body-content>\n      <div class=\"space-y-3\">\n        <form\n          @submit.prevent=\"onSubmit\"\n          class=\"flex flex-row items-center space-x-2\"\n        >\n          <Input\n            id=\"searchInput\"\n            class=\"w-full\"\n            type=\"text\"\n            v-model=\"searchInput\"\n            placeholder=\"Type emails\"\n            @input=\"(val) => onSearchInputChange(val)\"\n          />\n          <Button\n            appearance=\"primary\"\n            type=\"submit\"\n            :disabled=\"!currentInputIsValidEmail\"\n            @click=\"\n              () => {\n                addToInviteQueue(searchInput);\n                clearSearchInput();\n              }\n            \"\n          >\n            Add\n          </Button>\n        </form>\n        <div\n          class=\"flex max-h-[300px] min-h-[100px] flex-col overflow-y-auto rounded border bg-gray-100 px-2\"\n          v-if=\"inviteQueue.length\"\n        >\n          <ul class=\"flex flex-wrap gap-2 py-2\">\n            <li\n              class=\"flex items-center space-x-2 rounded bg-white p-1 shadow\"\n              v-for=\"email in inviteQueue.slice().reverse()\"\n              :key=\"email\"\n              :title=\"email\"\n            >\n              <span class=\"ml-2 text-base\">\n                {{ email }}\n              </span>\n              <button\n                class=\"grid h-4 w-4 place-items-center rounded text-gray-700 hover:bg-gray-300\"\n                @click=\"removeEmailFromQueue(email)\"\n              >\n                <FeatherIcon class=\"w-3\" name=\"x\" />\n              </button>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </template>\n    <template #actions v-if=\"inviteQueue.length\">\n      <div class=\"flex justify-end items-center\">\n        <Button\n          :disabled=\"inviteQueue.length == 0\"\n          appearance=\"primary\"\n          @click=\"sendInvites\"\n          class=\"mr-2\"\n          variant=\"solid\"\n          :loading=\"sentInvitesResource.loading\"\n          >Send Invites\n        </Button>\n        <Button @click=\"removeAllEmailFromQueue\"> Clear All </Button>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup>\nimport { useAuthStore } from \"@/stores/auth\";\nimport { createResource, Dialog, FeatherIcon, Input, toast } from \"frappe-ui\";\nimport { useOnboarding } from \"frappe-ui/frappe\";\nimport { ref } from \"vue\";\n\nconst props = defineProps({\n  show: Boolean,\n  title: String,\n});\n\nconst emit = defineEmits([\"close\", \"update:modelValue\", \"onAgentsInvited\"]);\n\n// State\nconst searchInput = ref(\"\");\nconst inviteQueue = ref([]);\nconst currentInputIsValidEmail = ref(false);\n\n// Stores and utilities\nconst { updateOnboardingStep } = useOnboarding(\"helpdesk\");\nconst { isManager } = useAuthStore();\n\n// Methods\nconst testEmailRegex = (val) => {\n  let emailRegex = /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n  return emailRegex.test(val);\n};\n\nconst onSearchInputChange = (val) => {\n  val = val.replaceAll(\" \", \"\");\n  if (val == \"\") {\n    document.getElementById(\"searchInput\").value = \"\";\n    return;\n  }\n\n  const valStr = val;\n  const inputs = val.split(\",\");\n\n  let clearInputFlag = false;\n  currentInputIsValidEmail.value = false;\n\n  inputs.forEach((input) => {\n    if (testEmailRegex(input)) {\n      if (inputs.length > 1) {\n        addToInviteQueue(input);\n        clearInputFlag = true;\n      } else {\n        if (valStr.includes(\",\")) {\n          addToInviteQueue(input);\n          clearInputFlag = true;\n        } else {\n          currentInputIsValidEmail.value = true;\n        }\n      }\n    }\n  });\n\n  if (clearInputFlag) {\n    clearSearchInput();\n  }\n};\n\nconst addToInviteQueue = (email) => {\n  inviteQueue.value = [...new Set([...inviteQueue.value, email])];\n};\n\nconst removeEmailFromQueue = (email) => {\n  inviteQueue.value = inviteQueue.value.filter((item) => item !== email);\n};\n\nconst removeAllEmailFromQueue = () => {\n  inviteQueue.value = [];\n};\n\nconst clearSearchInput = () => {\n  currentInputIsValidEmail.value = false;\n  searchInput.value = \"\";\n\n  const input = document.getElementById(\"searchInput\");\n  input.value = \"\";\n  input.focus();\n};\n\nconst close = () => {\n  searchInput.value = \"\";\n  inviteQueue.value = [];\n  emit(\"close\");\n};\n\n// API Resources\nconst sentInvitesResource = createResource({\n  url: \"helpdesk.api.agent.sent_invites\",\n  onSuccess: (res) => {\n    emit(\"onAgentsInvited\", inviteQueue.value);\n    currentInputIsValidEmail.value = false;\n    searchInput.value = \"\";\n    inviteQueue.value = [];\n\n    if (isManager) {\n      updateOnboardingStep(\"invite_agents\");\n    }\n\n    toast.success(\"Invites sent successfully!\");\n\n    close();\n  },\n});\n\nconst sendInvites = () => {\n  sentInvitesResource.submit({\n    emails: inviteQueue.value,\n  });\n};\n</script>\n","<template>\n  <div class=\"flex items-start justify-between\">\n    <div class=\"flex flex-col gap-1\">\n      <slot name=\"title\">\n        <h1 class=\"text-lg font-semibold text-ink-gray-8\">\n          {{ title }}\n        </h1>\n      </slot>\n      <slot name=\"description\">\n        <p class=\"text-p-sm text-gray-700 max-w-md text-ink-gray-6\">\n          {{ description }}\n        </p>\n      </slot>\n    </div>\n    <slot name=\"actions\" />\n  </div>\n  <div class=\"mt-6\" v-if=\"Boolean($slots['bottom-section'])\">\n    <slot name=\"bottom-section\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\ndefineProps({\n  title: {\n    type: String,\n  },\n  description: {\n    type: String,\n  },\n});\n</script>\n","<template>\n  <div class=\"flex items-center justify-between py-2\" v-bind:class=\"$attrs\">\n    <div class=\"flex items-center space-x-3 w-4/5\">\n      <Avatar :image=\"agent.user_image\" :label=\"agent.agent_name\" size=\"xl\" />\n      <div>\n        <div class=\"flex items-center gap-2\">\n          <p class=\"text-base\">\n            {{ agent.agent_name }}\n          </p>\n          <Badge\n            v-if=\"showStatus\"\n            :label=\"'Inactive'\"\n            :theme=\"'gray'\"\n            :class=\"\n              showStatus && !agent.is_active ? 'opacity-100' : 'opacity-0'\n            \"\n            variant=\"subtle\"\n          />\n        </div>\n        <div class=\"text-base text-ink-gray-6 mt-1\">\n          {{ agent.name }}\n        </div>\n      </div>\n    </div>\n    <!-- slot here -->\n    <slot name=\"right\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Avatar } from \"frappe-ui\";\n\ndefineProps({\n  agent: {\n    type: Object,\n    required: true,\n  },\n  showStatus: {\n    type: Boolean,\n    default: false,\n  },\n});\n</script>\n\n<style scoped></style>\n","import { isCustomerPortal } from \"@/utils\";\nimport { createListResource, createResource } from \"frappe-ui\";\nimport { reactive, ref, watch } from \"vue\";\n\nconst PAGE_LENGTH = 20;\n\nexport const agents = createListResource({\n  doctype: \"HD Agent\",\n  fields: [\"name\", \"user_image\", \"agent_name\", \"is_active\"],\n  start: 0,\n  pageLength: PAGE_LENGTH,\n  orderBy: \"creation desc\",\n  auto: !isCustomerPortal.value,\n});\n\nexport const activeFilter = ref(\"Active\");\nexport const showNewAgentsDialog = ref(false);\n\nexport const useAgents = () => {\n  const search = ref(\"\");\n  const filters = reactive({});\n  watch(search, (newValue) => {\n    agents.filters = {\n      agent_name: [\"like\", `%${newValue}%`],\n      ...filters,\n    };\n    if (!newValue) {\n      agents.filters = {\n        ...filters,\n      };\n      agents.start = 0;\n      agents.pageLength = PAGE_LENGTH;\n    }\n    agents.reload();\n  });\n  watch(\n    filters,\n    (newVal) => {\n      agents.filters = {\n        ...agents.filters,\n        ...newVal,\n      };\n      agents.start = 0;\n      agents.pageLength = PAGE_LENGTH;\n      agents.reload();\n    },\n    { deep: true }\n  );\n  watch(\n    activeFilter,\n    (newVal) => {\n      if (newVal === \"Active\") {\n        agents.filters = {\n          ...agents.filters,\n          is_active: 1,\n        };\n      } else if (newVal === \"Inactive\") {\n        agents.filters = {\n          ...agents.filters,\n          is_active: 0,\n        };\n      } else {\n        agents.filters = {\n          ...agents.filters,\n          is_active: [\"in\", [0, 1]],\n        };\n      }\n      agents.start = 0;\n      agents.pageLength = PAGE_LENGTH;\n      agents.reload();\n    },\n    { immediate: true }\n  );\n\n  async function updateAgent(agent: string, isActive: boolean | number) {\n    const res = createResource({\n      url: \"frappe.client.set_value\",\n      params: {\n        doctype: \"HD Agent\",\n        name: agent,\n        fieldname: \"is_active\",\n        value: isActive,\n      },\n    });\n    await res.submit();\n  }\n\n  return {\n    search,\n    agents,\n    filters,\n    updateAgent,\n  };\n};\n","<template>\n  <div v-bind:class=\"$attrs.class\" class=\"px-10 py-8\">\n    <!-- Header -->\n    <SettingsLayoutHeader\n      :title=\"__('Agents')\"\n      :description=\"__('Add, manage agents and assign roles to them.')\"\n    >\n      <template #actions>\n        <Button\n          @click=\"() => (showNewAgentsDialog = !showNewAgentsDialog)\"\n          label=\"New\"\n          variant=\"solid\"\n        >\n          <template #prefix>\n            <LucidePlus class=\"h-4 w-4 stroke-1.5\" />\n          </template>\n        </Button>\n      </template>\n      <template #bottom-section>\n        <div class=\"flex items-center gap-2 justify-between\">\n          <FormControl\n            v-model=\"search\"\n            :placeholder=\"'Search'\"\n            type=\"text\"\n            :debounce=\"300\"\n            class=\"w-60\"\n          >\n            <template #prefix>\n              <LucideSearch class=\"h-4 w-4 text-gray-500\" />\n            </template>\n          </FormControl>\n          <Dropdown :options=\"dropdownOptions\" placement=\"right\">\n            <template #default=\"{ open }\">\n              <Button\n                :label=\"activeFilter\"\n                class=\"flex items-center justify-between w-[90px]\"\n              >\n                <template #suffix>\n                  <FeatherIcon\n                    :name=\"open ? 'chevron-up' : 'chevron-down'\"\n                    class=\"h-4\"\n                  />\n                </template>\n              </Button>\n            </template>\n            <template #item=\"{ item, active }\">\n              <button\n                class=\"group flex text-ink-gray-6 gap-4 h-7 w-full justify-between items-center rounded px-2 text-base\"\n                :class=\"{ 'bg-surface-gray-3': active }\"\n                @click=\"item.onClick\"\n              >\n                <div class=\"flex items-center justify-between flex-1\">\n                  <span class=\"whitespace-nowrap\">\n                    {{ item.label }}\n                  </span>\n                  <FeatherIcon\n                    v-if=\"activeFilter === item.label\"\n                    name=\"check\"\n                    class=\"size-4 text-ink-gray-7\"\n                  />\n                </div>\n              </button>\n            </template>\n          </Dropdown>\n        </div>\n      </template>\n    </SettingsLayoutHeader>\n\n    <!-- loading state -->\n    <div v-if=\"agents.loading\" class=\"flex mt-28 justify-between w-full h-full\">\n      <Button\n        :loading=\"agents.loading\"\n        variant=\"ghost\"\n        class=\"w-full\"\n        size=\"2xl\"\n      />\n    </div>\n    <!-- Empty State -->\n    <div\n      v-if=\"!agents.loading && !agents.data?.length\"\n      class=\"flex mt-28 justify-between w-full h-full\"\n    >\n      <p class=\"text-sm text-gray-500 w-full flex justify-center\">\n        No agents found\n      </p>\n    </div>\n    <!-- Agent List -->\n    <div\n      class=\"overflow-y-auto w-full hide-scrollbar mt-4\"\n      v-if=\"!agents.loading && Boolean(agents.data?.length)\"\n    >\n      <div v-for=\"(agent, idx) in agents.data\" :key=\"agent.agent_name\">\n        <AgentCard\n          :agent=\"agent\"\n          :show-status=\"true\"\n          :class=\"idx !== agents.data.length - 1 && 'border-b '\"\n        >\n          <template #right>\n            <Dropdown\n              v-if=\"isManager\"\n              class=\"w-1/5 flex justify-end items-center\"\n              :options=\"getRoles(agent.name)\"\n              :label=\"getUserRole(agent.name)\"\n              :button=\"{\n                label: getUserRole(agent.name),\n                iconRight: 'chevron-down',\n              }\"\n              placement=\"right\"\n            />\n            <Dropdown\n              :options=\"getOptions(agent)\"\n              placement=\"right\"\n              :key=\"agent\"\n              class=\"ml-2\"\n            >\n              <Button>\n                <template #icon>\n                  <IconMoreHorizontal class=\"h-4 w-4\" />\n                </template>\n              </Button>\n            </Dropdown>\n          </template>\n        </AgentCard>\n      </div>\n      <!-- Load More Button -->\n      <div class=\"flex justify-center\">\n        <Button\n          v-if=\"!agents.loading && agents.hasNextPage\"\n          class=\"mt-3.5 p-2\"\n          @click=\"() => agents.next()\"\n          :loading=\"agents.loading\"\n          label=\"Load More\"\n          icon-left=\"refresh-cw\"\n        />\n      </div>\n    </div>\n  </div>\n  <AddNewAgentsDialog\n    :title=\"__('Add Agents')\"\n    @close=\"showNewAgentsDialog = false\"\n    :modelValue=\"showNewAgentsDialog\"\n    :show=\"showNewAgentsDialog\"\n    @update:modelValue=\"showNewAgentsDialog = $event\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useUserStore } from \"@/stores/user\";\nimport { call, FormControl, toast } from \"frappe-ui\";\nimport { h } from \"vue\";\nimport LucideCheck from \"~icons/lucide/check\";\nimport IconMoreHorizontal from \"~icons/lucide/more-horizontal\";\nimport AgentCard from \"./AgentCard.vue\";\nimport { activeFilter, showNewAgentsDialog, useAgents } from \"./agents\";\n\nconst { getUserRole, updateUserRoleCache } = useUserStore();\nconst { isManager } = useAuthStore();\n\nconst agentStore = useAgents();\nconst search = agentStore.search;\nconst agents = agentStore.agents;\n\nfunction getRoles(agent: string) {\n  const agentRole = getUserRole(agent);\n  const roles = [\n    {\n      label: \"Agent\",\n      component: (props) =>\n        RoleOption({\n          role: \"Agent\",\n          active: props.active,\n          selected: agentRole === \"Agent\",\n          onClick: () => {\n            updateRole(agent, \"Agent\");\n          },\n        }),\n    },\n  ];\n  if (isManager) {\n    roles.unshift({\n      label: \"Manager\",\n      component: (props) =>\n        RoleOption({\n          role: \"Manager\",\n          active: props.active,\n          selected: agentRole === \"Manager\",\n          onClick: () => {\n            updateRole(agent, \"Manager\");\n          },\n        }),\n    });\n  }\n\n  return roles;\n}\nfunction RoleOption({ active, role, onClick, selected }) {\n  return h(\n    \"button\",\n    {\n      class: [\n        active ? \"bg-surface-gray-2\" : \"text-ink-gray-7\",\n        \"group flex w-full justify-between items-center rounded-md px-2 py-2 text-base\",\n      ],\n      onClick: !selected ? onClick : null,\n    },\n    [\n      h(\"span\", { class: \"whitespace-nowrap\" }, role),\n      selected\n        ? h(LucideCheck, {\n            class: [\"h-4 w-4 shrink-0 text-ink-gray-7\"],\n            \"aria-hidden\": true,\n          })\n        : null,\n    ]\n  );\n}\nfunction updateRole(agent: string, newRole: string) {\n  const currentRole = getUserRole(agent);\n  if (currentRole === newRole) {\n    return;\n  }\n\n  call(\"helpdesk.helpdesk.doctype.hd_agent.hd_agent.update_agent_role\", {\n    user: agent,\n    new_role: newRole,\n  }).then(() => {\n    updateUserRoleCache(agent, newRole);\n    toast.success(`Role updated to ${newRole}`);\n  });\n}\n\nfunction getOptions(agent) {\n  let filters = agentStore.filters;\n  return [\n    {\n      label: \"Disable Agent\",\n      icon: \"x-circle\",\n      onClick: async () => {\n        await agentStore.updateAgent(agent.name, 0);\n        agents.reload({ ...filters, search: search.value });\n      },\n      condition: () => agent.is_active,\n    },\n    {\n      label: \"Enable Agent\",\n      icon: \"check-circle\",\n      onClick: async () => {\n        await agentStore.updateAgent(agent.name, 1);\n        agents.reload({ ...filters, search: search.value });\n      },\n      condition: () => !agent.is_active,\n    },\n  ];\n}\n\nconst dropdownOptions = [\n  {\n    label: \"All\",\n    onClick: () => {\n      agentStore.filters[\"is_active\"] = [\"in\", [0, 1]];\n      activeFilter.value = \"All\";\n    },\n  },\n  {\n    label: \"Active\",\n    onClick: () => {\n      agentStore.filters[\"is_active\"] = [\"=\", 1];\n      activeFilter.value = \"Active\";\n    },\n  },\n  {\n    label: \"Inactive\",\n    onClick: () => {\n      agentStore.filters[\"is_active\"] = [\"=\", 0];\n      activeFilter.value = \"Inactive\";\n    },\n  },\n];\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"flex flex-col gap-4 px-10 py-8\">\n    <SettingsLayoutHeader\n      title=\"Customise your Helpdesk\"\n      description=\"Customise Helpdesk with your own branding.\"\n    />\n\n    <!-- Brand Logo & Favicon -->\n    <div v-for=\"config in brandingConfig\" class=\"flex flex-col gap-2\">\n      <p class=\"text-sm text-gray-600\">{{ config.title }}</p>\n      <div class=\"flex gap-4 items-center\">\n        <Avatar\n          v-if=\"config.image && !config.loading\"\n          size=\"3xl\"\n          :image=\"config.image\"\n        />\n        <FileUploader\n          v-if=\"!config.image\"\n          :fileTypes=\"['image/*']\"\n          @success=\"\n            (file) => {\n              update(file.file_url, config.doctype, config.fieldname);\n            }\n          \"\n        >\n          <template #default=\"{ openFileSelector }\">\n            <Button\n              @click=\"openFileSelector()\"\n              iconLeft=\"upload\"\n              label=\"Upload Image\"\n              :loading=\"config.loading\"\n            />\n          </template>\n        </FileUploader>\n\n        <div v-else>\n          <Button\n            label=\"Remove\"\n            @click=\"update('', config.doctype, config.fieldname)\"\n            iconLeft=\"trash\"\n            :loading=\"config.loading\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useConfigStore } from \"@/stores/config\";\nimport { Avatar, createResource, FileUploader, toast } from \"frappe-ui\";\nimport { computed, reactive } from \"vue\";\nimport SettingsLayoutHeader from \"./SettingsLayoutHeader.vue\";\n\nconst config = useConfigStore();\n\nconst websiteSettings = createResource({\n  url: \"frappe.client.get_value\",\n  cache: true,\n  params: {\n    doctype: \"Website Settings\",\n    fieldname: \"favicon\",\n  },\n  onSuccess(data) {\n    state.brandFavicon = data.favicon;\n  },\n  auto: true,\n});\n\nconst state = reactive({\n  brandLogo: config.brandLogo,\n  brandFavicon: websiteSettings.data?.favicon || \"\",\n});\n\nconst loadingState = reactive({\n  logoLoading: false,\n  faviconLoading: false,\n});\n\nconst brandingConfig = computed(() => [\n  {\n    title: \"Brand Logo\",\n    image: state.brandLogo,\n    doctype: \"HD Settings\",\n    fieldname: \"brand_logo\",\n    loading: loadingState.logoLoading,\n  },\n  {\n    title: \"Brand Favicon\",\n    image: state.brandFavicon,\n    doctype: \"Website Settings\",\n    fieldname: \"favicon\",\n    loading: loadingState.faviconLoading,\n  },\n]);\n\nconst settingsResource = createResource({\n  url: \"frappe.client.set_value\",\n  debounce: 1000,\n  onSuccess(data) {\n    if (data.doctype === \"HD Settings\") {\n      handleLogoChange(data.brand_logo);\n    } else {\n      handleFaviconChange(data.favicon);\n    }\n  },\n  onError() {\n    toast.error(\"Failed to update, please try again\");\n    loadingState.logoLoading = false;\n    loadingState.faviconLoading = false;\n  },\n});\n\nfunction update(file: string, doctype: string, fieldname: string) {\n  settingsResource.submit({\n    doctype: doctype,\n    name: doctype,\n    fieldname: fieldname,\n    value: file,\n  });\n  doctype === \"HD Settings\"\n    ? (loadingState.logoLoading = true)\n    : (loadingState.faviconLoading = true);\n}\n\nfunction handleLogoChange(url: string) {\n  state.brandLogo = url;\n  loadingState.logoLoading = false;\n\n  toast.success(\"Brand logo updated\");\n}\n\nfunction handleFaviconChange(url: string) {\n  state.brandFavicon = url;\n  loadingState.faviconLoading = false;\n  toast.success(\"Favicon updated, please refresh the page to see the changes\");\n}\n</script>\n\n<style scoped></style>\n","export default \"__VITE_ASSET__ae42638a__\"","export default \"__VITE_ASSET__7cc0e65d__\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAwMAAALUBAMAAAClQPMzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAlwSFlzAAAuIwAALiMBeKU/dgAAACRQTFRFR3BMNqzpdMXvXb3tr+f3o+P1AJ/ZGoPjALPjmeH1dc3uBqfjM5e/jQAAAAZ0Uk5TAPVwwVLTgnc47wAABIBJREFUeNrt1rEJwlAYhdEHNpZa2UpwAxewcAXtbdJYpQo4gATsBVdwAOcTd/DyknC+9zY4XPhLkSRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJGmGL/cTazo5gOWR69KFWCBAgQIAAAQIECBAgmArBHYEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAMHfO4U6X9tP4reb9aX77/v9rqtH8Ar1bEOl1oWgNsGAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAjqEfShbu9QTajD/AhS8yqzCwECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIKheE2p3DFUkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZLG2Bet4fvU2eVggAAAAABJRU5ErkJggg==\"","export default \"__VITE_ASSET__b6543205__\"","export default \"__VITE_ASSET__14b6d168__\"","export default \"__VITE_ASSET__d995bd23__\"","export default \"__VITE_ASSET__61f532d2__\"","import LogoGmail from \"@/assets/images/gmail.png\";\nimport LogoOutlook from \"@/assets/images/outlook.png\";\nimport LogoSendgrid from \"@/assets/images/sendgrid.png\";\nimport LogoSparkpost from \"@/assets/images/sparkpost.webp\";\nimport LogoYahoo from \"@/assets/images/yahoo.png\";\nimport LogoYandex from \"@/assets/images/yandex.png\";\nimport LogoFrappeMail from \"@/assets/images/frappe-mail.svg\";\nimport { RenderField, EmailService, EmailAccount } from \"@/types\";\nimport { validateEmailWithZod } from \"@/utils\";\nconst fixedFields: RenderField[] = [\n  {\n    label: \"Account Name\",\n    name: \"email_account_name\",\n    type: \"text\",\n    placeholder: \"Support / Sales\",\n  },\n  {\n    label: \"Email ID\",\n    name: \"email_id\",\n    type: \"email\",\n    placeholder: \"johndoe@example.com\",\n  },\n];\n\nexport const incomingOutgoingFields: RenderField[] = [\n  {\n    label: \"Enable Incoming\",\n    name: \"enable_incoming\",\n    type: \"checkbox\",\n    description:\n      \"If enabled, tickets can be created from the incoming emails on this account.\",\n  },\n  {\n    label: \"Enable Outgoing\",\n    name: \"enable_outgoing\",\n    type: \"checkbox\",\n    description: \"If enabled, outgoing emails can be sent from this account.\",\n  },\n  {\n    label: \"Default Incoming\",\n    name: \"default_incoming\",\n    type: \"checkbox\",\n    description:\n      \"If enabled, all replies to your company (eg: replies@yourcomany.com) will come to this account. Note: Only one account can be default incoming.\",\n  },\n  {\n    label: \"Default Outgoing\",\n    name: \"default_outgoing\",\n    type: \"checkbox\",\n    description:\n      \"If enabled, all outgoing emails will be sent from this account. Note: Only one account can be default outgoing.\",\n  },\n];\n\nexport const popularProviderFields = [\n  ...fixedFields,\n  {\n    label: \"Password\",\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"********\",\n  },\n];\n\nexport const customProviderFields = [\n  ...fixedFields,\n  {\n    label: \"Frappe Mail Site\",\n    name: \"frappe_mail_site\",\n    type: \"text\",\n    placeholder: \"https://frappemail.com\",\n  },\n  {\n    label: \"API Key\",\n    name: \"api_key\",\n    type: \"text\",\n    placeholder: \"********\",\n  },\n  {\n    label: \"API Secret\",\n    name: \"api_secret\",\n    type: \"password\",\n    placeholder: \"********\",\n  },\n];\n\nexport const services: EmailService[] = [\n  {\n    name: \"GMail\",\n    icon: LogoGmail,\n    info: `Setting up GMail requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more`,\n    link: \"https://support.google.com/accounts/answer/185833\",\n    custom: false,\n  },\n  {\n    name: \"Outlook\",\n    icon: LogoOutlook,\n    info: `Setting up Outlook requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more`,\n    link: \"https://support.microsoft.com/en-us/account-billing/how-to-get-and-use-app-passwords-5896ed9b-4263-e681-128a-a6f2979a7944\",\n    custom: false,\n  },\n  {\n    name: \"Sendgrid\",\n    icon: LogoSendgrid,\n    info: `Setting up Sendgrid requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more `,\n    link: \"https://sendgrid.com/docs/ui/account-and-settings/two-factor-authentication/\",\n    custom: false,\n  },\n  {\n    name: \"SparkPost\",\n    icon: LogoSparkpost,\n    info: `Setting up SparkPost requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more `,\n    link: \"https://support.sparkpost.com/docs/my-account-and-profile/enabling-two-factor-authentication\",\n    custom: false,\n  },\n  {\n    name: \"Yahoo\",\n    icon: LogoYahoo,\n    info: `Setting up Yahoo requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more `,\n    link: \"https://help.yahoo.com/kb/SLN15241.html\",\n    custom: false,\n  },\n  {\n    name: \"Yandex\",\n    icon: LogoYandex,\n    info: `Setting up Yandex requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more `,\n    link: \"https://yandex.com/support/id/authorization/app-passwords.html\",\n    custom: false,\n  },\n  {\n    name: \"Frappe Mail\",\n    icon: LogoFrappeMail,\n    info: `Setting up Frappe Mail requires you to have an API key and API Secret of your email account. Read more `,\n    link: \"https://github.com/frappe/mail\",\n    custom: true,\n  },\n];\n\nexport const emailIcon = {\n  GMail: LogoGmail,\n  Outlook: LogoOutlook,\n  Sendgrid: LogoSendgrid,\n  SparkPost: LogoSparkpost,\n  Yahoo: LogoYahoo,\n  Yandex: LogoYandex,\n  \"Frappe Mail\": LogoFrappeMail,\n};\n\nexport function validateInputs(state: EmailAccount, isCustom: boolean) {\n  if (!state.email_account_name) {\n    return \"Account name is required\";\n  }\n  if (!state.email_id) {\n    return \"Email ID is required\";\n  }\n  const validEmail = validateEmailWithZod(state.email_id);\n  if (!validEmail) {\n    return \"Invalid email ID\";\n  }\n  if (!isCustom && !state.password) {\n    return \"Password is required\";\n  }\n  if (isCustom) {\n    if (!state.api_key) {\n      return \"API Key is required\";\n    }\n    if (!state.api_secret) {\n      return;\n    }\n  }\n  return \"\";\n}\n","<template>\n  <div\n    class=\"flex h-10 w-10 cursor-pointer items-center justify-center rounded-xl bg-gray-100 hover:bg-gray-200\"\n    :class=\"{ 'ring-2 ring-blue-500': selected }\"\n  >\n    <img :src=\"logo\" class=\"h-6 w-6\" />\n  </div>\n  <p v-if=\"serviceName\" class=\"text-center text-p-xs text-gray-700\">\n    {{ serviceName }}\n  </p>\n</template>\n\n<script setup lang=\"ts\">\ninterface P {\n  serviceName?: string;\n  logo?: string;\n  selected?: boolean;\n}\n\nwithDefaults(defineProps<P>(), {\n  serviceName: \"\",\n  selected: false,\n  logo: \"\",\n});\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"flex h-full flex-col gap-4\">\n    <!-- title and desc -->\n    <div role=\"heading\" aria-level=\"1\" class=\"flex flex-col gap-1\">\n      <h5 class=\"text-lg font-semibold pt-[5px]\">Setup Email</h5>\n      <p class=\"text-sm text-gray-600\">\n        Choose the email service provider you want to configure.\n      </p>\n    </div>\n    <!-- email service provider selection -->\n    <div class=\"flex flex-wrap items-center gap-4\">\n      <div\n        v-for=\"s in services\"\n        :key=\"s.name\"\n        class=\"min-w-3 flex flex-col items-center gap-1\"\n        @click=\"handleSelect(s)\"\n      >\n        <EmailProviderIcon\n          :service-name=\"s.name\"\n          :logo=\"s.icon\"\n          :selected=\"selectedService?.name === s?.name\"\n        />\n      </div>\n    </div>\n    <div v-if=\"selectedService\" class=\"flex flex-col gap-4\">\n      <!-- email service provider info -->\n      <div class=\"flex items-center gap-2 rounded-md p-2 ring-1 ring-gray-200\">\n        <CircleAlert\n          class=\"h-6 w-5 w-min-5 w-max-5 min-h-5 max-w-5 text-blue-500\"\n        />\n        <div class=\"text-wrap text-xs text-gray-700\">\n          {{ selectedService.info }}\n          <a\n            :href=\"selectedService.link\"\n            target=\"_blank\"\n            class=\"text-blue-500 underline\"\n            >here</a\n          >\n          .\n        </div>\n      </div>\n      <!-- service provider fields -->\n      <div class=\"flex flex-col gap-4\">\n        <div class=\"grid grid-cols-1 gap-4\">\n          <div\n            v-for=\"field in fields\"\n            :key=\"field.name\"\n            class=\"flex flex-col gap-1\"\n          >\n            <FormControl\n              v-model=\"state[field.name]\"\n              :label=\"field.label\"\n              :name=\"field.name\"\n              :type=\"field.type\"\n              :placeholder=\"field.placeholder\"\n            />\n          </div>\n        </div>\n        <div class=\"grid grid-cols-2 gap-4\">\n          <div\n            v-for=\"field in incomingOutgoingFields\"\n            :key=\"field.name\"\n            class=\"flex flex-col gap-1\"\n          >\n            <FormControl\n              v-model=\"state[field.name]\"\n              :label=\"field.label\"\n              :name=\"field.name\"\n              :type=\"field.type\"\n            />\n            <p class=\"text-gray-500 text-p-sm\">{{ field.description }}</p>\n          </div>\n        </div>\n        <ErrorMessage v-if=\"error\" class=\"ml-1\" :message=\"error\" />\n      </div>\n    </div>\n    <!-- action button -->\n    <div v-if=\"selectedService\" class=\"mt-auto flex justify-between\">\n      <Button\n        label=\"Back\"\n        theme=\"gray\"\n        variant=\"outline\"\n        :disabled=\"addEmailRes.loading\"\n        @click=\"emit('update:step', 'email-list')\"\n      />\n      <Button\n        label=\"Create\"\n        variant=\"solid\"\n        :loading=\"addEmailRes.loading\"\n        @click=\"createEmailAccount\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { EmailAccount, EmailService, EmailStep } from \"@/types\";\nimport { createResource, toast } from \"frappe-ui\";\nimport { useOnboarding } from \"frappe-ui/frappe\";\nimport { computed, Reactive, reactive, Ref, ref } from \"vue\";\nimport CircleAlert from \"~icons/lucide/circle-alert\";\nimport {\n  customProviderFields,\n  incomingOutgoingFields,\n  popularProviderFields,\n  services,\n  validateInputs,\n} from \"./emailConfig\";\nimport EmailProviderIcon from \"./EmailProviderIcon.vue\";\n\ninterface E {\n  (event: \"update:step\", value: EmailStep): void;\n}\n\nconst emit = defineEmits<E>();\n\nconst { updateOnboardingStep } = useOnboarding(\"helpdesk\");\n\nconst state: Reactive<EmailAccount> = reactive({\n  service: \"\",\n  email_account_name: \"\",\n  email_id: \"\",\n  password: \"\",\n  api_key: \"\",\n  api_secret: \"\",\n  frappe_mail_site: \"\",\n  enable_incoming: false,\n  enable_outgoing: false,\n  default_incoming: false,\n  default_outgoing: false,\n});\n\nconst selectedService: Ref<EmailService> = ref(null);\nconst fields = computed(() =>\n  selectedService.value.custom ? customProviderFields : popularProviderFields\n);\n\nfunction handleSelect(service: EmailService) {\n  selectedService.value = service;\n  state.service = service.name;\n}\n\nconst addEmailRes = createResource({\n  url: \"helpdesk.api.settings.email.create_email_account\",\n  makeParams: (val: EmailAccount) => {\n    return {\n      ...val,\n    };\n  },\n  onSuccess: () => {\n    toast.success(\"Email account created\");\n    emit(\"update:step\", \"email-list\");\n    updateOnboardingStep(\"setup_email_account\");\n  },\n  onError: () => {\n    error.value = \"Failed to create email account, Invalid credentials\";\n  },\n});\n\nconst error = ref<string | undefined>();\nfunction createEmailAccount() {\n  error.value = validateInputs(state, selectedService.value.custom);\n  if (error.value) return;\n\n  addEmailRes.submit({ data: state });\n}\n</script>\n\n<style scoped></style>\n","<template>\n  <div\n    class=\"flex justify-between items-center border-gray-200 p-2 pl-0 cursor-pointer\"\n  >\n    <!-- avatar and name -->\n    <div class=\"flex justify-between items-center gap-2\">\n      <EmailProviderIcon :logo=\"emailIcon[emailAccount.service]\" />\n      <div>\n        <p class=\"text-gray-700 font-semibold\">\n          {{ emailAccount.email_account_name }}\n        </p>\n        <div class=\"text-sm text-gray-500\">{{ emailAccount.email_id }}</div>\n      </div>\n    </div>\n    <div>\n      <Badge\n        variant=\"subtle\"\n        :label=\"badgeTitleColor[0]\"\n        :theme=\"badgeTitleColor[1]\"\n      />\n    </div>\n    <!-- email id -->\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { EmailAccount } from \"@/types\";\nimport { emailIcon } from \"./emailConfig\";\nimport EmailProviderIcon from \"./EmailProviderIcon.vue\";\nimport { computed } from \"vue\";\n\ninterface P {\n  emailAccount: EmailAccount;\n}\n\nconst props = defineProps<P>();\n\nconst badgeTitleColor = computed(() => {\n  if (\n    props.emailAccount.default_incoming &&\n    props.emailAccount.default_outgoing\n  ) {\n    const color =\n      props.emailAccount.enable_incoming && props.emailAccount.enable_outgoing\n        ? \"blue\"\n        : \"gray\";\n    return [\"Default Sending and Inbox\", color];\n  } else if (props.emailAccount.default_incoming) {\n    const color = props.emailAccount.enable_incoming ? \"blue\" : \"gray\";\n    return [\"Default Inbox\", color];\n  } else if (props.emailAccount.default_outgoing) {\n    const color = props.emailAccount.enable_outgoing ? \"blue\" : \"gray\";\n    return [\"Default Sending\", color];\n  } else {\n    const color = props.emailAccount.enable_incoming ? \"blue\" : \"gray\";\n    return [\"Inbox\", color];\n  }\n});\n</script>\n\n<style scoped></style>\n","<template>\n  <div>\n    <!-- header -->\n    <SettingsLayoutHeader\n      title=\"Email Accounts\"\n      description=\"Manage your email accounts and configure incoming and outgoing settings.\"\n    >\n      <template #actions>\n        <Button\n          label=\"Add Account\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"emit('update:step', 'email-add')\"\n          icon-left=\"plus\"\n        />\n      </template>\n    </SettingsLayoutHeader>\n    <!-- list accounts -->\n    <div\n      v-if=\"!emailAccounts.loading && Boolean(emailAccounts.data?.length)\"\n      class=\"mt-4 divide-y\"\n    >\n      <div v-for=\"emailAccount in emailAccounts.data\" :key=\"emailAccount.name\">\n        <EmailAccountCard\n          :emailAccount=\"emailAccount\"\n          @click=\"emit('update:step', 'email-edit', emailAccount)\"\n        />\n      </div>\n    </div>\n    <!-- fallback if no email accounts -->\n    <div v-else class=\"flex items-center justify-center h-64 text-gray-500\">\n      Please add an email account to continue.\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { EmailAccount } from \"@/types\";\nimport { createListResource } from \"frappe-ui\";\nimport EmailAccountCard from \"./EmailAccountCard.vue\";\nimport SettingsLayoutHeader from \"./SettingsLayoutHeader.vue\";\n\nconst emit = defineEmits([\"update:step\"]);\n\nconst emailAccounts = createListResource({\n  doctype: \"Email Account\",\n  cache: [\"Email Accounts\"],\n  fields: [\"*\"],\n  filters: {\n    email_id: [\"Not Like\", \"%example%\"],\n  },\n  pageLength: 10,\n  auto: true,\n  onSuccess: (accounts: EmailAccount[]) => {\n    // convert 0 to false to handle boolean fields\n    accounts.forEach((account) => {\n      account.enable_incoming = Boolean(account.enable_incoming);\n      account.enable_outgoing = Boolean(account.enable_outgoing);\n      account.default_incoming = Boolean(account.default_incoming);\n      account.default_outgoing = Boolean(account.default_outgoing);\n    });\n  },\n});\n</script>\n","<template>\n  <div class=\"flex h-full flex-col gap-4\">\n    <!-- title and desc -->\n    <div\n      role=\"heading\"\n      aria-level=\"1\"\n      class=\"flex gap-1 justify-between pt-[5px]\"\n    >\n      <h5 class=\"text-lg font-semibold\">Edit Email</h5>\n    </div>\n    <div class=\"w-fit\">\n      <EmailProviderIcon\n        :logo=\"emailIcon[accountData.service]\"\n        :service-name=\"accountData.service\"\n      />\n    </div>\n    <!-- banner for setting up email account -->\n    <div class=\"flex items-center gap-2 rounded-md p-2 ring-1 ring-gray-200\">\n      <CircleAlert\n        class=\"h-6 w-5 w-min-5 w-max-5 min-h-5 max-w-5 text-ink-blue-2\"\n      />\n      <div class=\"text-wrap text-xs text-gray-700\">\n        {{ info.description }}\n        <a :href=\"info.link\" target=\"_blank\" class=\"text-ink-blue-2 underline\"\n          >here</a\n        >\n        .\n      </div>\n    </div>\n    <!-- fields -->\n    <div class=\"flex flex-col gap-4\">\n      <div class=\"grid grid-cols-1 gap-4\">\n        <div\n          v-for=\"field in fields\"\n          :key=\"field.name\"\n          class=\"flex flex-col gap-1\"\n        >\n          <FormControl\n            v-model=\"state[field.name]\"\n            :label=\"field.label\"\n            :name=\"field.name\"\n            :type=\"field.type\"\n            :placeholder=\"field.placeholder\"\n          />\n        </div>\n      </div>\n      <div class=\"grid grid-cols-2 gap-4\">\n        <div\n          v-for=\"field in incomingOutgoingFields\"\n          :key=\"field.name\"\n          class=\"flex flex-col gap-1\"\n        >\n          <FormControl\n            v-model=\"state[field.name]\"\n            :label=\"field.label\"\n            :name=\"field.name\"\n            :type=\"field.type\"\n          />\n          <p class=\"text-p-sm text-gray-500\">{{ field.description }}</p>\n        </div>\n      </div>\n      <ErrorMessage v-if=\"error\" class=\"ml-1\" :message=\"error\" />\n    </div>\n    <!-- action buttons -->\n    <div class=\"mt-auto flex justify-between\">\n      <Button\n        label=\"Back\"\n        theme=\"gray\"\n        variant=\"outline\"\n        :disabled=\"loading\"\n        @click=\"emit('update:step', 'email-list')\"\n      />\n      <div class=\"flex gap-2\">\n        <Button\n          label=\"Update Account\"\n          variant=\"solid\"\n          @click=\"updateAccount\"\n          :loading=\"loading\"\n        />\n        <Button\n          v-if=\"accountData.enable_incoming\"\n          label=\"Pull Emails\"\n          variant=\"subtle\"\n          @click=\"pullEmails\"\n          :loading=\"loadingPull\"\n          :disabled=\"loading\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { EmailAccount, EmailStep } from \"@/types\";\nimport { useStorage } from \"@vueuse/core\";\nimport { call, toast } from \"frappe-ui\";\nimport { computed, h, reactive, ref } from \"vue\";\nimport CircleAlert from \"~icons/lucide/circle-alert\";\nimport EmailProviderIcon from \"./EmailProviderIcon.vue\";\nimport {\n  customProviderFields,\n  emailIcon,\n  incomingOutgoingFields,\n  popularProviderFields,\n  services,\n  validateInputs,\n} from \"./emailConfig\";\n\ninterface P {\n  accountData: EmailAccount;\n}\n\ninterface E {\n  (event: \"update:step\", step: EmailStep): void;\n}\n\nconst props = withDefaults(defineProps<P>(), {\n  accountData: null,\n});\n\nconst emit = defineEmits<E>();\n\nconst state = reactive({\n  email_account_name: props.accountData.email_account_name || \"\",\n  service: props.accountData.service || \"\",\n  email_id: props.accountData.email_id || \"\",\n  api_key: props.accountData?.api_key || null,\n  api_secret: props.accountData?.api_secret || null,\n  password: props.accountData?.password || null,\n  frappe_mail_site: props.accountData?.frappe_mail_site || \"\",\n  enable_incoming: props.accountData.enable_incoming || false,\n  enable_outgoing: props.accountData.enable_outgoing || false,\n  default_outgoing: props.accountData.default_outgoing || false,\n  default_incoming: props.accountData.default_incoming || false,\n});\n\nconst info = {\n  description: \"To know more about setting up email accounts, click\",\n  link: \"https://docs.erpnext.com/docs/user/manual/en/email-account\",\n};\n\nconst isCustomService = computed(() => {\n  return services.find((s) => s.name === props.accountData.service).custom;\n});\n\nconst fields = computed(() => {\n  if (isCustomService.value) {\n    return customProviderFields;\n  }\n  return popularProviderFields;\n});\n\nconst error = ref<string | undefined>();\nconst loading = ref(false);\nconst loadingPull = useStorage(\n  `loading-emails-${state.email_account_name}`,\n  false\n);\nasync function updateAccount() {\n  error.value = validateInputs(state, isCustomService.value);\n  if (error.value) return;\n  const old = { ...props.accountData };\n  const updatedEmailAccount = { ...state };\n\n  const nameChanged =\n    old.email_account_name !== updatedEmailAccount.email_account_name;\n  delete old.email_account_name;\n  delete updatedEmailAccount.email_account_name;\n\n  const otherFieldsChanged = isDirty.value;\n  const values = updatedEmailAccount;\n\n  if (!nameChanged && !otherFieldsChanged) {\n    toast.create({\n      message: \"No changes made\",\n      icon: h(CircleAlert, { class: \"text-ink-blue-2\" }),\n    });\n    return;\n  }\n\n  if (nameChanged) {\n    try {\n      loading.value = true;\n      await callRenameDoc();\n      succesHandler();\n    } catch (err) {\n      errorHandler();\n    }\n  }\n  if (otherFieldsChanged) {\n    try {\n      loading.value = true;\n      await callSetValue(values);\n      succesHandler();\n    } catch (err) {\n      errorHandler();\n    }\n  }\n}\n\nfunction pullEmails() {\n  loadingPull.value = true;\n\n  toast.create({\n    message: \"Pulling emails, this may take a few minutes.\",\n    icon: h(CircleAlert, { class: \"text-blue-500\" }),\n  });\n\n  call(\"frappe.email.doctype.email_account.email_account.pull_emails\", {\n    email_account: state.email_account_name,\n  })\n    .then(() => {\n      localStorage.removeItem(`loading-emails-${state.email_account_name}`);\n      loadingPull.value = null;\n      toast.success(\"Emails pulled successfully\");\n    })\n    .catch(() => {\n      localStorage.removeItem(`loading-emails-${state.email_account_name}`);\n      loadingPull.value = null;\n      error.value = \"Failed to pull emails\";\n    });\n}\n\nconst isDirty = computed(() => {\n  return (\n    state.email_id !== props.accountData.email_id ||\n    state.api_key !== props.accountData.api_key ||\n    state.api_secret !== props.accountData.api_secret ||\n    state.password !== props.accountData.password ||\n    state.enable_incoming !== props.accountData.enable_incoming ||\n    state.enable_outgoing !== props.accountData.enable_outgoing ||\n    state.default_outgoing !== props.accountData.default_outgoing ||\n    state.default_incoming !== props.accountData.default_incoming ||\n    state.frappe_mail_site !== props.accountData.frappe_mail_site\n  );\n});\n\nasync function callRenameDoc() {\n  const d = await call(\"frappe.client.rename_doc\", {\n    doctype: \"Email Account\",\n    old_name: props.accountData.email_account_name,\n    new_name: state.email_account_name,\n  });\n  return d;\n}\n\nasync function callSetValue(values) {\n  const d = await call(\"frappe.client.set_value\", {\n    doctype: \"Email Account\",\n    name: state.email_account_name,\n    fieldname: values,\n  });\n  return d.name;\n}\n\nfunction succesHandler() {\n  emit(\"update:step\", \"email-list\");\n  toast.success(\"Email account updated successfully\");\n}\n\nfunction errorHandler() {\n  loading.value = false;\n  error.value = \"Failed to update email account, Invalid credentials\";\n}\n</script>\n","<template>\n  <div class=\"flex-1 px-10 py-8\">\n    <div v-if=\"step === 'email-add'\" class=\"h-full\">\n      <EmailAdd @update:step=\"updateStep\" />\n    </div>\n    <div v-else-if=\"step === 'email-list'\" class=\"h-full\">\n      <EmailAccountList @update:step=\"updateStep\" />\n    </div>\n    <div v-else-if=\"step === 'email-edit'\" class=\"h-full\">\n      <EmailEdit :account-data=\"accountData\" @update:step=\"updateStep\" />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Ref, ref } from \"vue\";\nimport EmailAdd from \"./EmailAdd.vue\";\nimport EmailAccountList from \"./EmailAccountList.vue\";\nimport EmailEdit from \"./EmailEdit.vue\";\nimport { EmailAccount, EmailStep } from \"@/types\";\n\nconst step: Ref<EmailStep> = ref(\"email-list\");\nconst accountData: Ref<EmailAccount> = ref(null);\nfunction updateStep(newStep: EmailStep, data?: EmailAccount) {\n  step.value = newStep;\n  accountData.value = data;\n}\n</script>\n","import { validateConditions } from \"@/utils\";\nimport { ref } from \"vue\";\n\nconst defaultAssignmentDays = [\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\",\n  \"Sunday\",\n];\n\nexport const assignmentRuleData = ref<Record<string, any> | null>({\n  assignCondition: \"\",\n  unassignCondition: \"\",\n  assignConditionJson: [],\n  unassignConditionJson: [],\n  rule: \"Round Robin\",\n  priority: 1,\n  users: [],\n  disabled: false,\n  description: \"\",\n  name: \"\",\n  assignmentRuleName: \"\",\n  assignmentDays: defaultAssignmentDays,\n});\n\nexport const resetAssignmentRuleData = () => {\n  assignmentRuleData.value = {\n    assignCondition: \"\",\n    unassignCondition: \"\",\n    assignConditionJson: [],\n    unassignConditionJson: [],\n    rule: \"Round Robin\",\n    priority: 1,\n    users: [],\n    disabled: false,\n    description: \"\",\n    name: \"\",\n    assignmentRuleName: \"\",\n    assignmentDays: defaultAssignmentDays,\n  };\n};\n\nexport const assignmentRulesActiveScreen = ref<{\n  screen: \"list\" | \"view\";\n  data: Record<string, any> | null;\n}>({ screen: \"list\", data: null });\n\nexport const validateAssignmentRule = (\n  key?: string,\n  skipAssignConditionCheck = false,\n  skipUnAssignConditionCheck = false\n) => {\n  const validateField = (field: string) => {\n    if (key && field !== key) return;\n\n    switch (field) {\n      case \"assignmentRuleName\":\n        if (assignmentRuleData.value.assignmentRuleName?.length == 0) {\n          assignmentRulesErrors.value.assignmentRuleName = \"Name is required\";\n        } else {\n          assignmentRulesErrors.value.assignmentRuleName = \"\";\n        }\n        break;\n      case \"description\":\n        assignmentRulesErrors.value.description =\n          assignmentRuleData.value.description?.length > 0\n            ? \"\"\n            : \"Description is required\";\n        break;\n      case \"assignCondition\":\n        if (skipAssignConditionCheck) {\n          break;\n        }\n        assignmentRulesErrors.value.assignCondition =\n          assignmentRuleData.value.assignConditionJson?.length > 0\n            ? \"\"\n            : \"Assign condition is required\";\n\n        if (!validateConditions(assignmentRuleData.value.assignConditionJson)) {\n          assignmentRulesErrors.value.assignConditionError =\n            \"Assign conditions are invalid\";\n        } else {\n          assignmentRulesErrors.value.assignConditionError = \"\";\n        }\n\n        break;\n      case \"unassignCondition\":\n        if (skipUnAssignConditionCheck) {\n          break;\n        }\n        if (\n          assignmentRuleData.value.unassignConditionJson?.length > 0 &&\n          !validateConditions(assignmentRuleData.value.unassignConditionJson)\n        ) {\n          assignmentRulesErrors.value.unassignConditionError =\n            \"Unassign conditions are invalid\";\n        } else {\n          assignmentRulesErrors.value.unassignConditionError = \"\";\n        }\n        break;\n      case \"users\":\n        assignmentRulesErrors.value.users =\n          assignmentRuleData.value.users?.length > 0\n            ? \"\"\n            : \"Users are required\";\n        break;\n      case \"assignmentDays\":\n        assignmentRulesErrors.value.assignmentDays =\n          assignmentRuleData.value.assignmentDays?.length > 0\n            ? \"\"\n            : \"Assignment days are required\";\n        break;\n      default:\n        break;\n    }\n  };\n\n  if (key) {\n    validateField(key);\n  } else {\n    (Object.keys(assignmentRulesErrors.value) as string[]).forEach(\n      validateField\n    );\n  }\n\n  return assignmentRulesErrors.value;\n};\n\nexport const assignmentRulesErrors = ref<Record<string, any> | null>({\n  assignmentRuleName: \"\",\n  assignCondition: \"\",\n  assignConditionError: \"\",\n  unassignConditionError: \"\",\n  users: \"\",\n  description: \"\",\n  assignmentDays: \"\",\n});\n\nexport const resetAssignmentRuleErrors = () => {\n  (Object.keys(assignmentRulesErrors.value) as string[]).forEach((key) => {\n    assignmentRulesErrors.value[key] = \"\";\n  });\n};\n","<template>\n  <div class=\"w-full h-full flex flex-col\">\n    <!-- Header -->\n    <div class=\"flex items-center justify-between mb-4\">\n      <div class=\"flex items-center gap-1 justify-center -ml-[16px]\">\n        <Button\n          variant=\"ghost\"\n          icon-left=\"chevron-left\"\n          :label=\"teamName\"\n          size=\"md\"\n          @click=\"() => emit('update:step', 'team-list')\"\n          class=\"cursor-pointer hover:bg-transparent focus:bg-transparent focus:outline-none focus:ring-0 focus:ring-offset-0 focus-visible:none active:bg-transparent active:outline-none active:ring-0 active:ring-offset-0 active:text-ink-gray-5\"\n        />\n      </div>\n      <Dropdown placement=\"right\" :options=\"options\">\n        <Button variant=\"ghost\">\n          <template #icon>\n            <LucideMoreHorizontal class=\"h-4 w-4\" />\n          </template>\n        </Button>\n      </Dropdown>\n    </div>\n    <!-- Add member -->\n    <div class=\"flex flex-col gap-4 h-full\">\n      <div class=\"flex gap-2 items-end\">\n        <!-- Form control for search -->\n        <Link\n          doctype=\"HD Agent\"\n          class=\"form-control flex-1\"\n          placeholder=\"Search members\"\n          v-model=\"search\"\n          label=\"Members\"\n          :hide-me=\"true\"\n          :filters=\"agentFilters\"\n        >\n          <template #prefix>\n            <LucideSearch class=\"h-4 w-4 text-gray-500 mr-2\" />\n          </template>\n          <template #item-label=\"{ option }\">\n            <div class=\"flex items-center justify-between !w-full\">\n              <div class=\"flex items-center gap-1\">\n                <Avatar\n                  :label=\"option.label || option.value\"\n                  :image=\"getUser(option.label)?.user_image\"\n                  size=\"sm\"\n                />\n                <p>{{ getUser(option.label)?.full_name || \"User\" }}</p>\n              </div>\n              <p class=\"text-gray-600 text-sm\">\n                {{ option.label }}\n              </p>\n            </div>\n          </template>\n        </Link>\n        <Button\n          label=\"Add\"\n          variant=\"solid\"\n          :disabled=\"!search\"\n          @click=\"addMember(search)\"\n        >\n          <template #prefix>\n            <LucidePlus class=\"h-4 w-4 stroke-1.5\" />\n          </template>\n        </Button>\n      </div>\n\n      <!-- Member List -->\n      <div\n        class=\"flex flex-col divide-y divide-gray-200 overflow-y-scroll hide-scrollbar h-full\"\n        v-if=\"teamMembers.length\"\n      >\n        <div\n          v-for=\"(member, idx) in teamMembers\"\n          :key=\"member.user\"\n          class=\"group py-2\"\n          :class=\"idx == teamMembers.length - 1 && 'mb-12'\"\n        >\n          <AgentCard :agent=\"member\" class=\"!py-0\">\n            <template #right>\n              <Button\n                variant=\"ghost\"\n                @click.stop=\"() => removeMemberFromTeam(member.name)\"\n                theme=\"red\"\n                class=\"opacity-0 group-hover:opacity-100\"\n                :disabled=\"team.loading\"\n              >\n                <template #icon>\n                  <LucideX class=\"h-4 w-4\" />\n                </template>\n              </Button>\n            </template>\n          </AgentCard>\n        </div>\n      </div>\n      <div v-else class=\"flex justify-center h-full\">\n        <p class=\"text-p-base text-gray-500\">No members found</p>\n      </div>\n    </div>\n  </div>\n  <Dialog v-model=\"showDelete\" :options=\"{ title: 'Delete team' }\">\n    <template #body-content>\n      <p class=\"text-p-base text-ink-gray-7\">\n        Are you sure you want to delete this team? This action cannot be\n        reversed!\n      </p>\n      <Button\n        variant=\"solid\"\n        class=\"mt-4 float-right\"\n        label=\"Confirm\"\n        theme=\"red\"\n        @click=\"\n          () => {\n            team.delete.submit();\n            showDelete = false;\n          }\n        \"\n      />\n    </template>\n  </Dialog>\n  <Dialog v-model=\"showRename\" :options=\"renameDialogOptions\">\n    <template #body-content>\n      <FormControl\n        v-model=\"_teamName\"\n        label=\"Title\"\n        placeholder=\"Product Experts\"\n      />\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport Link from \"@/components/frappe-ui/Link.vue\";\nimport { useConfigStore } from \"@/stores/config\";\nimport { useUserStore } from \"@/stores/user\";\nimport {\n  Avatar,\n  Button,\n  createDocumentResource,\n  createResource,\n  Dialog,\n  Dropdown,\n  toast,\n  Tooltip,\n} from \"frappe-ui\";\nimport { computed, h, markRaw, ref } from \"vue\";\nimport LucideLock from \"~icons/lucide/lock\";\nimport LucideUnlock from \"~icons/lucide/unlock\";\nimport AgentCard from \"../AgentCard.vue\";\nimport Settings from \"~icons/lucide/settings-2\";\nimport { assignmentRulesActiveScreen } from \"@/stores/assignmentRules\";\nimport { setActiveSettingsTab } from \"../settingsModal\";\n\nconst props = defineProps<{\n  teamName: string;\n}>();\n\ninterface E {\n  (event: \"update:step\", value: string): void;\n}\nconst emit = defineEmits<E>();\n\nconst { getUser } = useUserStore();\nconst { teamRestrictionApplied } = useConfigStore();\nconst _teamName = ref(props.teamName);\nconst team = createDocumentResource({\n  doctype: \"HD Team\",\n  name: props.teamName,\n  auto: true,\n  delete: {\n    onSuccess() {\n      toast.success(\"Team deleted\");\n      emit(\"update:step\", \"team-list\");\n    },\n  },\n});\n\nconst ignoreRestrictions = computed({\n  get() {\n    return !!team.doc?.ignore_restrictions;\n  },\n  set(value: boolean) {\n    if (!team.doc) return;\n    team.setValue.submit({\n      ignore_restrictions: value,\n    });\n  },\n});\nconst search = ref(\"\");\n\nconst teamMembers = computed(() => {\n  let users = team.doc?.users || [];\n  return users.map((user) => {\n    let _user = getUser(user.user);\n    return {\n      name: user.user,\n      user_image: _user.user_image,\n      agent_name: _user.full_name,\n    };\n  });\n});\n\nconst agentFilters = computed(() => {\n  return {\n    name: [\"not in\", teamMembers.value.map((user) => user.name)],\n  };\n});\n\nfunction removeMemberFromTeam(member: string) {\n  const users = team.doc?.users?.filter((u) => u.user !== member);\n  team.setValue.submit({\n    users,\n  });\n}\n\nfunction addMember(user: string) {\n  const users = team.doc.users.concat([{ user }]);\n  team.setValue.submit({\n    users,\n  });\n  search.value = \"\";\n}\n\nconst showRename = ref(false);\n\nconst renameDialogOptions = {\n  title: \"Rename team\",\n  message: \"Enter the new name for the team\",\n  actions: [\n    {\n      label: \"Confirm\",\n      variant: \"solid\",\n      loading: team.loading,\n      onClick: ({ close }) => {\n        renameTeam(close);\n      },\n    },\n  ],\n};\n\nfunction renameTeam(close) {\n  const r = createResource({\n    url: \"frappe.client.rename_doc\",\n    makeParams() {\n      return {\n        doctype: \"HD Team\",\n        old_name: props.teamName,\n        new_name: _teamName.value,\n      };\n    },\n    validate(params) {\n      if (!params.new_name) return \"New title is required\";\n      if (params.new_name === params.old_name)\n        return \"New and old title cannot be same\";\n    },\n    onSuccess() {\n      toast.success(\"Team renamed\");\n      close();\n      emit(\"update:step\", \"team-list\");\n    },\n  });\n\n  r.submit();\n}\n\nconst showDelete = ref(false);\nconst deleteDialogOptions = {\n  title: \"Delete team\",\n  message: `Are you sure you want to delete this team? This action cannot be reversed!`,\n  actions: [\n    {\n      label: \"Confirm\",\n      variant: \"solid\",\n      onClick: (ctx) => {\n        team.delete.submit();\n        ctx.close();\n      },\n    },\n  ],\n};\n\nconst options = [\n  {\n    label: \"View Assignment rule\",\n    icon: markRaw(h(Settings, { class: \"rotate-90\" })),\n    onClick: () => {\n      assignmentRulesActiveScreen.value = {\n        data: { name: team.doc?.assignment_rule },\n        screen: \"view\",\n      };\n      setActiveSettingsTab(\"Assignment Rules\");\n    },\n  },\n  {\n    label: \"Rename\",\n    icon: \"edit-3\",\n    onClick: () => (showRename.value = !showRename.value),\n  },\n  {\n    condition: () => teamRestrictionApplied,\n    label: team.doc?.ignore_restrictions\n      ? \"Disable Bypass Restrictions\"\n      : \"Enable Bypass Restrictions\",\n    component: () =>\n      h(\n        Tooltip,\n        {\n          text: ignoreRestrictions.value\n            ? \"Members of this team will see the tickets assigned to this team only\"\n            : \"Members of this team will be able to see the tickets assigned to all the teams\",\n        },\n        {\n          default: () => [\n            //create a div with 2 columns, one for icon and one for label\n            h(\n              \"div\",\n              {\n                class:\n                  \"flex items-center gap-2 p-2 cursor-pointer hover:bg-gray-100 rounded\",\n                onClick: () =>\n                  (ignoreRestrictions.value = !ignoreRestrictions.value),\n              },\n              [\n                h(team.doc?.ignore_restrictions ? LucideLock : LucideUnlock, {\n                  class: \"h-4 w-4 text-gray-700\",\n                  stroke: \"currentColor\",\n                  \"aria-hidden\": \"true\",\n                }),\n                h(\n                  \"span\",\n                  {\n                    class: \"whitespace-nowrap text-ink-gray-7 text-p-base\",\n                  },\n                  [\n                    team.doc?.ignore_restrictions\n                      ? \"Access only this team's tickets\"\n                      : \"Access all team tickets\",\n                  ]\n                ),\n              ]\n            ),\n          ],\n        }\n      ),\n  },\n  {\n    label: \"Delete\",\n    component: h(Button, {\n      label: \"Delete\",\n      variant: \"ghost\",\n      iconLeft: \"trash-2\",\n      theme: \"red\",\n      style: \"width: 100%; justify-content: flex-start;\",\n      onClick: () => {\n        showDelete.value = !showDelete.value;\n      },\n    }),\n  },\n];\n</script>\n\n<style scoped></style>\n","<template>\n  <Dialog\n    v-model=\"show\"\n    :options=\"{\n      title: 'New team',\n      actions: [\n        {\n          label: 'Create',\n          variant: 'solid',\n          onClick: () => {\n            newTeam.submit();\n          },\n        },\n      ],\n    }\"\n  >\n    <template #body-content>\n      <form class=\"space-y-2\" @submit.prevent=\"newTeam.submit\">\n        <FormControl\n          v-model=\"newTeamTitle\"\n          label=\"Title\"\n          placeholder=\"Product experts\"\n          type=\"text\"\n        />\n      </form>\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { createResource, toast } from \"frappe-ui\";\nimport { isEmpty } from \"lodash\";\nimport { ref } from \"vue\";\n\nconst emit = defineEmits([\"create\"]);\nconst show = defineModel();\n\nconst newTeamTitle = ref(null);\nconst newTeam = createResource({\n  url: \"frappe.client.insert\",\n  makeParams() {\n    return {\n      doc: {\n        doctype: \"HD Team\",\n        team_name: newTeamTitle.value,\n      },\n    };\n  },\n  validate(params) {\n    if (isEmpty(params.doc.team_name)) return \"Title is required\";\n  },\n  auto: false,\n  onSuccess() {\n    toast.success(\"Team created\");\n    newTeamTitle.value = null;\n    show.value = false;\n    emit(\"create\");\n  },\n});\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"w-full h-full flex flex-col\">\n    <!-- Header -->\n    <SettingsLayoutHeader\n      title=\"Teams\"\n      description=\"Create and manage teams and assign agents to specific teams.\"\n    >\n      <template #actions>\n        <Button\n          label=\"New\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"() => (showForm = !showForm)\"\n          icon-left=\"plus\"\n        />\n      </template>\n      <template #bottom-section>\n        <FormControl\n          v-model=\"search\"\n          :placeholder=\"'Search'\"\n          type=\"text\"\n          :debounce=\"300\"\n          class=\"w-60\"\n        >\n          <template #prefix>\n            <LucideSearch class=\"h-4 w-4 text-gray-500\" />\n          </template>\n        </FormControl>\n      </template>\n    </SettingsLayoutHeader>\n    <!-- List -->\n    <div\n      v-if=\"!teams.loading && teams.data?.length > 0\"\n      class=\"divide-y w-full h-full hide-scrollbar overflow-y-scroll mt-4\"\n    >\n      <div\n        v-for=\"team in teams.data\"\n        :key=\"team.name\"\n        class=\"flex items-center gap-2 py-2 group justify-between cursor-pointer\"\n        @click=\"() => emit('update:step', 'team-edit', team.name)\"\n      >\n        <div class=\"flex items-center gap-2\">\n          <Avatar :label=\"team.name\" size=\"sm\" />\n          <p :key=\"team.name\" class=\"text-p-base text-gray-700\">\n            {{ team.name }}\n          </p>\n        </div>\n      </div>\n    </div>\n    <!-- Loading State -->\n    <div v-if=\"teams.loading\" class=\"flex mt-28 justify-between w-full h-full\">\n      <Button\n        :loading=\"teams.loading\"\n        variant=\"ghost\"\n        class=\"w-full\"\n        size=\"2xl\"\n      />\n    </div>\n    <!-- Empty State -->\n    <div\n      v-if=\"!teams.data?.length\"\n      class=\"flex mt-28 justify-between w-full h-full\"\n    >\n      <p class=\"text-sm text-gray-500 w-full flex justify-center\">\n        No teams found\n      </p>\n    </div>\n  </div>\n  <NewTeamModal\n    v-model=\"showForm\"\n    @create=\"\n      () => {\n        teams.reload();\n      }\n    \"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { Avatar, FormControl, createListResource } from \"frappe-ui\";\nimport { ref, watch } from \"vue\";\nimport NewTeamModal from \"../NewTeamModal.vue\";\n\ninterface E {\n  (event: \"update:step\", step: string, team: string): void;\n}\n\nconst emit = defineEmits<E>();\n\nconst teams = createListResource({\n  doctype: \"HD Team\",\n  cache: [\"Teams\"],\n  fields: [\"name\"],\n  auto: true,\n  orderBy: \"creation desc\",\n});\n\nconst search = ref(\"\");\nconst showForm = ref(false);\n\nwatch(search, (newValue) => {\n  teams.filters = {\n    name: [\"like\", `%${newValue}%`],\n  };\n  if (!newValue) {\n    teams.start = 0;\n    teams.pageLength = 10;\n  }\n  teams.reload();\n});\n</script>\n\n<style scoped></style>\n","<template>\n  <div v-if=\"step === 'team-list'\" class=\"h-full px-10 py-8\">\n    <TeamsList @update:step=\"updateStep\" />\n  </div>\n  <div v-else-if=\"step === 'team-edit'\" class=\"h-full px-10 py-8\">\n    <TeamEdit @update:step=\"updateStep\" :team-name=\"teamName\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Ref, ref } from \"vue\";\nimport TeamEdit from \"./TeamEdit.vue\";\nimport TeamsList from \"./TeamsList.vue\";\n\ntype TeamStep = \"team-list\" | \"team-edit\";\n\nconst step: Ref<TeamStep> = ref(\"team-list\");\nconst teamName: Ref<string> = ref(\"\");\nfunction updateStep(newStep: TeamStep, team?: string): void {\n  step.value = newStep;\n  teamName.value = team;\n}\n</script>\n\n<style scoped></style>\n","import { SlaValidationErrors } from \"@/components/Settings/Sla/types\";\nimport { validateConditions } from \"@/utils\";\nimport { ref } from \"vue\";\n\nconst defaultSupportAndResolution = [\n  {\n    workday: \"Monday\",\n    start_time: \"09:00:00\",\n    end_time: \"17:00:00\",\n    id: Math.random().toString(36).substring(2, 9),\n  },\n  {\n    workday: \"Tuesday\",\n    start_time: \"09:00:00\",\n    end_time: \"17:00:00\",\n    id: Math.random().toString(36).substring(2, 9),\n  },\n  {\n    workday: \"Wednesday\",\n    start_time: \"09:00:00\",\n    end_time: \"17:00:00\",\n    id: Math.random().toString(36).substring(2, 9),\n  },\n  {\n    workday: \"Thursday\",\n    start_time: \"09:00:00\",\n    end_time: \"17:00:00\",\n    id: Math.random().toString(36).substring(2, 9),\n  },\n  {\n    workday: \"Friday\",\n    start_time: \"09:00:00\",\n    end_time: \"17:00:00\",\n    id: Math.random().toString(36).substring(2, 9),\n  },\n];\n\nexport const slaData = ref({\n  name: \"\",\n  service_level: \"\",\n  description: \"\",\n  enabled: true,\n  default_sla: false,\n  apply_sla_for_resolution: true,\n  priorities: [],\n  holiday_list: \"Default\",\n  default_priority: \"\",\n  start_date: \"\",\n  end_date: \"\",\n  loading: false,\n  support_and_resolution: defaultSupportAndResolution,\n  default_ticket_status: \"\",\n  reopen_ticket_status: \"\",\n  condition: [],\n  condition_json: [],\n});\n\nexport const resetSlaData = () => {\n  slaData.value = {\n    name: \"\",\n    service_level: \"\",\n    description: \"\",\n    enabled: true,\n    default_sla: false,\n    apply_sla_for_resolution: true,\n    priorities: [],\n    holiday_list: \"Default\",\n    default_priority: \"\",\n    start_date: \"\",\n    end_date: \"\",\n    loading: false,\n    support_and_resolution: defaultSupportAndResolution,\n    default_ticket_status: \"\",\n    reopen_ticket_status: \"\",\n    condition: [],\n    condition_json: [],\n  };\n};\n\nexport const slaActiveScreen = ref<{\n  screen: \"list\" | \"view\";\n  data: Record<string, any> | null;\n  fetchData: boolean;\n}>({ screen: \"list\", data: null, fetchData: true });\n\nexport const slaDataErrors = ref<SlaValidationErrors>({\n  service_level: \"\",\n  description: \"\",\n  enabled: \"\",\n  default_sla: \"\",\n  apply_sla_for_resolution: \"\",\n  priorities: \"\",\n  holiday_list: \"\",\n  default_priority: \"\",\n  start_date: \"\",\n  end_date: \"\",\n  support_and_resolution: \"\",\n  condition: \"\",\n});\n\nexport const resetSlaDataErrors = () => {\n  slaDataErrors.value = {\n    service_level: \"\",\n    description: \"\",\n    enabled: \"\",\n    default_sla: \"\",\n    apply_sla_for_resolution: \"\",\n    priorities: \"\",\n    holiday_list: \"\",\n    default_priority: \"\",\n    start_date: \"\",\n    end_date: \"\",\n    support_and_resolution: \"\",\n    condition: \"\",\n  };\n};\n\ntype SlaField = keyof SlaValidationErrors;\n\nexport function validateSlaData(\n  key?: SlaField,\n  skipConditionCheck = false\n): SlaValidationErrors {\n  // Reset all errors\n  resetSlaDataErrors();\n\n  const validateField = (field: SlaField) => {\n    if (key && field !== key) return;\n\n    switch (field) {\n      case \"service_level\":\n        if (!slaData.value.service_level?.trim()) {\n          slaDataErrors.value.service_level = \"SLA policy name is required\";\n        } else {\n          slaDataErrors.value.service_level = \"\";\n        }\n        break;\n      case \"priorities\":\n        if (\n          !Array.isArray(slaData.value.priorities) ||\n          slaData.value.priorities.length === 0\n        ) {\n          slaDataErrors.value.priorities = \"At least one priority is required\";\n        } else {\n          const prioritiesError: string[] = [];\n          slaData.value.priorities.forEach((priority, index) => {\n            const priorityNum = index + 1;\n            if (!priority.priority?.trim()) {\n              prioritiesError.push(\n                `Priority ${priorityNum}: Priority name is required`\n              );\n            }\n            if (!priority.response_time || priority.response_time == 0) {\n              prioritiesError.push(\n                `Priority ${priorityNum}: Response time is required`\n              );\n            }\n            if (Boolean(slaData.value.apply_sla_for_resolution)) {\n              if (!priority.resolution_time || priority.resolution_time == 0) {\n                prioritiesError.push(\n                  `Priority ${priorityNum}: Resolution time is required`\n                );\n              }\n            }\n            if (\n              priority.response_time > priority.resolution_time &&\n              Boolean(slaData.value.apply_sla_for_resolution)\n            ) {\n              prioritiesError.push(\n                `Priority ${priorityNum}: Response time cannot be greater than resolution time`\n              );\n            }\n          });\n\n          // Check for duplicate priorities\n          const priorityNames = slaData.value.priorities\n            .map((p) => p.priority?.trim().toLowerCase())\n            .filter(Boolean);\n          const uniquePriorities = new Set(priorityNames);\n\n          if (priorityNames.length !== uniquePriorities.size) {\n            prioritiesError.push(\"Priorities must be unique\");\n          }\n\n          if (prioritiesError.length > 0) {\n            slaDataErrors.value.priorities = prioritiesError.join(\", \");\n          } else {\n            slaDataErrors.value.priorities = \"\";\n          }\n\n          const hasDefaultPriority = slaData.value.priorities.some((p) =>\n            Boolean(p.default_priority)\n          );\n          if (!hasDefaultPriority) {\n            slaDataErrors.value.default_priority =\n              \"Default priority is required\";\n          } else {\n            slaDataErrors.value.default_priority = \"\";\n          }\n        }\n        break;\n      case \"holiday_list\":\n        if (!slaData.value.holiday_list) {\n          slaDataErrors.value.holiday_list = \"Holiday list is required\";\n        } else {\n          slaDataErrors.value.holiday_list = \"\";\n        }\n        break;\n      case \"start_date\":\n        if (\n          new Date(slaData.value.end_date) < new Date(slaData.value.start_date)\n        ) {\n          slaDataErrors.value.start_date =\n            \"Start date cannot be after end date\";\n        } else {\n          slaDataErrors.value.start_date = \"\";\n        }\n        break;\n      case \"end_date\":\n        if (\n          slaData.value.end_date &&\n          new Date(slaData.value.end_date) < new Date(slaData.value.start_date)\n        ) {\n          slaDataErrors.value.end_date = \"End date cannot be before start date\";\n        } else {\n          slaDataErrors.value.end_date = \"\";\n        }\n        break;\n      case \"condition\":\n        if (skipConditionCheck) {\n          break;\n        }\n        if (\n          slaData.value.condition_json.length > 0 &&\n          !validateConditions(slaData.value.condition_json)\n        ) {\n          slaDataErrors.value.condition = \"Valid conditions are required\";\n        } else {\n          slaDataErrors.value.condition = \"\";\n        }\n        break;\n      case \"support_and_resolution\":\n        const validWorkdays = slaData.value.support_and_resolution?.filter(\n          (day) =>\n            day.workday &&\n            day.workday.trim() !== \"\" &&\n            day.start_time &&\n            day.end_time &&\n            day.start_time.trim() !== \"\" &&\n            day.end_time.trim() !== \"\"\n        );\n\n        if (!validWorkdays?.length) {\n          slaDataErrors.value.support_and_resolution =\n            \"At least one valid workday with workday, start time, and end time is required\";\n        } else {\n          // Check for duplicate workdays\n          const workdayMap = new Map();\n          const duplicateWorkdays = [];\n\n          for (const day of validWorkdays) {\n            if (workdayMap.has(day.workday)) {\n              duplicateWorkdays.push(day.workday);\n            } else {\n              workdayMap.set(day.workday, true);\n            }\n          }\n\n          if (duplicateWorkdays.length > 0) {\n            slaDataErrors.value.support_and_resolution = `Duplicate workday found: ${duplicateWorkdays.join(\n              \", \"\n            )}. Each workday should be unique.`;\n            return slaDataErrors.value;\n          } else {\n            slaDataErrors.value.support_and_resolution = \"\";\n          }\n\n          const invalidTimeRanges = [];\n          for (const day of validWorkdays) {\n            const startTimeStr = day.start_time.trim();\n            const endTimeStr = day.end_time.trim();\n\n            const parseTime = (timeStr: string) => {\n              const [hours, minutes] = timeStr.split(\":\").map(Number);\n              const date = new Date();\n              date.setHours(hours, minutes || 0, 0, 0);\n              return date;\n            };\n\n            try {\n              const startTime = parseTime(startTimeStr);\n              const endTime = parseTime(endTimeStr);\n\n              if (startTime >= endTime) {\n                invalidTimeRanges.push(\n                  `${day.workday} (${startTimeStr} - ${endTimeStr})`\n                );\n              }\n            } catch (error) {\n              // If time parsing fails, mark as invalid\n              invalidTimeRanges.push(`${day.workday} (Invalid time format)`);\n            }\n          }\n\n          if (invalidTimeRanges.length > 0) {\n            slaDataErrors.value.support_and_resolution = `End time must be after start time for: ${invalidTimeRanges.join(\n              \", \"\n            )}`;\n          } else {\n            slaDataErrors.value.support_and_resolution = \"\";\n          }\n        }\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  if (key) {\n    validateField(key);\n  } else {\n    (Object.keys(slaDataErrors.value) as SlaField[]).forEach(validateField);\n  }\n\n  return slaDataErrors.value;\n}\n","<template>\n  <div\n    class=\"grid grid-cols-6 items-center gap-4 cursor-pointer hover:bg-gray-50 rounded\"\n  >\n    <div\n      @click=\"slaActiveScreen = { screen: 'view', data: data, fetchData: true }\"\n      class=\"w-full py-3 pl-2 col-span-5\"\n    >\n      <div\n        class=\"text-base text-ink-gray-7 font-medium flex items-center gap-2\"\n      >\n        {{ data.name }}\n        <Badge v-if=\"data.default_sla\" color=\"gray\" size=\"sm\">Default</Badge>\n      </div>\n      <div\n        v-if=\"data.description && data.description.length > 0\"\n        class=\"text-sm w-full text-ink-gray-5 mt-1 whitespace-nowrap overflow-ellipsis overflow-hidden\"\n      >\n        {{ data.description }}\n      </div>\n    </div>\n    <div class=\"flex justify-between items-center w-full pr-2\">\n      <div>\n        <Switch\n          size=\"sm\"\n          :modelValue=\"data.enabled\"\n          @update:modelValue=\"onToggle\"\n        />\n      </div>\n      <div>\n        <Dropdown placement=\"right\" :options=\"dropdownOptions\">\n          <Button\n            icon=\"more-horizontal\"\n            variant=\"ghost\"\n            @click=\"isConfirmingDelete = false\"\n          />\n        </Dropdown>\n      </div>\n    </div>\n  </div>\n  <Dialog\n    :options=\"{ title: `Duplicate SLA Policy` }\"\n    v-model=\"duplicateDialog.show\"\n  >\n    <template #body-content>\n      <div class=\"flex flex-col gap-4\">\n        <FormControl\n          label=\"New SLA Policy Name\"\n          type=\"text\"\n          v-model=\"duplicateDialog.name\"\n        />\n      </div>\n    </template>\n    <template #actions>\n      <div class=\"flex gap-2 justify-end\">\n        <Button\n          variant=\"subtle\"\n          label=\"Close\"\n          @click=\"duplicateDialog.show = false\"\n        />\n        <Button variant=\"solid\" label=\"Duplicate\" @click=\"duplicate()\" />\n      </div>\n    </template>\n  </Dialog>\n</template>\n<script setup lang=\"ts\">\nimport {\n  Switch,\n  Button,\n  createResource,\n  toast,\n  Dialog,\n  Badge,\n} from \"frappe-ui\";\nimport { ref, inject } from \"vue\";\nimport { slaActiveScreen } from \"@/stores/sla\";\nimport { ConfirmDelete } from \"@/utils\";\n\nconst slaPolicyList = inject<any>(\"slaPolicyList\");\n\nconst duplicateDialog = ref({\n  show: false,\n  name: \"\",\n});\n\nconst props = defineProps({\n  data: {\n    type: Object,\n    required: true,\n  },\n});\n\nconst isConfirmingDelete = ref(false);\n\nconst dropdownOptions = [\n  {\n    label: \"Duplicate\",\n    onClick: () => {\n      duplicateDialog.value = {\n        show: true,\n        name: props.data.name + \" (Copy)\",\n      };\n    },\n    icon: \"copy\",\n  },\n  ...ConfirmDelete({\n    onConfirmDelete: () => deleteSla(),\n    isConfirmingDelete,\n  }),\n];\n\nconst duplicate = () => {\n  createResource({\n    url: \"helpdesk.api.sla.duplicate_sla\",\n    params: {\n      docname: props.data.name,\n      new_name: duplicateDialog.value.name,\n    },\n    onSuccess: (data) => {\n      slaPolicyList.reload();\n      toast.success(\"SLA policy duplicated\");\n      duplicateDialog.value = {\n        show: false,\n        name: \"\",\n      };\n      setTimeout(() => {\n        slaActiveScreen.value = {\n          screen: \"view\",\n          data: data,\n          fetchData: true,\n        };\n      }, 250);\n    },\n    auto: true,\n  });\n};\n\nconst deleteSla = () => {\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n\n  slaPolicyList.delete.submit(props.data.name, {\n    onSuccess: () => {\n      toast.success(\"SLA policy deleted\");\n    },\n  });\n};\n\nconst onToggle = () => {\n  if (props.data.default_sla) {\n    toast.error(\"SLA set as default cannot be disabled\");\n    return;\n  }\n  slaPolicyList.setValue.submit(\n    {\n      name: props.data.name,\n      enabled: !props.data.enabled,\n    },\n    {\n      onSuccess: () => {\n        toast.success(\"SLA policy status updated\");\n      },\n    }\n  );\n};\n</script>\n","<template>\n  <div\n    v-if=\"slaPolicyList.list.loading && !slaPolicyList.list.data\"\n    class=\"flex items-center justify-center mt-12\"\n  >\n    <LoadingIndicator class=\"w-4\" />\n  </div>\n  <div v-else>\n    <div\n      v-if=\"slaPolicyList.list.data?.length === 0\"\n      class=\"flex items-center justify-center rounded-md border border-gray-200 p-4\"\n    >\n      <div class=\"text-sm text-ink-gray-7\">No items in the list</div>\n    </div>\n    <div v-else>\n      <div\n        class=\"grid grid-cols-6 items-center gap-3 text-sm text-gray-600 ml-2\"\n      >\n        <div class=\"col-span-5\">Policy Name</div>\n        <div class=\"col-span-1\">Enabled</div>\n      </div>\n      <hr class=\"mt-2 mx-2\" />\n      <div v-for=\"sla in slaPolicyList.list.data\" :key=\"sla.name\">\n        <SlaPolicyListItem :data=\"sla\" />\n        <hr class=\"mx-2\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { LoadingIndicator } from \"frappe-ui\";\nimport SlaPolicyListItem from \"./SlaPolicyListItem.vue\";\nimport { inject } from \"vue\";\n\nconst slaPolicyList = inject<any>(\"slaPolicyList\");\n</script>\n","<template>\n  <div class=\"px-10 py-8\">\n    <SettingsLayoutHeader>\n      <template #title>\n        <h1 class=\"text-lg font-semibold text-ink-gray-8\">\n          Service Level Agreements (SLAs)\n        </h1>\n      </template>\n      <template #description>\n        <p class=\"text-p-sm max-w-md text-ink-gray-6\">\n          SLAs align your team and customers with defined timelines for a\n          reliable experience.\n          <a\n            href=\"https://docs.frappe.io/helpdesk/service-level-agreement\"\n            target=\"_blank\"\n            class=\"underline\"\n            >Learn more about SLA\n          </a>\n        </p>\n      </template>\n      <template #actions>\n        <Button\n          label=\"New\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"goToNew()\"\n          icon-left=\"plus\"\n        />\n      </template>\n    </SettingsLayoutHeader>\n  </div>\n  <div class=\"px-10 pb-8 overflow-y-auto\">\n    <SlaPolicyList />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { resetSlaData, slaActiveScreen } from \"@/stores/sla\";\nimport { Button } from \"frappe-ui\";\nimport SlaPolicyList from \"./SlaPolicyList.vue\";\nimport SettingsLayoutHeader from \"../SettingsLayoutHeader.vue\";\n\nconst goToNew = () => {\n  resetSlaData();\n  slaActiveScreen.value = {\n    screen: \"view\",\n    data: null,\n    fetchData: true,\n  };\n};\n</script>\n","import { createResource } from \"frappe-ui\";\n\nexport const filterableFields = createResource({\n  url: \"helpdesk.api.doc.get_filterable_fields\",\n  params: {\n    doctype: \"HD Ticket\",\n  },\n  transform: (data) => {\n    data = data\n      .filter((field) => !field.fieldname.startsWith(\"_\"))\n      .map((field) => {\n        return {\n          label: field.label,\n          value: field.fieldname,\n          ...field,\n        };\n      });\n    return data;\n  },\n});\n","<template>\n  <div\n    class=\"flex gap-2\"\n    :class=\"[\n      {\n        'items-center': !props.isGroup,\n      },\n    ]\"\n  >\n    <div\n      class=\"flex gap-2 w-full\"\n      :class=\"[\n        {\n          'items-center justify-between': !props.isGroup,\n        },\n      ]\"\n    >\n      <div :class=\"'text-end text-base text-gray-600'\">\n        <div v-if=\"props.itemIndex == 0\" class=\"min-w-[66px] text-start\">\n          Where\n        </div>\n        <div v-else class=\"min-w-[66px] flex items-start\">\n          <Button\n            variant=\"subtle\"\n            class=\"w-max\"\n            @click=\"toggleConjunction\"\n            icon-right=\"refresh-cw\"\n            :disabled=\"props.itemIndex > 2\"\n            :label=\"conjunction\"\n          />\n        </div>\n      </div>\n      <div v-if=\"!props.isGroup\" class=\"flex items-center gap-2 w-full\">\n        <div id=\"fieldname\" class=\"w-full\">\n          <Autocomplete\n            :options=\"filterableFields.data\"\n            v-model=\"props.condition[0]\"\n            :placeholder=\"'Field'\"\n            @update:modelValue=\"updateField\"\n          />\n        </div>\n        <div id=\"operator\">\n          <FormControl\n            v-if=\"!props.condition[0]\"\n            disabled\n            type=\"text\"\n            :placeholder=\"'operator'\"\n            class=\"w-[100px]\"\n          />\n          <FormControl\n            v-else\n            :disabled=\"!props.condition[0]\"\n            type=\"select\"\n            v-model=\"props.condition[1]\"\n            @change=\"updateOperator\"\n            :options=\"getOperators()\"\n            class=\"w-max min-w-[100px]\"\n          />\n        </div>\n        <div id=\"value\" class=\"w-full\">\n          <FormControl\n            v-if=\"!props.condition[0]\"\n            disabled\n            type=\"text\"\n            :placeholder=\"'condition'\"\n            class=\"w-full\"\n          />\n          <component\n            v-else\n            :is=\"getValueControl()\"\n            v-model=\"props.condition[2]\"\n            @change=\"updateValue\"\n            :placeholder=\"'condition'\"\n          />\n        </div>\n      </div>\n      <CFConditions\n        v-if=\"props.isGroup && !(props.level == 2 || props.level == 4)\"\n        :conditions=\"props.condition\"\n        :isChild=\"true\"\n        :level=\"props.level\"\n        :disableAddCondition=\"props.disableAddCondition\"\n      />\n      <Button\n        variant=\"outline\"\n        v-if=\"props.isGroup && (props.level == 2 || props.level == 4)\"\n        @click=\"show = true\"\n        label=\"Open nested conditions\"\n      />\n    </div>\n    <div :class=\"'w-max'\">\n      <Dropdown placement=\"right\" :options=\"dropdownOptions\">\n        <Button variant=\"ghost\" icon=\"more-horizontal\" />\n      </Dropdown>\n    </div>\n  </div>\n  <Dialog v-model=\"show\" :options=\"{ size: '3xl', title: 'Nested conditions' }\">\n    <template #body-content>\n      <CFConditions\n        :conditions=\"props.condition\"\n        :isChild=\"true\"\n        :level=\"props.level\"\n        :disableAddCondition=\"props.disableAddCondition\"\n      />\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { Link, StarRating } from \"@/components\";\nimport { TemplateOption } from \"@/utils\";\nimport {\n  Autocomplete,\n  Button,\n  DatePicker,\n  DateRangePicker,\n  DateTimePicker,\n  Dialog,\n  Dropdown,\n  FormControl,\n} from \"frappe-ui\";\nimport { computed, defineEmits, h, ref } from \"vue\";\nimport GroupIcon from \"~icons/lucide/group\";\nimport UnGroupIcon from \"~icons/lucide/ungroup\";\nimport CFConditions from \"./CFConditions.vue\";\nimport { filterableFields } from \"./filterableFields\";\n\nconst show = ref(false);\nconst emit = defineEmits([\n  \"remove\",\n  \"unGroupConditions\",\n  \"toggleConjunction\",\n  \"turnIntoGroup\",\n]);\n\nconst props = defineProps({\n  condition: {\n    type: Array<any>,\n    required: true,\n  },\n  isChild: {\n    type: Boolean,\n    default: false,\n  },\n  itemIndex: {\n    type: Number,\n  },\n  level: {\n    type: Number,\n    default: 0,\n  },\n  isGroup: {\n    type: Boolean,\n    default: false,\n  },\n  conjunction: {\n    type: String,\n  },\n  disableAddCondition: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst dropdownOptions = computed(() => {\n  const options = [];\n\n  if (!props.isGroup && props.level < 4) {\n    options.push({\n      label: \"Turn into a group\",\n      icon: () => h(GroupIcon),\n      onClick: () => {\n        emit(\"turnIntoGroup\");\n      },\n    });\n  }\n\n  if (props.isGroup) {\n    options.push({\n      label: \"Ungroup conditions\",\n      icon: () => h(UnGroupIcon),\n      onClick: () => {\n        emit(\"unGroupConditions\");\n      },\n    });\n  }\n\n  options.push({\n    label: \"Remove\",\n    component: (props) =>\n      TemplateOption({\n        option: \"Remove\",\n        icon: \"trash-2\",\n        active: props.active,\n        variant: \"danger\",\n        onClick: () => {\n          emit(\"remove\");\n        },\n      }),\n    condition: () => !props.isGroup,\n  });\n\n  options.push({\n    label: \"Remove group\",\n    component: (props) =>\n      TemplateOption({\n        option: \"Remove group\",\n        icon: \"trash-2\",\n        active: props.active,\n        variant: \"danger\",\n        onClick: () => {\n          emit(\"remove\");\n        },\n      }),\n    condition: () => props.isGroup,\n  });\n\n  return options;\n});\n\nconst typeCheck = [\"Check\"];\nconst typeLink = [\"Link\", \"Dynamic Link\"];\nconst typeNumber = [\"Float\", \"Int\", \"Currency\", \"Percent\"];\nconst typeSelect = [\"Select\"];\nconst typeString = [\"Data\", \"Long Text\", \"Small Text\", \"Text Editor\", \"Text\"];\nconst typeDate = [\"Date\", \"Datetime\"];\nconst typeRating = [\"Rating\"];\n\nfunction toggleConjunction() {\n  emit(\"toggleConjunction\", props.conjunction);\n}\n\nconst updateField = (field) => {\n  props.condition[0] = field?.fieldname;\n  resetConditionValue();\n};\n\nconst resetConditionValue = () => {\n  props.condition[2] = \"\";\n};\n\nfunction getValueControl() {\n  const [field, operator] = props.condition;\n  if (!field) return null;\n  const fieldData = filterableFields.data?.find((f) => f.fieldname == field);\n  if (!fieldData) return null;\n  const { fieldtype, options } = fieldData;\n  if (operator == \"is\") {\n    return h(FormControl, {\n      type: \"select\",\n      options: [\n        {\n          label: \"Set\",\n          value: \"set\",\n        },\n        {\n          label: \"Not Set\",\n          value: \"not set\",\n        },\n      ],\n    });\n  } else if ([\"like\", \"not like\", \"in\", \"not in\"].includes(operator)) {\n    return h(FormControl, { type: \"text\" });\n  } else if (typeSelect.includes(fieldtype) || typeCheck.includes(fieldtype)) {\n    const _options =\n      fieldtype == \"Check\" ? [\"Yes\", \"No\"] : getSelectOptions(options);\n    return h(FormControl, {\n      type: \"select\",\n      options: _options.map((o) => ({\n        label: o,\n        value: o,\n      })),\n    });\n  } else if (typeLink.includes(fieldtype)) {\n    if (fieldtype == \"Dynamic Link\") {\n      return h(FormControl, { type: \"text\" });\n    }\n    return h(Link, {\n      class: \"form-control\",\n      doctype: options,\n      value: props.condition[2],\n    });\n  } else if (typeNumber.includes(fieldtype)) {\n    return h(FormControl, { type: \"number\" });\n  } else if (typeDate.includes(fieldtype) && operator == \"between\") {\n    return h(DateRangePicker, { value: props.condition[2], iconLeft: \"\" });\n  } else if (typeDate.includes(fieldtype)) {\n    return h(fieldtype == \"Date\" ? DatePicker : DateTimePicker, {\n      value: props.condition[2],\n      iconLeft: \"\",\n    });\n  } else if (typeRating.includes(fieldtype)) {\n    return h(StarRating, {\n      rating: props.condition[2] || 0,\n      static: false,\n      class: \"truncate\",\n      \"onUpdate:modelValue\": (v) => updateValue(v),\n    });\n  } else {\n    return h(FormControl, { type: \"text\" });\n  }\n}\n\nfunction updateValue(value) {\n  value = value.target ? value.target.value : value;\n  if (props.condition[1] === \"between\") {\n    props.condition[2] = [value.split(\",\")[0], value.split(\",\")[1]];\n  } else {\n    props.condition[2] = value + \"\";\n  }\n}\n\nfunction getSelectOptions(options) {\n  return options.split(\"\\n\");\n}\n\nfunction updateOperator(event) {\n  let oldOperatorValue = event.target._value;\n  let newOperatorValue = event.target.value;\n  props.condition[1] = event.target.value;\n  if (!isSameTypeOperator(oldOperatorValue, newOperatorValue)) {\n    props.condition[2] = getDefaultValue(props.condition[0]);\n  }\n  resetConditionValue();\n}\n\nfunction getOperators() {\n  let options = [];\n  const field = props.condition[0];\n  if (!field) return options;\n  const fieldData = filterableFields.data?.find((f) => f.fieldname == field);\n  if (!fieldData) return options;\n  const { fieldtype, fieldname } = fieldData;\n  if (typeString.includes(fieldtype)) {\n    options.push(\n      ...[\n        { label: \"Equals\", value: \"==\" },\n        { label: \"Not Equals\", value: \"!=\" },\n        { label: \"Like\", value: \"like\" },\n        { label: \"Not Like\", value: \"not like\" },\n        { label: \"In\", value: \"in\" },\n        { label: \"Not In\", value: \"not in\" },\n        { label: \"Is\", value: \"is\" },\n      ]\n    );\n  }\n  if (fieldname === \"_assign\") {\n    options = [\n      { label: \"Like\", value: \"like\" },\n      { label: \"Not Like\", value: \"not like\" },\n      { label: \"Is\", value: \"is\" },\n    ];\n  }\n  if (typeNumber.includes(fieldtype)) {\n    options.push(\n      ...[\n        { label: \"Equals\", value: \"==\" },\n        { label: \"Not Equals\", value: \"!=\" },\n        { label: \"Like\", value: \"like\" },\n        { label: \"Not Like\", value: \"not like\" },\n        { label: \"In\", value: \"in\" },\n        { label: \"Not In\", value: \"not in\" },\n        { label: \"Is\", value: \"is\" },\n        { label: \"<\", value: \"<\" },\n        { label: \">\", value: \">\" },\n        { label: \"<=\", value: \"<=\" },\n        { label: \">=\", value: \">=\" },\n      ]\n    );\n  }\n  if (typeSelect.includes(fieldtype)) {\n    options.push(\n      ...[\n        { label: \"Equals\", value: \"==\" },\n        { label: \"Not Equals\", value: \"!=\" },\n        { label: \"In\", value: \"in\" },\n        { label: \"Not In\", value: \"not in\" },\n        { label: \"Is\", value: \"is\" },\n      ]\n    );\n  }\n  if (typeLink.includes(fieldtype)) {\n    options.push(\n      ...[\n        { label: \"Equals\", value: \"==\" },\n        { label: \"Not Equals\", value: \"!=\" },\n        { label: \"Like\", value: \"like\" },\n        { label: \"Not Like\", value: \"not like\" },\n        { label: \"In\", value: \"in\" },\n        { label: \"Not In\", value: \"not in\" },\n        { label: \"Is\", value: \"is\" },\n      ]\n    );\n  }\n  if (typeCheck.includes(fieldtype)) {\n    options.push(...[{ label: \"Equals\", value: \"==\" }]);\n  }\n  if ([\"Duration\"].includes(fieldtype)) {\n    options.push(\n      ...[\n        { label: \"Like\", value: \"like\" },\n        { label: \"Not Like\", value: \"not like\" },\n        { label: \"In\", value: \"in\" },\n        { label: \"Not In\", value: \"not in\" },\n        { label: \"Is\", value: \"is\" },\n      ]\n    );\n  }\n  if (typeDate.includes(fieldtype)) {\n    options.push(\n      ...[\n        { label: \"Equals\", value: \"==\" },\n        { label: \"Not Equals\", value: \"!=\" },\n        { label: \"Is\", value: \"is\" },\n        { label: \">\", value: \">\" },\n        { label: \"<\", value: \"<\" },\n        { label: \">=\", value: \">=\" },\n        { label: \"<=\", value: \"<=\" },\n        { label: \"Between\", value: \"between\" },\n      ]\n    );\n  }\n  if (typeRating.includes(fieldtype)) {\n    options.push(\n      ...[\n        { label: \"Equals\", value: \"==\" },\n        { label: \"Not Equals\", value: \"!=\" },\n        { label: \"Is\", value: \"is\" },\n        { label: \">\", value: \">\" },\n        { label: \"<\", value: \"<\" },\n        { label: \">=\", value: \">=\" },\n        { label: \"<=\", value: \"<=\" },\n      ]\n    );\n  }\n  const op = options.find((o) => o.value == props.condition[1]);\n  props.condition[1] = op?.value || options[0].value;\n  return options;\n}\n\nfunction getDefaultValue(field) {\n  if (typeSelect.includes(field.fieldtype)) {\n    return getSelectOptions(field.options)[0];\n  }\n  if (typeCheck.includes(field.fieldtype)) {\n    return \"Yes\";\n  }\n  if (typeDate.includes(field.fieldtype)) {\n    return null;\n  }\n  if (typeRating.includes(field.fieldtype)) {\n    return 0;\n  }\n  return \"\";\n}\n\nfunction isSameTypeOperator(oldOperator, newOperator) {\n  let textOperators = [\"==\", \"!=\", \"in\", \"not in\", \">\", \"<\", \">=\", \"<=\"];\n  if (\n    textOperators.includes(oldOperator) &&\n    textOperators.includes(newOperator)\n  )\n    return true;\n  return false;\n}\n</script>\n","<template>\n  <div class=\"rounded-lg border border-gray-300 p-3 flex flex-col gap-4 w-full\">\n    <template v-for=\"(condition, i) in props.conditions\" :key=\"condition.field\">\n      <CFCondition\n        v-if=\"Array.isArray(condition)\"\n        :condition=\"condition\"\n        :isChild=\"props.isChild\"\n        :itemIndex=\"i\"\n        @remove=\"removeCondition(condition)\"\n        @unGroupConditions=\"unGroupConditions(condition)\"\n        :level=\"props.level + 1\"\n        @toggleConjunction=\"toggleConjunction\"\n        :isGroup=\"isGroupCondition(condition[0])\"\n        :conjunction=\"getConjunction()\"\n        @turnIntoGroup=\"turnIntoGroup(condition)\"\n        :disableAddCondition=\"props.disableAddCondition\"\n      />\n    </template>\n    <div v-if=\"props.isChild\" class=\"flex\">\n      <Dropdown v-slot=\"{ open }\" :options=\"dropdownOptions\">\n        <Button\n          :disabled=\"props.disableAddCondition\"\n          label=\"Add condition\"\n          icon-left=\"plus\"\n          :icon-right=\"open ? 'chevron-up' : 'chevron-down'\"\n        />\n      </Dropdown>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Button, Dropdown } from \"frappe-ui\";\nimport { computed, onMounted } from \"vue\";\nimport CFCondition from \"./CFCondition.vue\";\nimport { filterableFields } from \"./filterableFields\";\n\nconst props = defineProps({\n  conditions: {\n    type: Array<any>,\n    required: true,\n  },\n  isChild: {\n    type: Boolean,\n    default: false,\n  },\n  level: {\n    type: Number,\n    default: 0,\n  },\n  disableAddCondition: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst getConjunction = () => {\n  let conjunction = \"and\";\n  props.conditions.forEach((condition) => {\n    if (typeof condition == \"string\") {\n      conjunction = condition;\n    }\n  });\n  return conjunction;\n};\n\nconst turnIntoGroup = (condition) => {\n  props.conditions.splice(props.conditions.indexOf(condition), 1, [condition]);\n};\n\nconst isGroupCondition = (condition) => {\n  return Array.isArray(condition);\n};\n\nconst dropdownOptions = computed(() => {\n  const options = [\n    {\n      label: \"Add condition\",\n      onClick: () => {\n        const conjunction = getConjunction();\n        props.conditions.push(conjunction, [\"\", \"\", \"\"]);\n      },\n    },\n  ];\n  if (props.level < 3) {\n    options.push({\n      label: \"Add condition group\",\n      onClick: () => {\n        const conjunction = getConjunction();\n        props.conditions.push(conjunction, [[]]);\n      },\n    });\n  }\n  return options;\n});\n\nfunction removeCondition(condition) {\n  const conditionIndex = props.conditions.indexOf(condition);\n  if (conditionIndex == 0) {\n    props.conditions.splice(conditionIndex, 2);\n  } else {\n    props.conditions.splice(conditionIndex - 1, 2);\n  }\n}\n\nfunction unGroupConditions(condition) {\n  const conjunction = getConjunction();\n  const newConditions = condition.map((c) => {\n    if (typeof c == \"string\") {\n      return conjunction;\n    }\n    return c;\n  });\n\n  const index = props.conditions.indexOf(condition);\n  if (index !== -1) {\n    props.conditions.splice(index, 1, ...newConditions);\n  }\n}\n\nfunction toggleConjunction(conjunction) {\n  for (let i = 0; i < props.conditions.length; i++) {\n    if (typeof props.conditions[i] == \"string\") {\n      props.conditions[i] = conjunction == \"and\" ? \"or\" : \"and\";\n    }\n  }\n}\n\nonMounted(() => {\n  if (!filterableFields.fetched) {\n    filterableFields.submit();\n  }\n});\n</script>\n","<template>\n  <CFConditions\n    v-if=\"props.conditions.length > 0\"\n    :conditions=\"props.conditions\"\n    :level=\"0\"\n    :disableAddCondition=\"slaDataErrors.condition != ''\"\n  />\n  <div\n    v-if=\"props.conditions.length == 0\"\n    class=\"flex p-4 items-center cursor-pointer justify-center gap-2 text-sm border border-gray-300 text-gray-600 rounded-md\"\n    @click=\"props.conditions.push(['', '', ''])\"\n  >\n    <FeatherIcon name=\"plus\" class=\"h-4\" />\n    {{ __(\"Add a custom condition\") }}\n  </div>\n  <div class=\"flex items-center justify-between mt-2\">\n    <Dropdown\n      v-if=\"props.conditions.length > 0\"\n      v-slot=\"{ open }\"\n      :options=\"dropdownOptions\"\n    >\n      <Button\n        :disabled=\"slaDataErrors.condition != ''\"\n        :icon-right=\"open ? 'chevron-up' : 'chevron-down'\"\n        :label=\"__('Add condition')\"\n      />\n    </Dropdown>\n    <ErrorMessage :message=\"slaDataErrors.condition\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Button, Dropdown, ErrorMessage, FeatherIcon } from \"frappe-ui\";\nimport { slaDataErrors, validateSlaData } from \"@/stores/sla\";\nimport { watchDebounced } from \"@vueuse/core\";\nimport CFConditions from \"@/components/conditions-filter/CFConditions.vue\";\nimport { validateConditions } from \"@/utils\";\n\nconst props = defineProps({\n  conditions: {\n    type: Array<any>,\n    required: true,\n  },\n});\n\nconst getConjunction = () => {\n  let conjunction = \"and\";\n  props.conditions.forEach((condition) => {\n    if (typeof condition == \"string\") {\n      conjunction = condition;\n    }\n  });\n  return conjunction;\n};\n\nconst dropdownOptions = [\n  {\n    label: \"Add condition\",\n    onClick: () => {\n      addCondition();\n    },\n  },\n  {\n    label: \"Add condition group\",\n    onClick: () => {\n      const conjunction = getConjunction();\n      props.conditions.push(conjunction, [[]]);\n    },\n  },\n];\n\nconst addCondition = () => {\n  const isValid = validateConditions(props.conditions);\n\n  if (!isValid) {\n    return;\n  }\n  const conjunction = getConjunction();\n\n  props.conditions.push(conjunction, [\"\", \"\", \"\"]);\n};\n\nwatchDebounced(\n  () => [...props.conditions],\n  () => {\n    validateSlaData(\"condition\");\n  },\n  { deep: true, debounce: 100 }\n);\n</script>\n","<template>\n  <Dialog\n    v-model=\"dialog.show\"\n    @after-leave=\"resetForm\"\n    :options=\"{ title: dialog.isEditing ? 'Edit workday' : 'Add workday' }\"\n  >\n    <template #body-content>\n      <div class=\"flex flex-col gap-4\">\n        <div>\n          <FormControl\n            :type=\"'select'\"\n            size=\"sm\"\n            variant=\"subtle\"\n            placeholder=\"Select Workday\"\n            label=\"Workday\"\n            v-model=\"workDayData.workday\"\n            :options=\"[\n              {\n                label: 'Monday',\n                value: 'Monday',\n              },\n              {\n                label: 'Tuesday',\n                value: 'Tuesday',\n              },\n              {\n                label: 'Wednesday',\n                value: 'Wednesday',\n              },\n              {\n                label: 'Thursday',\n                value: 'Thursday',\n              },\n              {\n                label: 'Friday',\n                value: 'Friday',\n              },\n              {\n                label: 'Saturday',\n                value: 'Saturday',\n              },\n              {\n                label: 'Sunday',\n                value: 'Sunday',\n              },\n            ]\"\n            :class=\"{ 'border-red-500': errors.workday }\"\n            @blur=\"validateField('workday')\"\n          />\n          <ErrorMessage :message=\"errors.workday\" class=\"mt-2\" />\n        </div>\n\n        <div>\n          <FormControl\n            :type=\"'time'\"\n            size=\"sm\"\n            variant=\"subtle\"\n            placeholder=\"Start Time\"\n            label=\"Start Time\"\n            v-model=\"workDayData.start_time\"\n            :class=\"{ 'border-red-500': errors.start_time }\"\n            @blur=\"validateField('start_time')\"\n          />\n          <ErrorMessage :message=\"errors.start_time\" class=\"mt-2\" />\n        </div>\n\n        <div>\n          <FormControl\n            :type=\"'time'\"\n            size=\"sm\"\n            variant=\"subtle\"\n            placeholder=\"End Time\"\n            label=\"End Time\"\n            v-model=\"workDayData.end_time\"\n            :class=\"{ 'border-red-500': errors.end_time }\"\n            @blur=\"validateTimeRange\"\n          />\n          <ErrorMessage :message=\"errors.end_time\" class=\"mt-2\" />\n        </div>\n      </div>\n    </template>\n    <template #actions>\n      <div\n        class=\"flex\"\n        :class=\"{\n          'justify-between': dialog.isEditing,\n          'justify-end': !dialog.isEditing,\n        }\"\n      >\n        <div v-if=\"dialog.isEditing\">\n          <Button\n            variant=\"subtle\"\n            :theme=\"isConfirmingDelete ? 'red' : 'gray'\"\n            :label=\"isConfirmingDelete ? 'Confirm Delete' : 'Delete'\"\n            @click=\"deleteWorkDay\"\n            icon-left=\"trash-2\"\n          />\n        </div>\n        <div class=\"flex gap-2\">\n          <Button\n            variant=\"subtle\"\n            theme=\"gray\"\n            @click=\"dialog.show = false\"\n            label=\"Cancel\"\n          />\n          <Button variant=\"solid\" @click=\"onSave\" label=\"Save\" />\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, defineModel, reactive, watch } from \"vue\";\nimport { Dialog, FormControl, Button, toast } from \"frappe-ui\";\n\nconst isConfirmingDelete = ref(false);\nconst props = defineProps({\n  workDaysList: {\n    type: Array<any>,\n    required: true,\n  },\n});\n\ninterface DialogData {\n  show: boolean;\n  isEditing: boolean;\n  data?: any;\n}\n\nconst dialog = defineModel<DialogData>({\n  required: true,\n  default: () => ({\n    show: false,\n    isEditing: false,\n    data: {\n      workday: \"\",\n      start_time: \"\",\n      end_time: \"\",\n    },\n  }),\n});\n\nconst workDayData = reactive({\n  workday: \"\",\n  start_time: \"\",\n  end_time: \"\",\n});\n\nconst errors = reactive({\n  workday: \"\",\n  start_time: \"\",\n  end_time: \"\",\n});\n\nconst deleteWorkDay = (event) => {\n  event.preventDefault();\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n\n  const item = props.workDaysList.findIndex(\n    (item) => item.workday === workDayData.workday\n  );\n  if (item !== -1) {\n    props.workDaysList.splice(item, 1);\n  }\n};\n\nfunction formatTimeToHHMMSS(timeStr: string) {\n  if (!timeStr) return \"\";\n\n  if (/^\\d{1,2}:\\d{2}:\\d{2}$/.test(timeStr)) {\n    const [hours, minutes, seconds] = timeStr.split(\":\");\n    return `${hours.padStart(2, \"0\")}:${minutes.padStart(\n      2,\n      \"0\"\n    )}:${seconds.padStart(2, \"0\")}`;\n  }\n\n  if (/^\\d{1,2}:\\d{2}$/.test(timeStr)) {\n    const [hours, minutes] = timeStr.split(\":\");\n    return `${hours.padStart(2, \"0\")}:${minutes.padStart(2, \"0\")}:00`;\n  }\n\n  return \"\";\n}\n\nfunction resetForm() {\n  workDayData.workday = \"\";\n  workDayData.start_time = \"\";\n  workDayData.end_time = \"\";\n  errors.workday = \"\";\n  errors.start_time = \"\";\n  errors.end_time = \"\";\n  isConfirmingDelete.value = false;\n}\n\nconst validateField = (field: string) => {\n  if (!workDayData[field as keyof typeof workDayData]) {\n    errors[field as keyof typeof errors] = \"This field is required\";\n    return false;\n  }\n  errors[field as keyof typeof errors] = \"\";\n  return true;\n};\n\nconst validateTimeRange = () => {\n  if (!workDayData.start_time || !workDayData.end_time) {\n    if (!workDayData.start_time) errors.start_time = \"Start time is required\";\n    if (!workDayData.end_time) errors.end_time = \"End time is required\";\n    return false;\n  }\n\n  const [startHours, startMinutes] = workDayData.start_time\n    .split(\":\")\n    .map(Number);\n  const [endHours, endMinutes] = workDayData.end_time.split(\":\").map(Number);\n\n  if (\n    endHours < startHours ||\n    (endHours === startHours && endMinutes <= startMinutes)\n  ) {\n    errors.end_time = \"End time must be after start time\";\n    return false;\n  }\n\n  errors.end_time = \"\";\n  return true;\n};\n\nconst validateForm = () => {\n  const isWorkdayValid = validateField(\"workday\");\n  const isStartTimeValid = validateField(\"start_time\");\n  const isEndTimeValid = validateField(\"end_time\") && validateTimeRange();\n\n  return isWorkdayValid && isStartTimeValid && isEndTimeValid;\n};\n\nconst onSave = () => {\n  if (!validateForm()) {\n    toast.error(\"Please fix the errors in the form\");\n    return;\n  }\n\n  try {\n    if (dialog.value.isEditing) {\n      const itemIndex = props.workDaysList.findIndex(\n        (item) => item.workday === dialog.value.data?.workday\n      );\n      if (itemIndex !== -1) {\n        const updatedItem = {\n          ...props.workDaysList[itemIndex],\n          ...workDayData,\n        };\n        props.workDaysList.splice(itemIndex, 1, updatedItem);\n        toast.success(\"Workday updated\");\n      }\n    } else {\n      const isDuplicate = props.workDaysList.some(\n        (item) => item.workday === workDayData.workday\n      );\n\n      if (isDuplicate) {\n        errors.workday = \"This workday already exists\";\n        toast.error(\"A workday with this name already exists\");\n        return;\n      }\n\n      const newWorkDay = { ...workDayData };\n      props.workDaysList.push(newWorkDay);\n      toast.success(\"Workday added\");\n    }\n    dialog.value.show = false;\n  } catch (error) {\n    toast.error(`Failed to save workday: ${error}`);\n  }\n};\n\nwatch(\n  () => dialog.value.show,\n  (isOpen) => {\n    if (isOpen) {\n      if (dialog.value.isEditing && dialog.value.data) {\n        workDayData.workday = dialog.value.data.workday;\n        workDayData.start_time = formatTimeToHHMMSS(\n          dialog.value.data.start_time\n        );\n        workDayData.end_time = formatTimeToHHMMSS(dialog.value.data.end_time);\n      } else {\n        resetForm();\n      }\n    }\n  }\n);\n</script>\n","<template>\n  <div\n    class=\"grid gap-2 py-3.5 px-4 items-center\"\n    :style=\"{\n      gridTemplateColumns: getGridTemplateColumnsForTable(props.columns),\n    }\"\n  >\n    <div\n      v-for=\"column in props.columns\"\n      :key=\"column.key\"\n      class=\"w-full overflow-hidden whitespace-nowrap text-ellipsis\"\n    >\n      <div v-if=\"column.key === 'start_time' || column.key === 'end_time'\">\n        {{ formatTime(props.row[column.key]) }}\n      </div>\n      <div v-else>\n        <Select\n          class=\"bg-transparent cursor-pointer border-0 focus-visible:!ring-0 bg-none\"\n          :options=\"workDayOptions\"\n          v-model=\"props.row[column.key]\"\n        />\n      </div>\n    </div>\n    <div class=\"flex justify-end\">\n      <Dropdown placement=\"right\" :options=\"dropdownOptions\">\n        <Button\n          icon=\"more-horizontal\"\n          variant=\"ghost\"\n          @click=\"isConfirmingDelete = false\"\n        />\n      </Dropdown>\n    </div>\n  </div>\n  <hr v-if=\"!props.isLast\" />\n  <WorkDayModal\n    v-model=\"dialog\"\n    :workDaysList=\"slaData.support_and_resolution\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport { Button, Select } from \"frappe-ui\";\nimport WorkDayModal from \"./Modals/WorkDayModal.vue\";\nimport { ConfirmDelete, getGridTemplateColumnsForTable } from \"@/utils\";\nimport { slaData } from \"@/stores/sla\";\n\ninterface Column {\n  key: string;\n  label: string;\n  isRequired?: boolean;\n}\n\ninterface WorkDay {\n  id: string;\n  workday: string;\n  start_time: string;\n  end_time: string;\n}\n\nconst props = defineProps<{\n  columns: Column[];\n  row: WorkDay;\n  isLast?: boolean;\n}>();\n\nconst workDayOptions = [\n  { label: \"Monday\", value: \"Monday\" },\n  { label: \"Tuesday\", value: \"Tuesday\" },\n  { label: \"Wednesday\", value: \"Wednesday\" },\n  { label: \"Thursday\", value: \"Thursday\" },\n  { label: \"Friday\", value: \"Friday\" },\n  { label: \"Saturday\", value: \"Saturday\" },\n  { label: \"Sunday\", value: \"Sunday\" },\n];\n\nconst dialog = ref({\n  show: false,\n  isEditing: false,\n  data: {},\n});\n\nconst isConfirmingDelete = ref(false);\n\nconst dropdownOptions = [\n  {\n    label: \"Edit\",\n    onClick: () => editWorkDay(),\n    icon: \"edit\",\n  },\n  ...ConfirmDelete({\n    onConfirmDelete: () => deleteWorkDay(),\n    isConfirmingDelete,\n  }),\n];\n\nconst deleteWorkDay = () => {\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n\n  const item = slaData.value.support_and_resolution.indexOf(props.row);\n  if (item !== -1) {\n    slaData.value.support_and_resolution.splice(item, 1);\n  }\n};\n\nconst editWorkDay = () => {\n  dialog.value.show = true;\n  dialog.value.isEditing = true;\n  dialog.value.data = {\n    workday: props.row.workday,\n    start_time: props.row.start_time,\n    end_time: props.row.end_time,\n  };\n};\n\nconst formatTime = (time) => {\n  if (!time) return \"00:00\";\n  const [hours, minutes] = time.split(\":\");\n  const date = new Date();\n  date.setHours(parseInt(hours) || 0, parseInt(minutes) || 0, 0);\n\n  return date.toLocaleTimeString([], {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    hour12: true,\n  });\n};\n</script>\n","<template>\n  <div class=\"rounded-md border px-2 border-gray-300 text-sm\">\n    <div\n      class=\"grid p-2 px-4 items-center\"\n      :style=\"{\n        gridTemplateColumns: getGridTemplateColumnsForTable(columns),\n      }\"\n      v-if=\"slaData.support_and_resolution?.length !== 0\"\n    >\n      <div\n        v-for=\"column in columns\"\n        :key=\"column.key\"\n        class=\"text-gray-600 overflow-hidden whitespace-nowrap text-ellipsis\"\n        :class=\"{\n          'ml-2': column.key === 'workday',\n        }\"\n      >\n        {{ column.label }}\n        <span v-if=\"column.isRequired\" class=\"text-red-500\">*</span>\n      </div>\n    </div>\n    <hr v-if=\"slaData.support_and_resolution?.length !== 0\" />\n    <SlaWorkDaysListItem\n      v-for=\"(row, index) in slaData.support_and_resolution\"\n      :key=\"index + row.workday + row.id\"\n      :row=\"row\"\n      :columns=\"columns\"\n      :isLast=\"index === slaData.support_and_resolution.length - 1\"\n    />\n    <div\n      v-if=\"slaData.support_and_resolution?.length === 0\"\n      class=\"text-center p-4 text-gray-600\"\n    >\n      No workdays in the list\n    </div>\n  </div>\n  <div class=\"flex items-center justify-between mt-2.5\">\n    <Button\n      v-if=\"slaData.support_and_resolution.length < 7\"\n      variant=\"subtle\"\n      label=\"Add row\"\n      @click=\"addWorkDay\"\n      icon-left=\"plus\"\n    />\n    <ErrorMessage :message=\"slaDataErrors.support_and_resolution\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Button } from \"frappe-ui\";\nimport SlaWorkDaysListItem from \"./SlaWorkDaysListItem.vue\";\nimport { slaData, slaDataErrors } from \"@/stores/sla\";\nimport { getGridTemplateColumnsForTable } from \"@/utils\";\n\ninterface Column {\n  key: string;\n  label: string;\n  isRequired?: boolean;\n}\n\nconst allDays = [\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\",\n  \"Sunday\",\n];\n\nconst addWorkDay = () => {\n  const usedDays = new Set(\n    slaData.value.support_and_resolution.map((day) => day.workday)\n  );\n  const nextDay = allDays.find((day) => !usedDays.has(day)) || allDays[0];\n\n  slaData.value.support_and_resolution.push({\n    workday: nextDay,\n    start_time: \"09:00:00\",\n    end_time: \"17:00:00\",\n    id: Math.random().toString(36).substring(2, 9),\n  });\n};\n\nconst columns: Column[] = [\n  {\n    label: \"Day\",\n    key: \"workday\",\n    isRequired: true,\n  },\n  {\n    label: \"Start time\",\n    key: \"start_time\",\n    isRequired: true,\n  },\n  {\n    label: \"End time\",\n    key: \"end_time\",\n    isRequired: true,\n  },\n];\n</script>\n","import {\n  Holiday,\n  HolidayErrors,\n  RepetitionPattern,\n} from \"@/components/Settings/Holiday/types\";\nimport dayjs, { Dayjs } from \"dayjs\";\nimport { ref } from \"vue\";\n\nexport const holidayListActiveScreen = ref<{\n  screen: \"list\" | \"view\";\n  data: Record<string, any> | null;\n  previousScreen?: {\n    screen: \"list\" | \"view\";\n    data: string;\n  };\n}>({ screen: \"list\", data: null });\n\nexport const holidayDataErrors = ref<HolidayErrors>({\n  holiday_list_name: \"\",\n  from_date: \"\",\n  to_date: \"\",\n});\n\nexport const holidayData = ref({\n  holiday_list_name: \"\",\n  description: \"\",\n  associate_holiday_list: true,\n  loading: false,\n  total_holidays: 0,\n  holidays: [],\n  from_date: null,\n  to_date: null,\n  recurring_holidays: [],\n});\n\nexport const resetHolidayData = () => {\n  holidayData.value = {\n    holiday_list_name: \"\",\n    description: \"\",\n    associate_holiday_list: true,\n    loading: false,\n    total_holidays: 0,\n    holidays: [],\n    from_date: null,\n    to_date: null,\n    recurring_holidays: [],\n  };\n};\n\ntype HolidayField = keyof HolidayErrors;\n\nexport const validateHoliday = (key?: HolidayField) => {\n  const validateField = (field: HolidayField) => {\n    if (key && field !== key) return;\n\n    switch (field) {\n      case \"holiday_list_name\":\n        if (!holidayData.value.holiday_list_name?.trim()) {\n          holidayDataErrors.value.holiday_list_name =\n            \"Holiday list name is required\";\n        } else {\n          holidayDataErrors.value.holiday_list_name = \"\";\n        }\n        break;\n      case \"from_date\":\n        if (!holidayData.value.from_date) {\n          holidayDataErrors.value.from_date = \"Start date is required\";\n        } else {\n          holidayDataErrors.value.from_date = \"\";\n        }\n\n        if (holidayData.value.to_date) {\n          const startDate = new Date(holidayData.value.from_date);\n          const endDate = new Date(holidayData.value.to_date);\n\n          if (startDate > endDate) {\n            holidayDataErrors.value.dateRange =\n              \"Start date cannot be after end date\";\n          } else {\n            holidayDataErrors.value.dateRange = \"\";\n          }\n        }\n        break;\n      case \"to_date\":\n        if (!holidayData.value.to_date) {\n          holidayDataErrors.value.to_date = \"End date is required\";\n        } else {\n          holidayDataErrors.value.to_date = \"\";\n        }\n\n        if (holidayData.value.from_date) {\n          const startDate = new Date(holidayData.value.from_date);\n          const endDate = new Date(holidayData.value.to_date);\n\n          if (startDate > endDate) {\n            holidayDataErrors.value.dateRange =\n              \"Start date cannot be after end date\";\n          } else {\n            holidayDataErrors.value.dateRange = \"\";\n          }\n        }\n        break;\n      default:\n        break;\n    }\n  };\n\n  if (key) {\n    validateField(key);\n  } else {\n    (Object.keys(holidayDataErrors.value) as HolidayField[]).forEach(\n      validateField\n    );\n  }\n\n  return holidayDataErrors.value;\n};\n\nexport function updateWeeklyOffDates() {\n  const newHolidays = holidayData.value.holidays.filter((h) => !h.weekly_off);\n\n  for (const day of holidayData.value.recurring_holidays) {\n    const weeklyOffs = getWeeklyOffDates(\n      holidayData.value.from_date,\n      holidayData.value.to_date,\n      day.day,\n      newHolidays,\n      day.repetition\n    );\n    newHolidays.push(...weeklyOffs);\n  }\n  holidayData.value.holidays = newHolidays;\n}\n\nfunction getWeekOfMonth(date: Dayjs): number {\n  const firstDayOfMonth = date.startOf(\"month\");\n  const firstDayOfWeek = firstDayOfMonth.day();\n  const offset = (date.date() + firstDayOfWeek - 1) / 7;\n  return Math.ceil(offset);\n}\n\nfunction getWeeklyOffDateList(\n  startDate: string | Date,\n  endDate: string | Date,\n  weeklyOff: string,\n  holidays: Holiday[] = [],\n  repetition?: RepetitionPattern\n): Date[] {\n  const start = dayjs(startDate);\n  const end = dayjs(endDate);\n  const dateList: Date[] = [];\n\n  const dayMap: Record<string, number> = {\n    sunday: 0,\n    monday: 1,\n    tuesday: 2,\n    wednesday: 3,\n    thursday: 4,\n    friday: 5,\n    saturday: 6,\n  };\n\n  const targetDay = dayMap[weeklyOff.toLowerCase()];\n  if (targetDay === undefined) {\n    return dateList;\n  }\n\n  const existingDates = holidays.map((h) =>\n    dayjs(h.holiday_date).startOf(\"day\").toDate()\n  );\n\n  let currentDate = start.day(targetDay);\n  if (currentDate.isBefore(start, \"day\")) {\n    currentDate = currentDate.add(1, \"week\");\n  }\n  const useAllOccurrences = !repetition || repetition.all;\n\n  while (currentDate.isSameOrBefore(end, \"day\")) {\n    const currentDateObj = currentDate.toDate();\n    const currentDateStart = dayjs(currentDateObj).startOf(\"day\");\n\n    if (useAllOccurrences || shouldIncludeDate(currentDate, repetition)) {\n      if (\n        !existingDates.some((d) =>\n          dayjs(d).startOf(\"day\").isSame(currentDateStart)\n        )\n      ) {\n        dateList.push(currentDateObj);\n      }\n    }\n    currentDate = currentDate.add(1, \"week\");\n  }\n\n  return dateList;\n}\n\nfunction shouldIncludeDate(\n  date: Dayjs,\n  repetition: RepetitionPattern\n): boolean {\n  if (repetition.all) return true;\n\n  const weekOfMonth = getWeekOfMonth(date);\n\n  switch (weekOfMonth) {\n    case 1:\n      return repetition.first;\n    case 2:\n      return repetition.second;\n    case 3:\n      return repetition.third;\n    case 4:\n      return repetition.fourth;\n    case 5:\n      return repetition.fifth;\n    default:\n      return false;\n  }\n}\n\nfunction getWeeklyOffDates(\n  startDate: string | Date,\n  endDate: string | Date,\n  weeklyOff: string,\n  holidays: Holiday[] = [],\n  repetition: RepetitionPattern = {\n    all: true,\n    first: false,\n    second: false,\n    third: false,\n    fourth: false,\n    fifth: false,\n  }\n): Holiday[] {\n  const dateList = getWeeklyOffDateList(\n    startDate,\n    endDate,\n    weeklyOff,\n    holidays,\n    repetition\n  );\n  return dateList.map((date, index) => ({\n    description: weeklyOff.charAt(0).toUpperCase() + weeklyOff.slice(1),\n    holiday_date: date,\n    weekly_off: 1,\n    idx: index + 1,\n    repetition: repetition,\n  }));\n}\n","<template>\n  <div class=\"flex items-center justify-between\">\n    <div class=\"flex flex-col gap-1\">\n      <div class=\"text-lg font-semibold text-ink-gray-8\">\n        Work schedule and holidays\n      </div>\n      <div class=\"text-p-sm text-ink-gray-6 max-w-lg\">\n        Set working days, hours, and holidays by selecting a predefined schedule\n        or creating a new one.\n      </div>\n    </div>\n    <NestedPopover>\n      <template #target=\"{ open }\">\n        <Button\n          class=\"text-sm\"\n          :icon-right=\"open ? 'chevron-up' : 'chevron-down'\"\n          :label=\"slaData.holiday_list\"\n        />\n      </template>\n      <template #body>\n        <div\n          class=\"my-2 p-1 min-w-40 rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none\"\n        >\n          <div>\n            <div\n              v-for=\"holiday in holidayListData.data\"\n              :key=\"holiday.name\"\n              class=\"flex items-center justify-between gap-4 rounded px-2 py-1.5 text-base text-ink-gray-8 cursor-pointer hover:bg-surface-gray-2\"\n              @click=\"slaData.holiday_list = holiday.name\"\n            >\n              <div class=\"flex items-center gap-2 w-full\">\n                <input\n                  name=\"holiday_list\"\n                  :checked=\"holiday.name === slaData.holiday_list\"\n                  type=\"radio\"\n                />\n                <div class=\"select-none\">{{ holiday.holiday_list_name }}</div>\n              </div>\n              <div class=\"flex cursor-pointer items-center gap-1\">\n                <Button\n                  variant=\"ghost\"\n                  @click.stop=\"editHolidayList(holiday)\"\n                  icon=\"edit\"\n                />\n              </div>\n            </div>\n            <div\n              class=\"mt-1.5 flex flex-col gap-1 border-t border-outline-gray-modals pt-1.5\"\n            >\n              <Button\n                class=\"w-full !justify-start !text-ink-gray-5\"\n                variant=\"ghost\"\n                label=\"Create new business holiday\"\n                @click=\"createNewHolidayList()\"\n                icon-left=\"plus\"\n              />\n            </div>\n          </div>\n        </div>\n      </template>\n    </NestedPopover>\n  </div>\n  <div class=\"mt-5\">\n    <SlaWorkDaysList />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { NestedPopover, Button, createListResource } from \"frappe-ui\";\nimport SlaWorkDaysList from \"./SlaWorkDaysList.vue\";\nimport { setActiveSettingsTab } from \"../settingsModal\";\nimport {\n  holidayListActiveScreen,\n  resetHolidayData,\n} from \"@/stores/holidayList\";\nimport { watchDebounced } from \"@vueuse/core\";\nimport { slaData, validateSlaData } from \"@/stores/sla\";\n\nconst createNewHolidayList = () => {\n  setActiveSettingsTab(\"Business Holidays\");\n  holidayListActiveScreen.value = {\n    screen: \"view\",\n    data: null,\n    previousScreen: {\n      screen: \"view\",\n      data: slaData.value.name,\n    },\n  };\n  resetHolidayData();\n};\n\nconst editHolidayList = (data: any) => {\n  setActiveSettingsTab(\"Business Holidays\");\n  holidayListActiveScreen.value = {\n    screen: \"view\",\n    data: data,\n    previousScreen: {\n      screen: \"view\",\n      data: slaData.value.name,\n    },\n  };\n};\n\nconst holidayListData = createListResource({\n  doctype: \"HD Service Holiday List\",\n  fields: [\"name\", \"holiday_list_name\"],\n  auto: true,\n});\n\nwatchDebounced(\n  slaData.value.support_and_resolution,\n  () => {\n    validateSlaData(\"support_and_resolution\");\n  },\n  { debounce: 300 }\n);\n</script>\n\n<style scoped>\ninput[type=\"radio\"] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  border: 2px solid #c5c2c2;\n  border-radius: 50%;\n  outline: none;\n  transition: all 0.2s ease;\n  background-color: white;\n}\n\ninput[type=\"radio\"]:checked {\n  background-color: black;\n  border: 2px solid #000;\n}\n\ninput[type=\"radio\"]:checked::after {\n  content: \"\";\n  background-color: #fff;\n}\n\ninput[type=\"radio\"]:focus {\n  outline: none !important;\n  box-shadow: none !important;\n}\n</style>\n","<template>\n  <div\n    class=\"flex gap-2 border border-gray-300 rounded w-fit min-w-max px-4 select-none shadow-sm\"\n  >\n    <div\n      v-if=\"displayOptions.hours\"\n      class=\"p-2 flex flex-col items-center group relative\"\n    >\n      <div class=\"flex items-center gap-1\">\n        <input\n          ref=\"hoursInput\"\n          v-model.number=\"hoursValue\"\n          type=\"number\"\n          min=\"0\"\n          class=\"w-8 text-sm bg-transparent border-0 p-0 text-center focus:ring-0 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none\"\n          @blur=\"validateAndUpdateTime('hours')\"\n          @keyup.enter=\"handleEnter\"\n        />\n        <div\n          class=\"flex flex-col group-hover:opacity-100 opacity-0 absolute top-1/2 -translate-y-1/2 -right-3\"\n        >\n          <button\n            @mousedown=\"startAction(() => increment('hours'))\"\n            @touchstart=\"startAction(() => increment('hours'))\"\n            @mouseup=\"clearActiveInterval\"\n            @mouseleave=\"clearActiveInterval\"\n            @touchend=\"clearActiveInterval\"\n            @touchcancel=\"clearActiveInterval\"\n            class=\"hover:bg-gray-100 rounded-sm select-none\"\n          >\n            <FeatherIcon name=\"chevron-up\" class=\"size-3.5\" />\n          </button>\n          <button\n            @mousedown=\"startAction(() => decrement('hours'))\"\n            @touchstart=\"startAction(() => decrement('hours'))\"\n            @mouseup=\"clearActiveInterval\"\n            @mouseleave=\"clearActiveInterval\"\n            @touchend=\"clearActiveInterval\"\n            @touchcancel=\"clearActiveInterval\"\n            class=\"hover:bg-gray-100 rounded-sm select-none\"\n          >\n            <FeatherIcon name=\"chevron-down\" class=\"size-3.5\" />\n          </button>\n        </div>\n      </div>\n      <div class=\"text-xs text-gray-600 mt-1\">Hrs</div>\n    </div>\n    <div\n      v-if=\"displayOptions.minutes\"\n      class=\"p-2 flex flex-col items-center group relative\"\n    >\n      <div class=\"flex items-center gap-1\">\n        <input\n          ref=\"minutesInput\"\n          v-model.number=\"minutesValue\"\n          type=\"number\"\n          min=\"0\"\n          max=\"59\"\n          class=\"w-8 text-sm bg-transparent border-0 p-0 text-center focus:ring-0 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none\"\n          @blur=\"validateAndUpdateTime('minutes')\"\n          @keyup.enter=\"handleEnter\"\n        />\n        <div\n          class=\"flex flex-col group-hover:opacity-100 opacity-0 absolute top-1/2 -translate-y-1/2 -right-3\"\n        >\n          <button\n            @mousedown=\"startAction(() => increment('minutes'))\"\n            @touchstart=\"startAction(() => increment('minutes'))\"\n            @mouseup=\"clearActiveInterval\"\n            @mouseleave=\"clearActiveInterval\"\n            @touchend=\"clearActiveInterval\"\n            @touchcancel=\"clearActiveInterval\"\n            class=\"hover:bg-gray-100 rounded-sm select-none\"\n          >\n            <FeatherIcon name=\"chevron-up\" class=\"size-3.5\" />\n          </button>\n          <button\n            @mousedown=\"startAction(() => decrement('minutes'))\"\n            @touchstart=\"startAction(() => decrement('minutes'))\"\n            @mouseup=\"clearActiveInterval\"\n            @mouseleave=\"clearActiveInterval\"\n            @touchend=\"clearActiveInterval\"\n            @touchcancel=\"clearActiveInterval\"\n            class=\"hover:bg-gray-100 rounded-sm select-none\"\n          >\n            <FeatherIcon name=\"chevron-down\" class=\"size-3.5\" />\n          </button>\n        </div>\n      </div>\n      <div class=\"text-xs text-gray-600 mt-1\">Min</div>\n    </div>\n    <div\n      v-if=\"displayOptions.seconds\"\n      class=\"p-2 flex flex-col items-center group relative\"\n    >\n      <div class=\"flex items-center gap-1\">\n        <input\n          ref=\"secondsInput\"\n          v-model.number=\"secondsValue\"\n          type=\"number\"\n          min=\"0\"\n          max=\"59\"\n          class=\"w-8 text-sm bg-transparent border-0 p-0 text-center focus:ring-0 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none\"\n          @blur=\"validateAndUpdateTime('seconds')\"\n          @keyup.enter=\"handleEnter\"\n        />\n        <div\n          class=\"flex flex-col group-hover:opacity-100 opacity-0 absolute top-1/2 -translate-y-1/2 -right-3\"\n        >\n          <button\n            @mousedown=\"startAction(() => increment('seconds'))\"\n            @touchstart=\"startAction(() => increment('seconds'))\"\n            @mouseup=\"clearActiveInterval\"\n            @mouseleave=\"clearActiveInterval\"\n            @touchend=\"clearActiveInterval\"\n            @touchcancel=\"clearActiveInterval\"\n            class=\"hover:bg-gray-100 rounded-sm select-none\"\n          >\n            <FeatherIcon name=\"chevron-up\" class=\"size-3.5\" />\n          </button>\n          <button\n            @mousedown=\"startAction(() => decrement('seconds'))\"\n            @touchstart=\"startAction(() => decrement('seconds'))\"\n            @mouseup=\"clearActiveInterval\"\n            @mouseleave=\"clearActiveInterval\"\n            @touchend=\"clearActiveInterval\"\n            @touchcancel=\"clearActiveInterval\"\n            class=\"hover:bg-gray-100 rounded-sm select-none\"\n          >\n            <FeatherIcon name=\"chevron-down\" class=\"size-3.5\" />\n          </button>\n        </div>\n      </div>\n      <div class=\"text-xs text-gray-600 mt-1\">Sec</div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  ref,\n  computed,\n  watch,\n  defineEmits,\n  defineProps,\n  withDefaults,\n  onUnmounted,\n} from \"vue\";\n\ninterface Options {\n  hours?: boolean;\n  minutes?: boolean;\n  seconds?: boolean;\n}\n\nconst props = withDefaults(\n  defineProps<{\n    modelValue?: number;\n    min?: number;\n    max?: number;\n    options?: Partial<Options>;\n  }>(),\n  {\n    modelValue: 0,\n    min: 0,\n    max: Number.MAX_SAFE_INTEGER,\n    options: () => ({}),\n  }\n);\n\nconst normalizedOptions = computed<Required<Options>>(() => ({\n  hours: props.options?.hours ?? true,\n  minutes: props.options?.minutes ?? true,\n  seconds: props.options?.seconds ?? false,\n}));\n\nconst displayOptions = computed(() => {\n  const { hours, minutes, seconds } = normalizedOptions.value;\n  if (!hours && !minutes && !seconds) {\n    return { hours: true, minutes: true, seconds: false };\n  }\n  return { hours, minutes, seconds };\n});\nconst emit = defineEmits<{\n  (e: \"update:modelValue\", value: number): void;\n  (e: \"change\", value: number): void;\n}>();\n\nconst time = ref(props.modelValue);\nconst hoursInput = ref<HTMLInputElement | null>(null);\nconst minutesInput = ref<HTMLInputElement | null>(null);\nconst secondsInput = ref<HTMLInputElement | null>(null);\nconst activeInterval = ref<number | null>(null);\nconst activeAction = ref<(() => void) | null>(null);\nconst initialDelay = 300;\nconst repeatDelay = 50;\nlet isMouseDown = false;\nlet actionTimeout: number | null = null;\n\nconst hoursValue = computed({\n  get: () => Math.floor(time.value / 3600).toString(),\n  set: (value) => {\n    if (value === \"\") return;\n    const num = parseInt(value, 10);\n    if (!isNaN(num) && num >= 0) {\n      const newTime = num * 3600 + getMinutes() * 60 + getSeconds();\n      updateTime(newTime);\n    }\n  },\n});\n\nconst minutesValue = computed({\n  get: () => Math.floor((time.value % 3600) / 60).toString(),\n  set: (value) => {\n    if (value === \"\") return;\n    const num = parseInt(value, 10);\n    if (!isNaN(num) && num >= 0 && num <= 59) {\n      const newTime = getHours() * 3600 + num * 60 + getSeconds();\n      updateTime(newTime);\n    }\n  },\n});\n\nconst secondsValue = computed({\n  get: () => (time.value % 60).toString(),\n  set: (value) => {\n    if (value === \"\") return;\n    const num = parseInt(value, 10);\n    if (!isNaN(num) && num >= 0 && num <= 59) {\n      const newTime = getHours() * 3600 + getMinutes() * 60 + num;\n      updateTime(newTime);\n    }\n  },\n});\n\nfunction getHours() {\n  return Math.floor(time.value / 3600);\n}\n\nfunction getMinutes() {\n  return Math.floor((time.value % 3600) / 60);\n}\n\nfunction getSeconds() {\n  return time.value % 60;\n}\n\n// Clear any active intervals when component unmounts\nonUnmounted(() => {\n  clearActiveInterval();\n  if (actionTimeout) {\n    clearTimeout(actionTimeout);\n  }\n});\n\nfunction clearActiveInterval() {\n  if (activeInterval.value !== null) {\n    clearInterval(activeInterval.value);\n    activeInterval.value = null;\n  }\n  if (actionTimeout) {\n    clearTimeout(actionTimeout);\n    actionTimeout = null;\n  }\n  isMouseDown = false;\n}\n\nfunction startAction(action: () => void) {\n  if (isMouseDown) return;\n\n  isMouseDown = true;\n\n  action();\n\n  actionTimeout = window.setTimeout(() => {\n    if (!isMouseDown) return;\n\n    activeAction.value = action;\n    activeInterval.value = window.setInterval(() => {\n      if (activeAction.value) {\n        activeAction.value();\n      }\n    }, repeatDelay);\n  }, initialDelay);\n}\n\nfunction handlePointerUp() {\n  clearActiveInterval();\n}\n\ndocument.addEventListener(\"mouseup\", handlePointerUp);\ndocument.addEventListener(\"touchend\", handlePointerUp);\nonUnmounted(() => {\n  document.removeEventListener(\"mouseup\", handlePointerUp);\n  document.removeEventListener(\"touchend\", handlePointerUp);\n});\n\nfunction updateTime(newTime: number, emitEvent = true) {\n  newTime = Math.max(props.min, Math.min(props.max, newTime));\n  if (newTime !== time.value) {\n    time.value = newTime;\n    if (emitEvent) {\n      emit(\"update:modelValue\", time.value);\n      emit(\"change\", time.value);\n    }\n  }\n}\n\nfunction validateAndUpdateTime(unit: \"hours\" | \"minutes\" | \"seconds\") {\n  switch (unit) {\n    case \"hours\":\n      hoursValue.value = hoursValue.value;\n      break;\n    case \"minutes\":\n      minutesValue.value = minutesValue.value;\n      break;\n    case \"seconds\":\n      secondsValue.value = secondsValue.value;\n      break;\n  }\n}\n\nfunction handleEnter(e: KeyboardEvent) {\n  (e.target as HTMLInputElement).blur();\n}\n\nfunction increment(unit: \"hours\" | \"minutes\" | \"seconds\") {\n  let newTime = time.value;\n  switch (unit) {\n    case \"hours\":\n      newTime += 3600;\n      break;\n    case \"minutes\":\n      newTime += 60;\n      break;\n    case \"seconds\":\n      newTime += 1;\n      break;\n  }\n  updateTime(newTime);\n}\n\nfunction decrement(unit: \"hours\" | \"minutes\" | \"seconds\") {\n  let newTime = time.value;\n  switch (unit) {\n    case \"hours\":\n      newTime -= 3600;\n      break;\n    case \"minutes\":\n      newTime -= 60;\n      break;\n    case \"seconds\":\n      newTime -= 1;\n      break;\n  }\n  updateTime(newTime);\n}\n\nwatch(\n  () => props.modelValue,\n  (newValue) => {\n    if (newValue !== time.value) {\n      time.value = Math.max(props.min, Math.min(props.max, newValue));\n    }\n  },\n  { immediate: true }\n);\n</script>\n\n<style scoped>\nbutton {\n  outline: none;\n  -webkit-tap-highlight-color: transparent;\n}\n</style>\n","export function formatTimeHMS(seconds) {\n  const days = Math.floor(seconds / (3600 * 24));\n  const hours = Math.floor((seconds % (3600 * 24)) / 3600);\n  const minutes = Math.floor((seconds % 3600) / 60);\n  const remainingSeconds = Math.floor(seconds % 60);\n\n  let formattedTime = \"\";\n\n  if (days > 0) {\n    formattedTime += `${days} days `;\n  }\n\n  if (hours > 0) {\n    formattedTime += `${hours} hours `;\n  }\n\n  if (minutes > 0) {\n    formattedTime += `${minutes} minutes `;\n  }\n\n  if (remainingSeconds > 0) {\n    formattedTime += `${remainingSeconds} seconds`;\n  }\n\n  return formattedTime.trim();\n}\n","<template>\n  <Dialog\n    v-model=\"dialog\"\n    :options=\"{\n      title: 'Edit response and resolution',\n    }\"\n  >\n    <template #body-content>\n      <div class=\"flex flex-col gap-4\">\n        <FormControl\n          :type=\"'select'\"\n          size=\"sm\"\n          variant=\"subtle\"\n          placeholder=\"Select Priority\"\n          label=\"Priority\"\n          v-model=\"priorityData.priority\"\n          :options=\"priorityOptions\"\n          required\n        />\n        <div>\n          <FormLabel label=\"Response time\" required />\n          <Popover class=\"mt-2\">\n            <template #target=\"{ togglePopover }\" class=\"w-max\">\n              <div\n                @click=\"togglePopover()\"\n                class=\"w-full bg-gray-100 rounded p-1.5 px-2 text-base text-gray-800\"\n              >\n                <div v-if=\"priorityData.response_time\">\n                  {{ formatTimeHMS(priorityData.response_time) }}\n                </div>\n                <div v-else class=\"text-gray-500\">Select time</div>\n              </div>\n            </template>\n            <template #body>\n              <div class=\"absolute bg-white top-2\">\n                <DurationPicker\n                  v-model=\"priorityData.response_time\"\n                  :options=\"{ seconds: false }\"\n                />\n              </div>\n            </template>\n          </Popover>\n        </div>\n        <div>\n          <FormLabel label=\"Resolution time\" required />\n          <Popover class=\"mt-2\">\n            <template #target=\"{ togglePopover }\" class=\"w-max\">\n              <div\n                @click=\"togglePopover()\"\n                class=\"w-full bg-gray-100 rounded p-1.5 px-2 text-base text-gray-800\"\n              >\n                <div v-if=\"priorityData.resolution_time\">\n                  {{ formatTimeHMS(priorityData.resolution_time) }}\n                </div>\n                <div v-else class=\"text-gray-500\">Select time</div>\n              </div>\n            </template>\n            <template #body>\n              <div class=\"absolute bg-white top-2\">\n                <DurationPicker\n                  v-model=\"priorityData.resolution_time\"\n                  :options=\"{ seconds: false }\"\n                />\n              </div>\n            </template>\n          </Popover>\n        </div>\n        <Checkbox\n          v-model=\"priorityData.default_priority\"\n          label=\"Set default priority\"\n        />\n      </div>\n    </template>\n    <template #actions>\n      <div class=\"flex justify-between\">\n        <div>\n          <Button\n            variant=\"subtle\"\n            :theme=\"isConfirmingDelete ? 'red' : 'gray'\"\n            :label=\"isConfirmingDelete ? 'Confirm Delete' : 'Delete'\"\n            @click=\"deleteItem\"\n            icon-left=\"trash-2\"\n          />\n        </div>\n        <div class=\"flex gap-2\">\n          <Button\n            variant=\"subtle\"\n            theme=\"gray\"\n            @click=\"dialog = false\"\n            label=\"Cancel\"\n          />\n          <Button variant=\"solid\" @click=\"onSave\" label=\"Save\" />\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  Button,\n  Checkbox,\n  Dialog,\n  FormControl,\n  FormLabel,\n  Popover,\n  toast,\n} from \"frappe-ui\";\nimport { inject, ref } from \"vue\";\nimport { formatTimeHMS } from \"../utils\";\nimport DurationPicker from \"@/components/frappe-ui/DurationPicker.vue\";\nimport { slaData } from \"@/stores/sla\";\n\nconst dialog = defineModel<boolean>();\nconst emit = defineEmits([\"onDefaultPriorityChange\"]);\nconst isConfirmingDelete = ref(false);\n\nconst props = defineProps({\n  row: {\n    type: Object,\n    required: true,\n  },\n});\n\nconst priorityOptions = inject(\"priorityOptions\");\n\nconst priorityData = ref({\n  priority: props.row.priority,\n  resolution_time: props.row.resolution_time,\n  response_time: props.row.response_time,\n  default_priority: props.row.default_priority,\n});\n\nconst validateForm = () => {\n  if (!priorityData.value.priority) {\n    toast.error(\"Please select a priority\");\n    return false;\n  }\n\n  const resolutionTime = parseInt(priorityData.value.resolution_time);\n  if (isNaN(resolutionTime) || resolutionTime <= 0) {\n    toast.error(\"Resolution time must be a positive number\");\n    return false;\n  }\n\n  const responseTime = parseInt(priorityData.value.response_time);\n  if (isNaN(responseTime) || responseTime <= 0) {\n    toast.error(\"Response time must be a positive number\");\n    return false;\n  }\n\n  if (priorityData.value.default_priority) {\n    slaData.value.priorities.forEach((priority) => {\n      priority.default_priority = false;\n    });\n  }\n\n  return true;\n};\n\nconst deleteItem = (event) => {\n  event.preventDefault();\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n\n  slaData.value.priorities.splice(\n    slaData.value.priorities.indexOf(props.row),\n    1\n  );\n};\n\nconst onSave = () => {\n  if (!validateForm()) return;\n  props.row.priority = priorityData.value.priority;\n  props.row.resolution_time = priorityData.value.resolution_time;\n  props.row.response_time = priorityData.value.response_time;\n  props.row.default_priority = priorityData.value.default_priority;\n\n  dialog.value = false;\n};\n</script>\n","<template>\n  <div\n    class=\"grid gap-2 py-3.5 px-4 items-center\"\n    :style=\"{\n      gridTemplateColumns,\n    }\"\n  >\n    <div\n      v-for=\"column in props.columns\"\n      :key=\"column.key\"\n      class=\"w-full overflow-hidden whitespace-nowrap text-ellipsis\"\n    >\n      <div v-if=\"column.key === 'default_priority'\">\n        <Checkbox\n          v-model=\"props.row.default_priority\"\n          @update:modelValue=\"(e) => onDefaultPriorityChange(e)\"\n        />\n      </div>\n      <div\n        v-else-if=\"\n          column.key === 'response_time' || column.key === 'resolution_time'\n        \"\n      >\n        <Popover>\n          <template #target=\"{ togglePopover }\">\n            <div\n              @click=\"togglePopover()\"\n              class=\"min-h-7 w-full cursor-pointer select-none leading-5 p-1 px-2 hover:bg-gray-200 rounded\"\n            >\n              {{ formatTimeHMS(props.row[column.key]) }}\n            </div>\n          </template>\n          <template #body>\n            <div class=\"absolute bg-white top-2\">\n              <DurationPicker v-model=\"props.row[column.key]\" />\n            </div>\n          </template>\n        </Popover>\n      </div>\n      <div v-else>\n        <Select\n          class=\"w-full bg-transparent cursor-pointer border-0 focus-visible:!ring-0 bg-none\"\n          :options=\"priorityOptions\"\n          v-model=\"props.row[column.key]\"\n        />\n      </div>\n    </div>\n    <div class=\"flex justify-end\">\n      <Dropdown placement=\"right\" :options=\"dropdownOptions\">\n        <Button\n          icon=\"more-horizontal\"\n          variant=\"ghost\"\n          @click=\"isConfirmingDelete = false\"\n        />\n      </Dropdown>\n    </div>\n  </div>\n  <hr v-if=\"!props.isLast\" />\n  <EditResponseResolutionModal v-model=\"dialog\" :row=\"props.row\" />\n</template>\n\n<script setup lang=\"ts\">\nimport DurationPicker from \"@/components/frappe-ui/DurationPicker.vue\";\nimport { slaData } from \"@/stores/sla\";\nimport { ConfirmDelete } from \"@/utils\";\nimport { Button, Checkbox, Popover, Select } from \"frappe-ui\";\nimport { inject, ref } from \"vue\";\nimport EditResponseResolutionModal from \"./Modals/EditResponseResolutionModal.vue\";\nimport { formatTimeHMS } from \"./utils\";\n\nconst props = defineProps({\n  columns: {\n    type: Array<any>,\n    required: true,\n  },\n  row: {\n    type: Object,\n    required: true,\n  },\n  isLast: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst isConfirmingDelete = ref(false);\nconst dialog = ref(false);\nconst priorityData = ref({\n  priority: props.row.priority,\n  resolution_time: props.row.resolution_time,\n  response_time: props.row.response_time,\n  default_priority: props.row.default_priority,\n});\n\nconst priorityOptions = inject<Array<any>>(\"priorityOptions\");\n\nconst dropdownOptions = [\n  {\n    label: \"Edit\",\n    onClick: () => editItem(),\n    icon: \"edit\",\n  },\n  ...ConfirmDelete({\n    onConfirmDelete: () => deleteItem(),\n    isConfirmingDelete,\n  }),\n];\n\nconst gridTemplateColumns = inject<string>(\"gridTemplateColumns\");\n\nconst deleteItem = () => {\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n\n  slaData.value.priorities.splice(\n    slaData.value.priorities.indexOf(props.row),\n    1\n  );\n};\n\nconst editItem = () => {\n  dialog.value = true;\n  priorityData.value = {\n    priority: props.row.priority,\n    resolution_time: props.row.resolution_time,\n    response_time: props.row.response_time,\n    default_priority: props.row.default_priority,\n  };\n};\n\nconst onDefaultPriorityChange = (defaultPriority) => {\n  slaData.value.priorities.forEach((priority) => {\n    priority.default_priority = false;\n  });\n  props.row.default_priority = defaultPriority;\n};\n</script>\n","<template>\n  <div class=\"rounded-md border px-2 border-gray-300 text-sm\">\n    <div\n      class=\"grid p-2 px-4 items-center\"\n      :style=\"{\n        gridTemplateColumns,\n      }\"\n      v-if=\"slaData.priorities?.length !== 0\"\n    >\n      <div\n        v-for=\"column in columns\"\n        :key=\"column.key\"\n        class=\"text-gray-600 overflow-hidden whitespace-nowrap text-ellipsis\"\n        :class=\"{\n          'ml-2':\n            column.key === 'priority' ||\n            column.key === 'response_time' ||\n            column.key === 'resolution_time',\n        }\"\n      >\n        {{ column.label }}\n        <span v-if=\"column.isRequired\" class=\"text-red-500\">*</span>\n      </div>\n    </div>\n    <hr v-if=\"slaData.priorities?.length !== 0\" />\n    <SlaPriorityListItem\n      v-for=\"(row, index) in slaData.priorities\"\n      :key=\"row.priority\"\n      :row=\"row\"\n      :columns=\"columns\"\n      :isLast=\"index === slaData.priorities.length - 1\"\n    />\n    <div\n      v-if=\"slaData.priorities?.length === 0\"\n      class=\"text-center p-4 text-gray-600\"\n    >\n      No priorities in the list\n    </div>\n  </div>\n  <div\n    class=\"flex items-center justify-between mt-2.5\"\n    v-if=\"\n      slaData.priorities.length !== priorityOptions.length ||\n      slaDataErrors.default_priority ||\n      slaDataErrors.priorities\n    \"\n  >\n    <div>\n      <Button\n        v-if=\"slaData.priorities.length !== priorityOptions.length\"\n        variant=\"subtle\"\n        label=\"Add row\"\n        @click=\"addRow\"\n        icon-left=\"plus\"\n      />\n    </div>\n    <ErrorMessage\n      :message=\"slaDataErrors.default_priority || slaDataErrors.priorities\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Button, createResource, toast } from \"frappe-ui\";\nimport SlaPriorityListItem from \"./SlaPriorityListItem.vue\";\nimport { computed, provide, reactive } from \"vue\";\nimport {\n  slaActiveScreen,\n  slaData,\n  slaDataErrors,\n  validateSlaData,\n} from \"@/stores/sla\";\nimport { watchDebounced } from \"@vueuse/core\";\nimport { getGridTemplateColumnsForTable } from \"@/utils\";\n\ncreateResource({\n  url: \"frappe.client.get_list\",\n  params: {\n    doctype: \"HD Ticket Priority\",\n    fields: [\"name\"],\n    order_by: \"integer_value desc\",\n  },\n  auto: true,\n  onSuccess(data) {\n    priorityOptions.push(\n      ...data.map((p) => {\n        return {\n          label: p.name,\n          value: p.name,\n        };\n      })\n    );\n    if (!slaActiveScreen.value.data) {\n      slaData.value.priorities = priorityOptions.map((p, index) => {\n        return {\n          priority: p.value,\n          resolution_time: 60 * 60,\n          response_time: 60 * 60,\n          default_priority: index === 0,\n        };\n      });\n    }\n  },\n});\n\nconst priorityOptions = reactive([]);\n\nprovide(\"priorityOptions\", priorityOptions);\n\nconst addRow = () => {\n  const existingPriorities = slaData.value.priorities.map((p) => p.priority);\n  const availablePriorities = priorityOptions.filter(\n    (p) => !existingPriorities.includes(p.value)\n  );\n\n  if (availablePriorities.length === 0) {\n    toast.error(\"All available priorities have already been added\");\n    return;\n  }\n\n  const newPriority = availablePriorities[0].value;\n\n  slaData.value.priorities.push({\n    priority: newPriority,\n    resolution_time: 60 * 60,\n    response_time: 60 * 60,\n    default_priority: slaData.value.priorities.length === 0,\n  });\n};\n\nconst columns = computed(() => [\n  {\n    label: \"Priority\",\n    key: \"priority\",\n    isRequired: true,\n  },\n  {\n    label: \"Default priority\",\n    key: \"default_priority\",\n    isRequired: true,\n  },\n  {\n    label: \"First response time\",\n    key: \"response_time\",\n    isRequired: true,\n  },\n  {\n    label: \"Resolution time\",\n    key: \"resolution_time\",\n    isRequired: true,\n  },\n  //   slaData.value.apply_sla_for_resolution && {\n  //     label: \"Resolution time\",\n  //     key: \"resolution_time\",\n  //     isRequired: Boolean(slaData.value.apply_sla_for_resolution),\n  //   },\n  // ].filter((c) => c)\n]);\n\nconst gridTemplateColumns = computed(() => {\n  // return getGridTemplateColumnsForTable(columns.value.filter((c) => c));\n  return getGridTemplateColumnsForTable(columns.value);\n});\n\nprovide(\"gridTemplateColumns\", gridTemplateColumns);\n\nwatchDebounced(\n  () => [...slaData.value.priorities],\n  () => {\n    validateSlaData(\"priorities\");\n  },\n  { deep: true, debounce: 300 }\n);\n</script>\n","<template>\n  <div class=\"flex gap-5 w-full\">\n    <FormControl\n      type=\"autocomplete\"\n      label=\"Default ticket status\"\n      :options=\"openStatuses\"\n      class=\"flex-1\"\n      v-model=\"slaData.default_ticket_status\"\n    />\n    <FormControl\n      type=\"autocomplete\"\n      label=\"Ticket reopen status\"\n      :options=\"openStatuses\"\n      class=\"flex-1\"\n      v-model=\"slaData.reopen_ticket_status\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ComputedRef } from \"vue\";\nimport { slaData } from \"@/stores/sla\";\nimport { useTicketStatusStore } from \"@/stores/ticketStatus\";\nimport { HDTicketStatus } from \"@/types/doctypes\";\n\nconst { statuses } = useTicketStatusStore();\n\nconst openStatuses: ComputedRef<HDTicketStatus[]> = computed(() => {\n  return statuses.data\n    .filter((s: HDTicketStatus) => s.category === \"Open\")\n    .map((s: HDTicketStatus) => {\n      return {\n        label: s.label_agent,\n        value: s.label_agent,\n      };\n    });\n});\n</script>\n","<template>\n  <div v-if=\"slaData.loading\" class=\"flex items-center h-full justify-center\">\n    <LoadingIndicator class=\"w-4\" />\n  </div>\n  <div\n    v-if=\"!slaData.loading\"\n    class=\"sticky top-0 z-10 bg-white px-10 pt-8 pb-6\"\n  >\n    <div class=\"flex items-center justify-between w-full\">\n      <div>\n        <div class=\"flex items-center gap-2\">\n          <Button\n            variant=\"ghost\"\n            icon-left=\"chevron-left\"\n            :label=\"slaData.service_level || 'New SLA Policy'\"\n            size=\"md\"\n            @click=\"goBack()\"\n            class=\"cursor-pointer -ml-4 hover:bg-transparent focus:bg-transparent focus:outline-none focus:ring-0 focus:ring-offset-0 focus-visible:none active:bg-transparent active:outline-none active:ring-0 active:ring-offset-0 active:text-ink-gray-5 font-semibold text-ink-gray-7 text-xl hover:opacity-70 !pr-0\"\n          />\n          <Badge\n            :variant=\"'subtle'\"\n            :theme=\"'orange'\"\n            size=\"sm\"\n            label=\"Unsaved changes\"\n            v-if=\"isDirty\"\n          />\n        </div>\n      </div>\n      <div class=\"flex gap-4 items-center\">\n        <div\n          class=\"flex items-center justify-between gap-2 cursor-pointer\"\n          @click=\"toggleEnabled\"\n        >\n          <Switch size=\"sm\" v-model=\"slaData.enabled\" />\n          <span class=\"text-sm text-ink-gray-7 font-medium\">Enabled</span>\n        </div>\n        <Button\n          label=\"Save\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"saveSla()\"\n          :disabled=\"Boolean(!isDirty && slaActiveScreen.data)\"\n          :loading=\"slaData.loading || slaPolicyList.setValue.loading\"\n        />\n      </div>\n    </div>\n  </div>\n  <div v-if=\"!slaData.loading\" class=\"overflow-y-auto px-10 pb-10\">\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n      <div>\n        <FormControl\n          :type=\"'text'\"\n          size=\"sm\"\n          variant=\"subtle\"\n          placeholder=\"Name\"\n          label=\"Name\"\n          v-model=\"slaData.service_level\"\n          required\n          @change=\"validateSlaData('service_level')\"\n          :disabled=\"Boolean(slaActiveScreen.data)\"\n        />\n        <ErrorMessage :message=\"slaDataErrors.service_level\" class=\"mt-2\" />\n      </div>\n      <FormControl\n        :type=\"'textarea'\"\n        size=\"sm\"\n        variant=\"subtle\"\n        placeholder=\"Description\"\n        label=\"Description\"\n        v-model=\"slaData.description\"\n      />\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\"\n          >Assignment conditions</span\n        >\n        <span class=\"text-p-sm text-ink-gray-6\">\n          Choose which tickets are affected by this policy.\n        </span>\n      </div>\n      <div class=\"mt-3\">\n        <div class=\"flex items-center justify-between\">\n          <Checkbox\n            label=\"Set as default SLA\"\n            :model-value=\"slaData.default_sla\"\n            @update:model-value=\"toggleDefaultSla\"\n            class=\"text-ink-gray-6 text-base font-medium\"\n          />\n          <div v-if=\"isOldSla && slaActiveScreen.data && !slaData.default_sla\">\n            <Popover trigger=\"hover\" hoverDelay=\"0.25\" placement=\"top-end\">\n              <template #target>\n                <div class=\"text-sm text-ink-gray-6 flex gap-1 cursor-default\">\n                  Old Conditions\n                  <FeatherIcon name=\"info\" class=\"size-4\" />\n                </div>\n              </template>\n              <template #body-main>\n                <div\n                  class=\"text-sm text-ink-gray-6 p-2 bg-white rounded-md max-w-96 text-wrap whitespace-pre-wrap leading-5\"\n                >\n                  <code>{{ slaData.condition }}</code>\n                </div>\n              </template>\n            </Popover>\n          </div>\n        </div>\n        <div class=\"mt-5\" v-if=\"!slaData.default_sla\">\n          <div\n            class=\"flex flex-col gap-3 items-center text-center text-ink-gray-7 text-sm mb-2 border border-gray-300 rounded-md p-3 py-4\"\n            v-if=\"!useNewUI\"\n          >\n            <span class=\"text-p-sm\">\n              Conditions for this SLA were created from\n              <a :href=\"deskUrl\" target=\"_blank\" class=\"underline\">desk</a>\n              which are not compatible with this UI, you will need to recreate\n              the conditions here if you want to manage and add new conditions\n              from this UI.\n            </span>\n            <Button\n              label=\"I understand, add conditions\"\n              variant=\"subtle\"\n              theme=\"gray\"\n              @click=\"useNewUI = true\"\n            />\n          </div>\n          <SlaAssignmentConditions\n            :conditions=\"slaData.condition_json\"\n            v-if=\"useNewUI\"\n          />\n        </div>\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\">Valid from</span>\n        <span class=\"text-p-sm text-ink-gray-6\">\n          Choose how long this SLA policy will be active.\n        </span>\n      </div>\n      <div class=\"mt-3.5 flex gap-5 flex-col md:flex-row\">\n        <div class=\"w-full space-y-1.5\">\n          <FormLabel label=\"From date\" for=\"from_date\" />\n          <DatePicker\n            v-model=\"slaData.start_date\"\n            variant=\"subtle\"\n            placeholder=\"11/01/2025\"\n            class=\"w-full\"\n            id=\"from_date\"\n            @change=\"validateSlaData('start_date')\"\n            :formatter=\"(date) => getFormattedDate(date)\"\n          >\n            <template #prefix>\n              <LucideCalendar class=\"size-4\" />\n            </template>\n          </DatePicker>\n          <ErrorMessage :message=\"slaDataErrors.start_date\" />\n        </div>\n        <div class=\"w-full space-y-1.5\">\n          <FormLabel label=\"To date\" for=\"to_date\" />\n          <DatePicker\n            v-model=\"slaData.end_date\"\n            variant=\"subtle\"\n            placeholder=\"25/12/2025\"\n            class=\"w-full\"\n            id=\"to_date\"\n            @change=\"validateSlaData('end_date')\"\n            :formatter=\"(date) => getFormattedDate(date)\"\n          >\n            <template #prefix>\n              <LucideCalendar class=\"size-4\" />\n            </template>\n          </DatePicker>\n          <ErrorMessage :message=\"slaDataErrors.end_date\" />\n        </div>\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\"\n          >Response and resolution</span\n        >\n        <span class=\"text-p-sm text-ink-gray-6\">\n          Add time targets around support milestones like first reply and\n          resolution times\n        </span>\n      </div>\n      <div class=\"mt-5\">\n        <!-- <div class=\"flex gap-6\">\n          <div\n            class=\"flex items-center gap-2\"\n            @click=\"onApplySlaForChange(false)\"\n          >\n            <input\n              name=\"apply_sla_for\"\n              :checked=\"!slaData.apply_sla_for_resolution\"\n              type=\"radio\"\n            />\n            <div class=\"select-none text-ink-gray-6 text-sm font-medium\">\n              Apply SLA for response time\n            </div>\n          </div>\n          <div\n            class=\"flex items-center gap-2\"\n            @click=\"onApplySlaForChange(true)\"\n          >\n            <input\n              name=\"apply_sla_for\"\n              :checked=\"slaData.apply_sla_for_resolution\"\n              type=\"radio\"\n            />\n            <div class=\"select-none text-ink-gray-6 text-sm font-medium\">\n              Apply SLA for response time and resolution time\n            </div>\n          </div>\n        </div> -->\n        <div class=\"mt-5\">\n          <SlaPriorityList />\n        </div>\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\"\n          >Status details</span\n        >\n        <span class=\"text-p-sm text-ink-gray-6\">\n          Set the default status assigned when a ticket is created, and the\n          status to apply when a ticket is reopened. If not specified, the\n          default status from HD Settings will be used.\n        </span>\n      </div>\n      <div class=\"mt-5\">\n        <SlaStatusList />\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <SlaHolidays />\n  </div>\n  <ConfirmDialog\n    v-model=\"showConfirmDialog.show\"\n    :title=\"showConfirmDialog.title\"\n    :message=\"showConfirmDialog.message\"\n    :onConfirm=\"showConfirmDialog.onConfirm\"\n    :onCancel=\"() => (showConfirmDialog.show = false)\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport ConfirmDialog from \"@/components/ConfirmDialog.vue\";\nimport {\n  resetSlaDataErrors,\n  slaActiveScreen,\n  slaData,\n  slaDataErrors,\n  validateSlaData,\n} from \"@/stores/sla\";\nimport { convertToConditions, getFormattedDate } from \"@/utils\";\nimport {\n  Badge,\n  Button,\n  Checkbox,\n  createResource,\n  DatePicker,\n  ErrorMessage,\n  FormLabel,\n  LoadingIndicator,\n  Popover,\n  Switch,\n  toast,\n} from \"frappe-ui\";\nimport { inject, nextTick, onMounted, onUnmounted, ref, watch } from \"vue\";\nimport SlaAssignmentConditions from \"./SlaAssignmentConditions.vue\";\nimport SlaHolidays from \"./SlaHolidays.vue\";\nimport SlaPriorityList from \"./SlaPriorityList.vue\";\nimport SlaStatusList from \"./SlaStatusList.vue\";\nimport { disableSettingModalOutsideClick } from \"../settingsModal\";\nimport { useOnboarding } from \"frappe-ui/frappe\";\n\nconst { updateOnboardingStep } = useOnboarding(\"helpdesk\");\n\nconst showConfirmDialog = ref({\n  show: false,\n  title: \"\",\n  message: \"\",\n  onConfirm: () => {},\n});\nconst isDirty = ref(false);\nconst initialData = ref(null);\n\nconst useNewUI = ref(true);\nconst isOldSla = ref(false);\n\nconst slaPolicyList = inject<any>(\"slaPolicyList\");\nconst deskUrl = `${window.location.origin}/app/hd-service-level-agreement/${slaActiveScreen.value.data?.name}`;\n\nconst getSlaData = createResource({\n  url: \"helpdesk.api.sla.get_sla\",\n  params: {\n    docname: slaActiveScreen.value.data?.name,\n  },\n  onSuccess(data) {\n    let condition_json;\n    try {\n      condition_json = JSON.parse(data.condition_json || \"[]\");\n    } catch (error) {\n      toast.error(\n        \"Assignment conditions are invalid or corrupt, recreate the conditions.\"\n      );\n      condition_json = [];\n    }\n\n    const newData = {\n      ...data,\n      loading: false,\n      condition_json: condition_json,\n    };\n    slaData.value = newData;\n    slaData.value.apply_sla_for_resolution = true;\n    initialData.value = JSON.stringify(newData);\n    const conditionsAvailable = slaData.value.condition?.length > 0;\n    const conditionsJsonAvailable = slaData.value.condition_json?.length > 0;\n    if (conditionsAvailable && !conditionsJsonAvailable) {\n      useNewUI.value = false;\n      isOldSla.value = true;\n    } else {\n      useNewUI.value = true;\n      isOldSla.value = false;\n    }\n  },\n});\n\nif (slaActiveScreen.value.data && slaActiveScreen.value.fetchData) {\n  slaData.value.loading = true;\n  getSlaData.submit();\n} else {\n  disableSettingModalOutsideClick.value = true;\n}\n\nconst goBack = () => {\n  const confirmDialogInfo = {\n    show: true,\n    title: \"Unsaved changes\",\n    message: \"Are you sure you want to go back? Unsaved changes will be lost.\",\n    onConfirm: goBack,\n  };\n  if (isDirty.value && !showConfirmDialog.value.show) {\n    showConfirmDialog.value = confirmDialogInfo;\n    return;\n  }\n  if (!slaActiveScreen.value.data && !showConfirmDialog.value.show) {\n    showConfirmDialog.value = confirmDialogInfo;\n    return;\n  }\n  // Workaround fix for settings modal not closing after going back\n  setTimeout(() => {\n    slaActiveScreen.value = {\n      screen: \"list\",\n      data: null,\n      fetchData: true,\n    };\n  }, 250);\n  showConfirmDialog.value.show = false;\n};\n\nconst saveSla = () => {\n  const validationErrors = validateSlaData(undefined, !useNewUI.value);\n\n  if (Object.values(validationErrors).some((error) => error)) {\n    toast.error(\n      \"Invalid fields, check if all are filled in and values are correct.\"\n    );\n    return;\n  }\n\n  if (slaActiveScreen.value.data) {\n    if (isOldSla.value && useNewUI.value) {\n      showConfirmDialog.value = {\n        show: true,\n        title: \"Confirm overwrite\",\n        message:\n          \"Your old conditions will be overwritten. Are you sure you want to save?\",\n        onConfirm: () => {\n          updateSla();\n          showConfirmDialog.value.show = false;\n        },\n      };\n      return;\n    }\n    updateSla();\n  } else {\n    createSla();\n  }\n};\n\nconst createSla = () => {\n  const defaultTicketStatus = slaData.value.default_ticket_status\n    ? slaData.value.default_ticket_status?.value\n    : null;\n  const ticketReopenStatus = slaData.value.reopen_ticket_status\n    ? slaData.value.reopen_ticket_status?.value\n    : null;\n  slaPolicyList.insert.submit(\n    {\n      ...slaData.value,\n      default_ticket_status: defaultTicketStatus,\n      ticket_reopen_status: ticketReopenStatus,\n      condition: convertToConditions({\n        conditions: slaData.value.condition_json,\n        fieldPrefix: \"doc\",\n      }),\n      condition_json: JSON.stringify(slaData.value.condition_json),\n    },\n    {\n      onSuccess(data) {\n        toast.success(\"SLA policy created\");\n        slaActiveScreen.value.data = data;\n        slaActiveScreen.value.screen = \"view\";\n        getSlaData.submit({\n          docname: data.name,\n        });\n        updateOnboardingStep(\"setup_sla\", true);\n      },\n    }\n  );\n};\n\nconst updateSla = () => {\n  const defaultTicketStatus = slaData.value.default_ticket_status\n    ? slaData.value.default_ticket_status?.value\n    : null;\n  const ticketReopenStatus = slaData.value.reopen_ticket_status\n    ? slaData.value.reopen_ticket_status?.value\n    : null;\n  slaPolicyList.setValue.submit(\n    {\n      ...slaData.value,\n      name: slaActiveScreen.value.data.name,\n      default_ticket_status: defaultTicketStatus,\n      ticket_reopen_status: ticketReopenStatus,\n      condition: useNewUI.value\n        ? convertToConditions({\n            conditions: slaData.value.condition_json,\n            fieldPrefix: \"doc\",\n          })\n        : slaData.value.condition,\n      condition_json: useNewUI.value\n        ? JSON.stringify(slaData.value.condition_json)\n        : null,\n    },\n    {\n      onSuccess() {\n        getSlaData.submit();\n        toast.success(\"SLA policy updated\");\n        slaPolicyList.reload();\n      },\n    }\n  );\n};\n\nconst toggleEnabled = () => {\n  if (slaData.value.default_sla) {\n    toast.error(\"SLA set as default cannot be disabled\");\n    return;\n  }\n  slaData.value.enabled = !slaData.value.enabled;\n};\n\nconst toggleDefaultSla = () => {\n  slaData.value.default_sla = !slaData.value.default_sla;\n  if (slaData.value.default_sla) {\n    slaData.value.enabled = true;\n  }\n};\n\nconst onApplySlaForChange = (applyForResolution: boolean) => {\n  slaData.value.apply_sla_for_resolution = applyForResolution;\n  nextTick(() => {\n    validateSlaData(\"priorities\");\n  });\n};\n\nwatch(\n  slaData,\n  (newVal) => {\n    if (!initialData.value) return;\n    isDirty.value = JSON.stringify(newVal) != initialData.value;\n    if (isDirty.value) {\n      disableSettingModalOutsideClick.value = true;\n    } else {\n      disableSettingModalOutsideClick.value = false;\n    }\n  },\n  { deep: true }\n);\n\nconst beforeUnloadHandler = (event) => {\n  if (!isDirty.value) return;\n  event.preventDefault();\n  event.returnValue = true;\n};\nonMounted(() => {\n  addEventListener(\"beforeunload\", beforeUnloadHandler);\n});\n\nonUnmounted(() => {\n  removeEventListener(\"beforeunload\", beforeUnloadHandler);\n  resetSlaDataErrors();\n  disableSettingModalOutsideClick.value = false;\n});\n</script>\n<style scoped>\ninput[type=\"radio\"] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  border: 2px solid #c5c2c2;\n  border-radius: 50%;\n  outline: none;\n  transition: all 0.2s ease;\n  background-color: white;\n}\n\ninput[type=\"radio\"]:checked {\n  background-color: black;\n  border: 2px solid #000;\n}\n\ninput[type=\"radio\"]:checked::after {\n  content: \"\";\n  background-color: #fff;\n}\n\ninput[type=\"radio\"]:focus {\n  outline: none !important;\n  box-shadow: none !important;\n}\n</style>\n","<template>\n  <div class=\"pb-8\">\n    <SlaPolicies v-if=\"slaActiveScreen.screen == 'list'\" />\n    <SlaPolicyView v-else-if=\"slaActiveScreen.screen == 'view'\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { slaActiveScreen } from \"@/stores/sla\";\nimport SlaPolicies from \"./SlaPolicies.vue\";\nimport SlaPolicyView from \"./SlaPolicyView.vue\";\nimport { createListResource } from \"frappe-ui\";\nimport { provide } from \"vue\";\n\nconst slaPolicyListData = createListResource({\n  doctype: \"HD Service Level Agreement\",\n  fields: [\"name\", \"default_sla\", \"enabled\", \"description\"],\n  orderBy: \"creation desc\",\n  start: 0,\n  pageLength: 999,\n  auto: true,\n});\n\nprovide(\"slaPolicyList\", slaPolicyListData);\n</script>\n","<template>\n  <div class=\"flex items-center cursor-pointer hover:bg-gray-50 rounded\">\n    <div\n      class=\"w-full py-3 pl-2\"\n      @click=\"holidayListActiveScreen = { screen: 'view', data: data }\"\n    >\n      <div class=\"text-base text-ink-gray-7 font-medium\">{{ data.name }}</div>\n      <div\n        v-if=\"data.description && data.description.length > 0\"\n        class=\"text-sm text-ink-gray-5 mt-1 whitespace-nowrap overflow-ellipsis overflow-hidden\"\n      >\n        {{ data.description }}\n      </div>\n    </div>\n    <div class=\"flex justify-between items-center pr-2\">\n      <div>\n        <Dropdown placement=\"right\" :options=\"dropdownOptions\">\n          <Button\n            icon=\"more-horizontal\"\n            variant=\"ghost\"\n            @click=\"isConfirmingDelete = false\"\n          />\n        </Dropdown>\n      </div>\n    </div>\n  </div>\n  <Dialog\n    :options=\"{ title: `Duplicate Holiday List` }\"\n    v-model=\"duplicateDialog.show\"\n  >\n    <template #body-content>\n      <div class=\"flex flex-col gap-4\">\n        <FormControl\n          label=\"New Holiday List Name\"\n          type=\"text\"\n          v-model=\"duplicateDialog.name\"\n        />\n      </div>\n    </template>\n    <template #actions>\n      <div class=\"flex gap-2 justify-end\">\n        <Button\n          variant=\"subtle\"\n          label=\"Close\"\n          @click=\"duplicateDialog.show = false\"\n        />\n        <Button variant=\"solid\" label=\"Duplicate\" @click=\"duplicate()\" />\n      </div>\n    </template>\n  </Dialog>\n</template>\n<script setup lang=\"ts\">\nimport { Button, createResource, toast } from \"frappe-ui\";\nimport { inject, ref } from \"vue\";\nimport { holidayListActiveScreen } from \"@/stores/holidayList\";\nimport { ConfirmDelete } from \"@/utils\";\n\nconst props = defineProps({\n  data: {\n    type: Object,\n    required: true,\n  },\n});\n\nconst holidayList = inject<any>(\"holidayList\");\n\nconst duplicateDialog = ref({\n  show: false,\n  name: \"\",\n});\n\nconst isConfirmingDelete = ref(false);\n\nconst dropdownOptions = [\n  {\n    label: \"Duplicate\",\n    onClick: () => {\n      duplicateDialog.value.show = true;\n      duplicateDialog.value.name = props.data.name + \" (Copy)\";\n    },\n    icon: \"copy\",\n  },\n  ...ConfirmDelete({\n    onConfirmDelete: () => deleteHolidayList(),\n    isConfirmingDelete,\n  }),\n];\n\nconst duplicate = () => {\n  createResource({\n    url: \"helpdesk.api.holiday_list.duplicate_holiday_list\",\n    params: {\n      docname: props.data.name,\n      new_name: duplicateDialog.value.name,\n    },\n    onSuccess: (data) => {\n      holidayList.reload();\n      toast.success(\"Holiday list duplicated\");\n      duplicateDialog.value = {\n        show: false,\n        name: \"\",\n      };\n      setTimeout(() => {\n        holidayListActiveScreen.value = {\n          screen: \"view\",\n          data: data,\n        };\n      }, 250);\n    },\n    auto: true,\n  });\n};\n\nconst deleteHolidayList = () => {\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n\n  holidayList.delete.submit(props.data.name, {\n    onSuccess: () => {\n      toast.success(\"Holiday list deleted\");\n    },\n  });\n};\n</script>\n","<template>\n  <div\n    v-if=\"holidayList.list.loading && !holidayList.list.data\"\n    class=\"flex items-center justify-center mt-12\"\n  >\n    <LoadingIndicator class=\"w-4\" />\n  </div>\n  <div v-else>\n    <div\n      v-if=\"holidayList.list.data?.length === 0\"\n      class=\"flex items-center justify-center rounded-md border border-gray-200 p-4\"\n    >\n      <div class=\"text-sm text-ink-gray-7\">No items in the list</div>\n    </div>\n    <div v-else>\n      <div class=\"flex text-sm text-gray-600\">\n        <div class=\"ml-2\">Schedule name</div>\n      </div>\n      <hr class=\"mx-2 mt-2\" />\n      <div>\n        <div v-for=\"holiday in holidayList.list.data\" :key=\"holiday.name\">\n          <HolidayListItem :data=\"holiday\" />\n          <hr class=\"mx-2\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport HolidayListItem from \"./HolidayListItem.vue\";\nimport { LoadingIndicator } from \"frappe-ui\";\n\nimport { inject } from \"vue\";\n\nconst holidayList = inject<any>(\"holidayList\");\n</script>\n","<template>\n  <div class=\"px-10 py-8\">\n    <SettingsLayoutHeader\n      title=\"Business Holidays\"\n      description=\"Set your teams working days, hours, and holidays using a template or custom schedule.\"\n    >\n      <template #actions>\n        <Button\n          label=\"New\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"goToNew()\"\n          icon-left=\"plus\"\n        />\n      </template>\n    </SettingsLayoutHeader>\n  </div>\n  <div class=\"overflow-y-auto pb-8 px-10\">\n    <HolidayList />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  holidayListActiveScreen,\n  resetHolidayData,\n} from \"@/stores/holidayList\";\nimport HolidayList from \"./HolidayList.vue\";\nimport SettingsLayoutHeader from \"../SettingsLayoutHeader.vue\";\n\nconst goToNew = () => {\n  resetHolidayData();\n  holidayListActiveScreen.value = {\n    screen: \"view\",\n    data: null,\n  };\n};\n</script>\n","<template>\n  <Dialog\n    v-model=\"dialog.show\"\n    :options=\"{\n      size: 'sm',\n      title: dialog.editing ? 'Edit Holiday' : 'Add Holiday',\n    }\"\n    @after-leave=\"resetForm\"\n  >\n    <template #body-content>\n      <div class=\"flex flex-col gap-4 mt-4\">\n        <div class=\"flex flex-col gap-1.5\">\n          <FormLabel label=\"Date\" required />\n          <DatePicker\n            :value=\"dayjs(dialog.holiday_date).format('MM-DD-YYYY')\"\n            @update:model-value=\"dialog.holiday_date = $event\"\n            :formatter=\"(date) => getFormattedDate(date)\"\n            variant=\"subtle\"\n            placeholder=\"Date\"\n            class=\"w-full\"\n            id=\"holiday_date\"\n            required\n            @change=\"errors.holiday_date = ''\"\n          />\n          <ErrorMessage :message=\"errors.holiday_date\" />\n        </div>\n        <div class=\"flex flex-col gap-1.5\">\n          <FormControl\n            :type=\"'textarea'\"\n            size=\"sm\"\n            variant=\"subtle\"\n            placeholder=\"National holiday, etc.\"\n            label=\"Description\"\n            v-model=\"dialog.description\"\n            required\n            @change=\"errors.description = ''\"\n          />\n          <ErrorMessage :message=\"errors.description\" />\n        </div>\n      </div>\n    </template>\n    <template #actions>\n      <div class=\"flex justify-end gap-2\">\n        <Button\n          variant=\"subtle\"\n          theme=\"gray\"\n          label=\"Cancel\"\n          @click=\"dialog.show = false\"\n        />\n        <Button\n          variant=\"solid\"\n          icon-left=\"plus\"\n          label=\"Add Holiday\"\n          @click=\"onSave\"\n        />\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { getFormattedDate } from \"@/utils\";\nimport {\n  Dialog,\n  FormControl,\n  Button,\n  FormLabel,\n  toast,\n  ErrorMessage,\n  DatePicker,\n} from \"frappe-ui\";\nimport { ref } from \"vue\";\nimport dayjs from \"dayjs\";\nimport { holidayData } from \"@/stores/holidayList\";\n\ninterface ModelType {\n  show: boolean;\n  holiday_date: null | string | Date;\n  description: string;\n  editing: null | any;\n}\n\nconst dialog = defineModel<ModelType>();\n\nconst errors = ref({\n  holiday_date: \"\",\n  description: \"\",\n});\n\nconst resetForm = () => {\n  dialog.value.holiday_date = new Date();\n  dialog.value.description = \"\";\n  errors.value = {\n    holiday_date: \"\",\n    description: \"\",\n  };\n};\n\nconst onSave = () => {\n  if (dialog.value.description?.trim() === \"\") {\n    errors.value.description = \"Please enter a description\";\n  }\n  if (!dialog.value.holiday_date) {\n    errors.value.holiday_date = \"Please enter a valid date\";\n  }\n\n  if (errors.value.holiday_date || errors.value.description) {\n    return;\n  }\n\n  const holidayDate = dayjs(dialog.value.holiday_date).startOf(\"day\");\n  const fromDate = dayjs(holidayData.value.from_date).startOf(\"day\");\n  const toDate = dayjs(holidayData.value.to_date).startOf(\"day\");\n\n  if (holidayDate.isBefore(fromDate) || holidayDate.isAfter(toDate)) {\n    toast.error(\n      `Holiday date must be between ${getFormattedDate(\n        holidayData.value.from_date\n      )} and ${getFormattedDate(holidayData.value.to_date)}`\n    );\n    return;\n  }\n\n  if (dialog.value.editing) {\n    const holidayExists = holidayData.value.holidays.find(\n      (h) =>\n        getFormattedDate(h.holiday_date) ===\n        getFormattedDate(dialog.value.holiday_date)\n    );\n\n    // If the holiday exists and user is trying to add a new holiday on the same date, show error\n    if (\n      holidayExists &&\n      getFormattedDate(holidayExists.holiday_date) !==\n        getFormattedDate(dialog.value.editing.holiday_date)\n    ) {\n      toast.error(\"Holiday already exists\");\n      return;\n    }\n    const holidayIndex = holidayData.value.holidays.indexOf(\n      dialog.value.editing\n    );\n    holidayData.value.holidays.splice(holidayIndex, 1, {\n      ...dialog.value,\n      weekly_off: 0,\n    });\n  } else {\n    const index = holidayData.value.holidays.findIndex(\n      (h) =>\n        getFormattedDate(h.holiday_date) ===\n        getFormattedDate(dialog.value.holiday_date)\n    );\n    if (index !== -1) {\n      toast.error(\"Holiday already exists\");\n      return;\n    }\n    holidayData.value.holidays.push({\n      ...dialog.value,\n      weekly_off: 0,\n    });\n  }\n\n  dialog.value = {\n    show: false,\n    holiday_date: null,\n    description: \"\",\n    editing: null,\n  };\n};\n</script>\n","<template>\n  <div class=\"rounded-md border px-2 border-gray-300 text-sm\">\n    <div\n      class=\"grid p-2 px-4 items-center gap-2\"\n      :style=\"{\n        gridTemplateColumns: '1fr 4fr 22px',\n      }\"\n    >\n      <div\n        v-for=\"column in columns\"\n        :key=\"column.key\"\n        class=\"text-gray-600 overflow-hidden whitespace-nowrap text-ellipsis\"\n      >\n        {{ column.label }}\n      </div>\n    </div>\n    <hr />\n    <div v-for=\"(holiday, index) in holidays\" :key=\"holiday.name\">\n      <div\n        class=\"grid gap-2 py-3.5 px-4 items-center\"\n        :style=\"{ gridTemplateColumns: '1fr 4fr 22px' }\"\n      >\n        <div\n          v-for=\"column in columns\"\n          :key=\"column.key\"\n          class=\"w-full overflow-hidden whitespace-nowrap text-ellipsis\"\n        >\n          <input\n            v-if=\"column.key === 'description'\"\n            :type=\"'text'\"\n            placeholder=\"Description\"\n            v-model=\"holiday[column.key]\"\n            class=\"!bg-white w-full text-base px-0 focus:!ring-0 border-none hover:bg-white outline-none no-underline focus:!outline-none\"\n          />\n          <div v-else>\n            {{ dayjs(holiday[column.key]).format(\"DD MMM YYYY\") }}\n          </div>\n        </div>\n        <div class=\"flex justify-end\">\n          <Dropdown placement=\"right\" :options=\"dropdownOptions(holiday)\">\n            <Button\n              icon=\"more-horizontal\"\n              variant=\"ghost\"\n              @click=\"isConfirmingDelete = false\"\n            />\n          </Dropdown>\n        </div>\n      </div>\n      <hr v-if=\"index !== holidays.length - 1\" />\n    </div>\n    <div v-if=\"holidays?.length === 0\" class=\"text-center p-4 text-gray-600\">\n      No items in the list\n    </div>\n  </div>\n  <AddHolidayModal v-model=\"dialog\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from \"vue\";\nimport dayjs from \"dayjs\";\nimport { ConfirmDelete, getFormattedDate } from \"@/utils\";\nimport { holidayData } from \"@/stores/holidayList\";\nimport AddHolidayModal from \"./Modals/AddHolidayModal.vue\";\n\nconst isConfirmingDelete = ref(false);\n\ninterface Holiday {\n  holiday_date: string | null;\n  description: string;\n  weekly_off?: number;\n}\n\nconst dropdownOptions = (holiday: Holiday) => [\n  {\n    label: \"Edit\",\n    onClick: () => editHoliday(holiday),\n    icon: \"edit\",\n  },\n  ...ConfirmDelete({\n    onConfirmDelete: () => deleteHoliday(holiday),\n    isConfirmingDelete,\n  }),\n];\n\nconst dialog = ref({\n  show: false,\n  holiday_date: null,\n  description: \"\",\n  editing: null,\n});\n\nconst holidays = computed(() => {\n  return holidayData.value.holidays.filter((item) => {\n    return item.weekly_off == 0;\n  });\n});\n\nconst columns = [\n  {\n    label: \"Date\",\n    key: \"holiday_date\",\n  },\n  {\n    label: \"Description\",\n    key: \"description\",\n  },\n];\n\nconst editHoliday = (holiday: Holiday) => {\n  dialog.value = {\n    show: true,\n    holiday_date: holiday.holiday_date,\n    description: holiday.description,\n    editing: holiday,\n  };\n};\n\nconst deleteHoliday = (holidayToDelete?: Holiday) => {\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n  const index = holidayData.value.holidays.findIndex((h: Holiday) => {\n    const holidayDate = getFormattedDate(h.holiday_date);\n    const editDate = getFormattedDate(holidayToDelete?.holiday_date);\n    return holidayDate === editDate;\n  });\n\n  holidayData.value.holidays.splice(index, 1);\n  isConfirmingDelete.value = false;\n};\n</script>\n","!function(e,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_isSameOrBefore=i()}(this,(function(){\"use strict\";return function(e,i){i.prototype.isSameOrBefore=function(e,i){return this.isSame(e,i)||this.isBefore(e,i)}}}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_weekday=t()}(this,(function(){\"use strict\";return function(e,t){t.prototype.weekday=function(e){var t=this.$locale().weekStart||0,i=this.$W,n=(i<t?i+7:i)-t;return this.$utils().u(e)?n:this.subtract(n,\"day\").add(e,\"day\")}}}));","export const getRepetitionText = (repetition: any) => {\n  const parts: string[] = [];\n\n  if (repetition.all) {\n    parts.push(\"week\");\n  } else {\n    if (repetition.first) parts.push(\"first\");\n    if (repetition.second) parts.push(\"second\");\n    if (repetition.third) parts.push(\"third\");\n    if (repetition.fourth) parts.push(\"fourth\");\n    if (repetition.fifth) parts.push(\"fifth\");\n\n    if (parts.length === 0) return \"\";\n\n    if (parts.length > 1) {\n      const last = parts.pop();\n      parts[parts.length - 1] = `${parts[parts.length - 1]} and ${last}`;\n    }\n\n    parts[0] = parts[0].charAt(0) + parts[0].slice(1);\n    return `Every ${parts.join(\", \")} week`;\n  }\n\n  return parts[0] ? `Every ${parts[0]}` : \"\";\n};\n","<template>\n  <div class=\"rounded-md border p-1 border-gray-300 text-sm\">\n    <div\n      class=\"grid p-2 items-center\"\n      :style=\"{\n        gridTemplateColumns: '1fr 4fr 22px',\n      }\"\n      v-if=\"holidays?.length !== 0\"\n    >\n      <div\n        v-for=\"column in columns\"\n        :key=\"column.key\"\n        class=\"text-gray-600 overflow-hidden whitespace-nowrap text-ellipsis\"\n      >\n        {{ column.label }}\n      </div>\n    </div>\n    <hr class=\"my-0.5\" v-if=\"holidays?.length !== 0\" />\n    <div v-for=\"(holiday, index) in holidays\" :key=\"holiday.day\">\n      <div\n        class=\"grid gap-2 px-2 py-2 items-center\"\n        :style=\"{ gridTemplateColumns: '1fr 4fr 22px' }\"\n      >\n        <div\n          v-for=\"column in columns\"\n          :key=\"column.key\"\n          class=\"w-full py-2 overflow-hidden whitespace-nowrap text-ellipsis\"\n        >\n          <div v-if=\"column.key === 'repetition'\">\n            {{ getRepetitionText(holiday[column.key]) }}\n          </div>\n          <div v-else>{{ holiday[column.key] }}</div>\n        </div>\n        <div class=\"flex justify-end\">\n          <Dropdown placement=\"right\" :options=\"dropdownOptions(holiday)\">\n            <Button\n              icon=\"more-horizontal\"\n              variant=\"ghost\"\n              @click=\"isConfirmingDelete = false\"\n            />\n          </Dropdown>\n        </div>\n      </div>\n      <hr class=\"my-0.5\" v-if=\"index !== holidays.length - 1\" />\n    </div>\n    <div v-if=\"holidays?.length === 0\" class=\"text-center p-4 text-gray-600\">\n      No items in the list\n    </div>\n  </div>\n  <Button\n    variant=\"subtle\"\n    @click=\"addHoliday\"\n    class=\"mt-2.5\"\n    label=\"Add Recurring Holiday\"\n    icon-left=\"plus\"\n  />\n  <Dialog\n    v-model=\"dialog\"\n    :options=\"{\n      size: 'md',\n      title: recurringHolidayData.isEditing\n        ? 'Edit Recurring Holiday'\n        : 'Add Recurring Holiday',\n    }\"\n  >\n    <template #body-content>\n      <div v-if=\"!props.holidayData.from_date || !props.holidayData.to_date\">\n        <div class=\"text-center p-4 text-gray-600\">\n          Please select start and end date first\n        </div>\n      </div>\n      <div v-else class=\"flex flex-col gap-4\">\n        <div class=\"flex flex-col gap-1.5\">\n          <FormLabel label=\"Day\" required />\n          <Select\n            :options=\"availableWorkDays\"\n            v-model=\"recurringHolidayData.day\"\n            :disabled=\"availableWorkDays.length === 0\"\n          />\n        </div>\n        <div class=\"flex flex-col gap-1.5\">\n          <FormLabel label=\"Repetition\" required />\n          <div class=\"grid grid-cols-2 gap-2 mt-2\">\n            <Checkbox\n              v-model=\"recurringHolidayData.repetition.all\"\n              label=\"Every week\"\n              :disabled=\"\n                recurringHolidayData.repetition.first ||\n                recurringHolidayData.repetition.second ||\n                recurringHolidayData.repetition.third ||\n                recurringHolidayData.repetition.fourth\n              \"\n            />\n            <Checkbox\n              v-model=\"recurringHolidayData.repetition.first\"\n              label=\"Every first week\"\n              :disabled=\"recurringHolidayData.repetition.all\"\n            />\n            <Checkbox\n              v-model=\"recurringHolidayData.repetition.second\"\n              label=\"Every second week\"\n              :disabled=\"recurringHolidayData.repetition.all\"\n            />\n            <Checkbox\n              v-model=\"recurringHolidayData.repetition.third\"\n              label=\"Every third week\"\n              :disabled=\"recurringHolidayData.repetition.all\"\n            />\n            <Checkbox\n              v-model=\"recurringHolidayData.repetition.fourth\"\n              label=\"Every fourth week\"\n              :disabled=\"recurringHolidayData.repetition.all\"\n            />\n            <Checkbox\n              v-model=\"recurringHolidayData.repetition.fifth\"\n              label=\"Every fifth week\"\n              :disabled=\"recurringHolidayData.repetition.all\"\n            />\n          </div>\n        </div>\n      </div>\n    </template>\n    <template #actions>\n      <Button\n        variant=\"solid\"\n        @click=\"saveHoliday\"\n        class=\"w-full\"\n        v-if=\"props.holidayData.from_date && props.holidayData.to_date\"\n        :label=\"\n          recurringHolidayData.isEditing ? 'Update Holiday' : 'Add Holiday'\n        \"\n        :icon-left=\"recurringHolidayData.isEditing ? 'edit-2' : 'plus'\"\n      />\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { updateWeeklyOffDates } from \"@/stores/holidayList\";\nimport { ConfirmDelete } from \"@/utils\";\nimport dayjs from \"dayjs\";\nimport isSameOrBefore from \"dayjs/plugin/isSameOrBefore\";\nimport weekday from \"dayjs/plugin/weekday\";\nimport { Checkbox, FormLabel, Select, toast } from \"frappe-ui\";\nimport { computed, ref } from \"vue\";\nimport { getRepetitionText } from \"./utils\";\n\ndayjs.extend(weekday);\ndayjs.extend(isSameOrBefore);\n\nconst dialog = ref(false);\nconst recurringHolidayData = ref({\n  day: null,\n  repetition: {\n    all: false,\n    first: false,\n    second: false,\n    third: false,\n    fourth: false,\n    fifth: false,\n  },\n  isEditing: false,\n  editIndex: -1,\n});\n\nconst props = defineProps({\n  holidays: {\n    type: Array<any>,\n    default: () => [],\n    required: true,\n  },\n  holidayData: {\n    type: Object,\n    default: () => {},\n    required: true,\n  },\n});\n\nconst columns = [\n  {\n    label: \"Day\",\n    key: \"day\",\n  },\n  {\n    label: \"Repetition\",\n    key: \"repetition\",\n  },\n];\n\nconst workDays = ref([\n  {\n    label: \"Monday\",\n    value: \"Monday\",\n  },\n  {\n    label: \"Tuesday\",\n    value: \"Tuesday\",\n  },\n  {\n    label: \"Wednesday\",\n    value: \"Wednesday\",\n  },\n  {\n    label: \"Thursday\",\n    value: \"Thursday\",\n  },\n  {\n    label: \"Friday\",\n    value: \"Friday\",\n  },\n  {\n    label: \"Saturday\",\n    value: \"Saturday\",\n  },\n  {\n    label: \"Sunday\",\n    value: \"Sunday\",\n  },\n]);\n\nconst dropdownOptions = (holiday: any) => [\n  {\n    label: \"Edit\",\n    onClick: () => editHoliday(holiday),\n    icon: \"edit\",\n  },\n  ...ConfirmDelete({\n    onConfirmDelete: () => deleteHoliday(holiday),\n    isConfirmingDelete,\n  }),\n];\n\nconst availableWorkDays = computed(() => {\n  const usedDays = new Set(\n    props.holidays\n      .filter(\n        (_, index) =>\n          !recurringHolidayData.value.isEditing ||\n          index !== recurringHolidayData.value.editIndex\n      )\n      .map((h) => h.day)\n  );\n\n  if (recurringHolidayData.value.isEditing && recurringHolidayData.value.day) {\n    usedDays.delete(recurringHolidayData.value.day);\n  }\n\n  return workDays.value.filter((day) => !usedDays.has(day.value));\n});\n\nconst isConfirmingDelete = ref(false);\n\nconst addHoliday = () => {\n  recurringHolidayData.value = {\n    day: null,\n    repetition: {\n      all: false,\n      first: false,\n      second: false,\n      third: false,\n      fourth: false,\n      fifth: false,\n    },\n    isEditing: false,\n    editIndex: -1,\n  };\n  dialog.value = true;\n};\n\nconst editHoliday = (holiday: any) => {\n  const index = props.holidays.findIndex((h) => h.day === holiday.day);\n  recurringHolidayData.value = {\n    ...JSON.parse(JSON.stringify(holiday)),\n    isEditing: true,\n    editIndex: index,\n  };\n  dialog.value = true;\n};\n\nconst saveHoliday = () => {\n  if (!recurringHolidayData.value.day) {\n    toast.error(\"Please select a day of the week\");\n    return;\n  }\n\n  const { all, first, second, third, fourth, fifth } =\n    recurringHolidayData.value.repetition;\n  if (!all && !first && !second && !third && !fourth && !fifth) {\n    toast.error(\"Please select at least one repetition option\");\n    return;\n  }\n\n  const holidayData = { ...recurringHolidayData.value };\n\n  if (holidayData.isEditing) {\n    if (holidayData.editIndex !== undefined && holidayData.editIndex >= 0) {\n      props.holidays[holidayData.editIndex] = { ...holidayData };\n      updateWeeklyOffDates();\n    } else {\n      toast.error(\"Error: Unable to find the holiday to update\");\n      return;\n    }\n  } else {\n    const isDuplicate = props.holidays.some(\n      (holiday) =>\n        holiday.day === holidayData.day &&\n        JSON.stringify(holiday.repetition) ===\n          JSON.stringify(holidayData.repetition)\n    );\n\n    if (isDuplicate) {\n      toast.error(\"Holiday with the same day and repetition already exists\");\n      return;\n    }\n\n    props.holidays.push({\n      ...holidayData,\n      isEditing: false,\n    });\n    updateWeeklyOffDates();\n  }\n  dialog.value = false;\n};\n\nconst deleteHoliday = (holiday: any) => {\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n  const index = props.holidays.findIndex((h: any) => {\n    return h.day === holiday.day;\n  });\n  props.holidays.splice(index, 1);\n  updateWeeklyOffDates();\n  dialog.value = false;\n  isConfirmingDelete.value = false;\n};\n</script>\n","<template>\n  <div class=\"w-max mx-auto\">\n    <div class=\"text-base font-medium mb-2 text-gray-800 ml-2.5\">\n      {{ formattedMonth }}\n    </div>\n    <div class=\"rounded-md text-sm\">\n      <div class=\"flex items-center text-xs uppercase\">\n        <div\n          class=\"flex size-7.5 items-center justify-center text-center text-gray-600\"\n          v-for=\"(d, i) in ['s', 'm', 't', 'w', 't', 'f', 's']\"\n          :key=\"i\"\n        >\n          {{ d }}\n        </div>\n      </div>\n      <div class=\"flex items-center\" v-for=\"(week, i) in datesAsWeeks\" :key=\"i\">\n        <div v-for=\"date in week\" :key=\"getFormattedDate(date)\">\n          <Popover v-if=\"isHoliday(date)\">\n            <template #target=\"{ open, close }\">\n              <div\n                class=\"flex size-7 cursor-pointer text-orange-700 bg-yellow-100 items-center justify-center rounded hover:bg-yellow-100 select-none m-[1px]\"\n                :class=\"{\n                  '!text-ink-gray-4 !bg-gray-100': isWeekOff(date),\n                }\"\n                @mouseover=\"handleMouseEnter(getFormattedDate(date), open)\"\n                @mouseleave=\"handleMouseLeave(getFormattedDate(date), close)\"\n                @click=\"\n                  () => {\n                    if (isWeekOff(date)) return;\n                    close();\n                    editHoliday(date);\n                  }\n                \"\n              >\n                {{ date.getDate() }}\n              </div>\n            </template>\n            <template #body-main=\"{ close: closePopover, open: openPopover }\">\n              <div\n                class=\"p-3 flex gap-2.5 text-ink-gray-9 w-80 border border-gray-100 rounded-md\"\n                @mouseover=\"\n                  handleMouseEnter(getFormattedDate(date), openPopover)\n                \"\n                @mouseleave=\"\n                  handleMouseLeave(getFormattedDate(date), closePopover)\n                \"\n              >\n                <div class=\"w-[5%]\">\n                  <div class=\"size-3.5 bg-orange-500 rounded-sm mt-1\" />\n                </div>\n                <div class=\"grow\">\n                  <div class=\"text-sm font-semibold\">\n                    {{ getHolidayDescription(date) }}\n                  </div>\n                  <div class=\"text-xs mt-1\">\n                    {{ date.toLocaleDateString() }}\n                  </div>\n                </div>\n                <Popover\n                  v-if=\"!isWeekOff(date)\"\n                  @close=\"isConfirmingDelete = false\"\n                >\n                  <template #target=\"{ open, close }\">\n                    <Button\n                      icon=\"more-horizontal\"\n                      variant=\"ghost\"\n                      @click=\"open\"\n                      @mouseleave=\"\n                        handleMouseLeave(\n                          getFormattedDate(date) + 'dropdown',\n                          close\n                        )\n                      \"\n                    />\n                  </template>\n                  <template\n                    #body-main=\"{ close: closeDropdown, open: openDropdown }\"\n                  >\n                    <div\n                      class=\"p-2 flex flex-col gap-1 w-40 text-ink-gray-9 border border-gray-100 rounded-md\"\n                      @mouseover=\"\n                        handleMouseEnter(getFormattedDate(date), openPopover);\n                        handleMouseEnter(\n                          getFormattedDate(date) + 'dropdown',\n                          openDropdown\n                        );\n                      \"\n                      @mouseleave=\"\n                        handleMouseLeave(getFormattedDate(date), closePopover);\n                        handleMouseLeave(\n                          getFormattedDate(date) + 'dropdown',\n                          closeDropdown\n                        );\n                      \"\n                    >\n                      <Button\n                        class=\"w-full flex !justify-start\"\n                        icon-left=\"edit\"\n                        variant=\"ghost\"\n                        label=\"Edit\"\n                        @click=\"\n                          () => {\n                            closePopover();\n                            closeDropdown();\n                            editHoliday(date);\n                          }\n                        \"\n                      />\n                      <Button\n                        class=\"w-full flex !justify-start\"\n                        icon-left=\"trash-2\"\n                        variant=\"ghost\"\n                        :label=\"\n                          isConfirmingDelete ? 'Confirm Delete' : 'Delete'\n                        \"\n                        :theme=\"isConfirmingDelete ? 'red' : 'gray'\"\n                        @click=\"\n                          (e) => {\n                            deleteHoliday(e, date, () => {\n                              closePopover();\n                              closeDropdown();\n                            });\n                          }\n                        \"\n                      />\n                    </div>\n                  </template>\n                </Popover>\n              </div>\n            </template>\n          </Popover>\n          <div\n            v-else\n            class=\"flex size-7 items-center justify-center rounded m-[1px] select-none\"\n            :class=\"{\n              'cursor-pointer hover:bg-surface-gray-2': isDateInRange(date),\n              'text-ink-gray-3':\n                // @ts-ignore\n                date.getMonth() !== currentMonth - 1 || !isDateInRange(date),\n              'bg-black text-ink-white hover:!bg-black/80 hover:text-ink-white':\n                getFormattedDate(date) === dateValue && isDateInRange(date),\n              'opacity-50 cursor-not-allowed': !isDateInRange(date),\n            }\"\n            @click=\"isDateInRange(date) ? addHoliday(date) : null\"\n          >\n            {{ date.getDate() }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <AddHolidayModal v-model=\"dialog\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { getFormattedDate, htmlToText } from \"@/utils\";\nimport { Popover } from \"frappe-ui\";\nimport { useDatePicker } from \"frappe-ui/src/components/DatePicker/useDatePicker\";\nimport { ref, watch } from \"vue\";\nimport { holidayData } from \"@/stores/holidayList\";\nimport dayjs from \"dayjs\";\nimport AddHolidayModal from \"./Modals/AddHolidayModal.vue\";\n\nconst dialog = ref({\n  show: false,\n  holiday_date: null,\n  description: \"\",\n  editing: null,\n});\n\nconst {\n  currentYear,\n  currentMonth,\n  today,\n  datesAsWeeks: daw,\n  formattedMonth,\n} = useDatePicker();\n// Workaround to fix type errors\nconst datesAsWeeks = daw as unknown as Date[][];\nconst isConfirmingDelete = ref(false);\nconst popoverTimeouts = ref({});\n\nconst props = defineProps({\n  year: {\n    type: Number,\n    required: true,\n  },\n  month: {\n    type: Number,\n    required: true,\n  },\n  holidays: {\n    type: Array<any>,\n    required: true,\n  },\n});\n\nconst dateValue = ref(getFormattedDate(today.value));\n\nconst handleMouseEnter = (date, callback) => {\n  if (popoverTimeouts.value[date]) {\n    clearTimeout(popoverTimeouts.value[date]);\n  }\n  popoverTimeouts.value[date] = setTimeout(() => {\n    callback();\n  }, 350);\n};\n\nconst handleMouseLeave = (date, callback) => {\n  if (popoverTimeouts.value[date]) {\n    clearTimeout(popoverTimeouts.value[date]);\n  }\n  popoverTimeouts.value[date] = setTimeout(() => {\n    callback();\n  }, 350);\n};\n\nconst addHoliday = (date) => {\n  dialog.value = {\n    holiday_date: date,\n    description: \"\",\n    show: true,\n    editing: null,\n  };\n};\n\nconst isDateInRange = (date: Date): boolean => {\n  if (!holidayData.value.from_date || !holidayData.value.to_date) return false;\n\n  const checkDate = dayjs(date).startOf(\"day\");\n  const from = dayjs(holidayData.value.from_date).startOf(\"day\");\n  const to = dayjs(holidayData.value.to_date).endOf(\"day\");\n\n  return (\n    (checkDate.isAfter(from) || checkDate.isSame(from, \"day\")) &&\n    (checkDate.isBefore(to) || checkDate.isSame(to, \"day\"))\n  );\n};\n\nconst isHoliday = (date: Date): boolean => {\n  if (!props.holidays?.length) return false;\n  const inputDate = dayjs(date).startOf(\"day\");\n\n  return props.holidays.some((holiday) => {\n    const holidayDate = dayjs(holiday.holiday_date).startOf(\"day\");\n    return holidayDate.isSame(inputDate);\n  });\n};\n\nconst isWeekOff = (date: Date): boolean => {\n  if (!props.holidays?.length) return false;\n\n  const inputDate = dayjs(date).startOf(\"day\");\n  return props.holidays.some((holiday) => {\n    const holidayDate = dayjs(holiday.holiday_date).startOf(\"day\");\n    return holidayDate.isSame(inputDate) && holiday.weekly_off == 1;\n  });\n};\n\nconst editHoliday = (date) => {\n  const holiday = props.holidays.find((h) => {\n    const holidayDate = getFormattedDate(h.holiday_date);\n    const editDate = getFormattedDate(date);\n    return holidayDate === editDate;\n  });\n  dialog.value = {\n    show: true,\n    holiday_date: holiday.holiday_date,\n    description: holiday.description,\n    editing: holiday,\n  };\n};\n\nconst deleteHoliday = (event, date, callback) => {\n  event.stopPropagation();\n  event.preventDefault();\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n  const holidayToDelete = props.holidays.find((h) => {\n    const holidayDate = getFormattedDate(h.holiday_date);\n    const editDate = getFormattedDate(date);\n    return holidayDate === editDate;\n  });\n  const index = props.holidays.findIndex((h) => {\n    const holidayDate = getFormattedDate(h.holiday_date);\n    const editDate = getFormattedDate(holidayToDelete.holiday_date);\n    return holidayDate === editDate;\n  });\n\n  props.holidays.splice(index, 1);\n  dialog.value = {\n    show: false,\n    holiday_date: null,\n    description: \"\",\n    editing: null,\n  };\n  isConfirmingDelete.value = false;\n  callback();\n};\n\nconst getHolidayDescription = (date: Date): string => {\n  const holiday = props.holidays.find((h) => {\n    const holidayDate = getFormattedDate(h.holiday_date);\n    const editDate = getFormattedDate(date);\n    return holidayDate === editDate;\n  });\n\n  const text = holiday?.weekly_off\n    ? `${htmlToText(holiday?.description || \"\")}: Recurring holiday`\n    : htmlToText(holiday?.description || \"\");\n\n  return text;\n};\n\nwatch(\n  () => [props.year, props.month],\n  ([newYear, newMonth]) => {\n    currentYear.value = newYear;\n    currentMonth.value = newMonth;\n  },\n  { immediate: true }\n);\n</script>\n","<template>\n  <div class=\"p-6.5 px-5 rounded-xl border border-gray-300\">\n    <div class=\"mb-6.5 flex justify-between items-center\">\n      <div class=\"ml-1\">\n        <Popover v-if=\"startYear !== endYear\">\n          <template #target=\"{ togglePopover }\">\n            <Button\n              class=\"flex items-center gap-2 font-semibold text-xl cursor-pointer select-none\"\n              variant=\"ghost\"\n              @click=\"togglePopover\"\n              :label=\"currentYear + ''\"\n              icon-right=\"chevron-down\"\n            />\n          </template>\n          <template #body-main=\"{ togglePopover }\">\n            <div class=\"w-24\">\n              <div ref=\"yearsContainer\" class=\"max-h-60 overflow-y-auto py-1\">\n                <div\n                  v-for=\"year in yearsList\"\n                  :key=\"year\"\n                  ref=\"yearItems\"\n                  class=\"cursor-pointer px-3 py-1.5 text-sm hover:bg-gray-100 flex items-center justify-between\"\n                  @click=\"onYearChange(togglePopover, year)\"\n                >\n                  {{ year }}\n                  <FeatherIcon\n                    name=\"check\"\n                    class=\"size-4\"\n                    v-if=\"year === currentYear\"\n                  />\n                </div>\n              </div>\n            </div>\n          </template>\n        </Popover>\n        <div\n          v-else\n          class=\"flex items-center gap-2 px-2 font-semibold text-xl select-none\"\n        >\n          {{ startYear }}\n        </div>\n      </div>\n      <div class=\"flex gap-2 items-center\">\n        <Button\n          variant=\"ghost\"\n          icon=\"chevron-left\"\n          :disabled=\"visibleMonths === 'first-half'\"\n          @click=\"visibleMonths = 'first-half'\"\n        />\n        <Button variant=\"ghost\" label=\"Today\" @click=\"goToToday()\" />\n        <Button\n          variant=\"ghost\"\n          icon=\"chevron-right\"\n          :disabled=\"visibleMonths === 'second-half'\"\n          @click=\"visibleMonths = 'second-half'\"\n        />\n      </div>\n    </div>\n    <div\n      class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5\"\n      v-if=\"visibleMonths === 'first-half'\"\n    >\n      <HLCalender\n        v-for=\"month in months.slice(0, 6)\"\n        :key=\"month\"\n        :year=\"currentYear\"\n        :month=\"month\"\n        :holidays=\"holidayData.holidays\"\n      />\n    </div>\n    <div\n      class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 justify-between gap-5\"\n      v-else\n    >\n      <HLCalender\n        v-for=\"month in months.slice(6, 12)\"\n        :key=\"month\"\n        :year=\"currentYear\"\n        :month=\"month\"\n        :holidays=\"holidayData.holidays\"\n      />\n    </div>\n    <div class=\"flex gap-2 items-center w-full justify-center mt-8\">\n      <div\n        :class=\"[\n          'size-1.5 rounded-full cursor-pointer',\n          {\n            'bg-black': visibleMonths === 'first-half',\n            'bg-gray-400': visibleMonths === 'second-half',\n          },\n        ]\"\n        @click=\"visibleMonths = 'first-half'\"\n      />\n      <div\n        :class=\"[\n          'size-1.5 rounded-full cursor-pointer',\n          {\n            'bg-black': visibleMonths === 'second-half',\n            'bg-gray-400': visibleMonths === 'first-half',\n          },\n        ]\"\n        @click=\"visibleMonths = 'second-half'\"\n      />\n    </div>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref, watch } from \"vue\";\nimport HLCalender from \"./HLCalender.vue\";\nimport dayjs from \"dayjs\";\nimport { holidayData } from \"@/stores/holidayList\";\nimport { Button, Popover } from \"frappe-ui\";\n\nconst visibleMonths = ref<\"first-half\" | \"second-half\">(\"first-half\");\nconst months = ref([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]);\nconst currentYear = ref(dayjs().year());\n\nconst startYear = ref(dayjs(holidayData.value.from_date || dayjs()).year());\nconst endYear = ref(dayjs(holidayData.value.to_date || dayjs()).year());\n\nconst yearsList = computed(() => {\n  const yearList = [];\n  for (let year = startYear.value; year <= endYear.value; year++) {\n    yearList.push(year);\n  }\n  return yearList;\n});\n\nconst onYearChange = (togglePopover: () => void, year: number) => {\n  currentYear.value = year;\n  if (year === dayjs(holidayData.value.from_date).year()) {\n    if (dayjs(holidayData.value.from_date).month() >= 6) {\n      visibleMonths.value = \"second-half\";\n    }\n  } else if (year === dayjs(holidayData.value.to_date).year()) {\n    if (dayjs(holidayData.value.to_date).month() >= 6) {\n      visibleMonths.value = \"first-half\";\n    }\n  } else {\n    visibleMonths.value = \"first-half\";\n  }\n  togglePopover();\n};\n\nconst goToToday = () => {\n  const today = dayjs();\n  currentYear.value = today.year();\n  visibleMonths.value = today.month() >= 6 ? \"second-half\" : \"first-half\";\n};\n\nwatch(\n  () => [holidayData.value.from_date, holidayData.value.to_date],\n  ([fromDate, toDate]) => {\n    fromDate = dayjs(fromDate);\n    toDate = dayjs(toDate);\n    startYear.value = fromDate.year();\n    endYear.value = toDate.year();\n    currentYear.value = fromDate.year();\n    visibleMonths.value = fromDate.month() >= 6 ? \"second-half\" : \"first-half\";\n  }\n);\n\nonMounted(() => {\n  const fromDate = dayjs(holidayData.value.from_date || dayjs());\n  visibleMonths.value = fromDate.month() >= 6 ? \"second-half\" : \"first-half\";\n});\n</script>\n","<template>\n  <div\n    v-if=\"holidayData.loading\"\n    class=\"flex items-center h-full justify-center\"\n  >\n    <LoadingIndicator class=\"w-4\" />\n  </div>\n  <div\n    v-if=\"!holidayData.loading\"\n    class=\"flex items-center justify-between sticky top-0 z-10 bg-white px-10 pt-8 pb-4\"\n  >\n    <div>\n      <div class=\"flex items-center gap-2\">\n        <Button\n          variant=\"ghost\"\n          icon-left=\"chevron-left\"\n          :label=\"holidayData?.holiday_list_name || 'New Business Holiday'\"\n          size=\"md\"\n          @click=\"goBack()\"\n          class=\"cursor-pointer -ml-4 hover:bg-transparent focus:bg-transparent focus:outline-none focus:ring-0 focus:ring-offset-0 focus-visible:none active:bg-transparent active:outline-none active:ring-0 active:ring-offset-0 active:text-ink-gray-5 font-semibold text-ink-gray-7 text-xl hover:opacity-70 !pr-0\"\n        />\n        <Badge\n          :variant=\"'subtle'\"\n          :theme=\"'orange'\"\n          size=\"sm\"\n          label=\"Unsaved changes\"\n          v-if=\"isDirty\"\n        />\n      </div>\n    </div>\n    <div class=\"flex gap-2 items-center\">\n      <Button\n        label=\"Save\"\n        theme=\"gray\"\n        variant=\"solid\"\n        @click=\"saveHoliday()\"\n        :disabled=\"Boolean(!isDirty && holidayListActiveScreen.data)\"\n        :loading=\"\n          holidayList.loading ||\n          updateHolidayResource.loading ||\n          getHolidayData.loading\n        \"\n      />\n    </div>\n  </div>\n\n  <div v-if=\"!holidayData.loading\" class=\"px-10 pb-8 overflow-y-scroll h-full\">\n    <div class=\"flex items-center gap-2 mt-2\">\n      <span class=\"text-sm\">\n        There are in total <b>{{ holidayData.holidays.length }}</b> holidays in\n        this list</span\n      >\n    </div>\n    <hr class=\"mb-8 mt-2\" />\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n      <div>\n        <FormControl\n          :type=\"'text'\"\n          size=\"sm\"\n          variant=\"subtle\"\n          placeholder=\"Name\"\n          label=\"Name\"\n          v-model=\"holidayData.holiday_list_name\"\n          required\n          @change=\"validateHoliday('holiday_list_name')\"\n        />\n        <ErrorMessage\n          :message=\"holidayDataErrors.holiday_list_name\"\n          class=\"mt-2\"\n        />\n      </div>\n      <FormControl\n        :type=\"'textarea'\"\n        size=\"sm\"\n        variant=\"subtle\"\n        placeholder=\"Description\"\n        label=\"Description\"\n        v-model=\"holidayData.description\"\n      />\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\">Valid from</span>\n        <span class=\"text-p-sm text-ink-gray-6\">\n          Choose the duration of this holiday list.\n        </span>\n      </div>\n      <div class=\"mt-3.5 flex gap-5 flex-col md:flex-row\">\n        <div class=\"w-full space-y-1.5\">\n          <FormLabel label=\"From date\" for=\"from_date\" required />\n          <DatePicker\n            v-model=\"holidayData.from_date\"\n            variant=\"subtle\"\n            placeholder=\"11/01/2025\"\n            class=\"w-full\"\n            id=\"from_date\"\n            :formatter=\"(date) => getFormattedDate(date)\"\n            :debounce=\"300\"\n            @update:model-value=\"updateDuration('from_date')\"\n          >\n            <template #prefix>\n              <LucideCalendar class=\"size-4\" />\n            </template>\n          </DatePicker>\n          <ErrorMessage\n            :message=\"\n              holidayDataErrors.from_date || holidayDataErrors.dateRange\n            \"\n          />\n        </div>\n        <div class=\"w-full space-y-1.5\">\n          <FormLabel label=\"To date\" for=\"to_date\" required />\n          <DatePicker\n            v-model=\"holidayData.to_date\"\n            variant=\"subtle\"\n            placeholder=\"25/12/2025\"\n            class=\"w-full\"\n            id=\"to_date\"\n            :formatter=\"(date) => getFormattedDate(date)\"\n            :debounce=\"300\"\n            @update:model-value=\"updateDuration('to_date')\"\n          >\n            <template #prefix>\n              <LucideCalendar class=\"size-4\" />\n            </template>\n          </DatePicker>\n          <ErrorMessage :message=\"holidayDataErrors.to_date\" />\n        </div>\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <div class=\"text-lg font-semibold text-ink-gray-8\">\n          Recurring holidays\n        </div>\n        <div class=\"text-p-sm text-ink-gray-6\">\n          Add recurring holidays such as weekends.\n        </div>\n      </div>\n      <div class=\"mt-5\">\n        <RecurringHolidaysList\n          :holidayData=\"holidayData\"\n          :holidays=\"holidayData.recurring_holidays\"\n        />\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex justify-between items-center\">\n        <div class=\"flex justify-between flex-col gap-1\">\n          <span class=\"text-lg font-semibold text-ink-gray-8\">Holidays</span>\n          <div class=\"text-p-sm text-ink-gray-6\">\n            Add holidays here to make sure theyre excluded from SLA\n            calculations.\n          </div>\n        </div>\n        <TabButtons\n          :buttons=\"[\n            {\n              value: 'calendar',\n              icon: 'calendar',\n            },\n            {\n              value: 'list',\n              icon: 'list',\n            },\n          ]\"\n          v-model=\"holidayListView\"\n        />\n      </div>\n      <div class=\"mt-5\">\n        <HolidaysTableView v-if=\"holidayListView === 'list'\" />\n        <HolidaysCalendarView v-else />\n      </div>\n      <div class=\"mt-2.5 flex justify-between items-center\">\n        <Button\n          variant=\"subtle\"\n          label=\"Add Holiday\"\n          @click=\"dialog.show = true\"\n          icon-left=\"plus\"\n        />\n        <!-- Indicators -->\n        <div class=\"flex gap-4\" v-if=\"holidayListView === 'calendar'\">\n          <div class=\"gap-1 flex items-center\">\n            <span class=\"bg-yellow-100 size-4 rounded-sm\" />\n            <span class=\"text-sm text-ink-gray-6\">Holidays</span>\n          </div>\n          <div class=\"gap-1 flex items-center\">\n            <span class=\"bg-gray-100 size-4 rounded-sm\" />\n            <span class=\"text-sm text-ink-gray-6\">Recurring holidays</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <AddHolidayModal v-model=\"dialog\" />\n  <ConfirmDialog\n    v-model=\"showConfirmDialog\"\n    title=\"Unsaved changes\"\n    message=\"Are you sure you want to go back? Unsaved changes will be lost.\"\n    :onConfirm=\"goBack\"\n    :onCancel=\"() => (showConfirmDialog = false)\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  holidayData,\n  holidayDataErrors,\n  holidayListActiveScreen,\n  updateWeeklyOffDates,\n  validateHoliday,\n} from \"@/stores/holidayList\";\nimport {\n  Button,\n  createResource,\n  DatePicker,\n  FormControl,\n  LoadingIndicator,\n  TabButtons,\n  toast,\n} from \"frappe-ui\";\nimport { inject, onMounted, onUnmounted, ref, watch } from \"vue\";\nimport HolidaysTableView from \"./HolidaysTableView.vue\";\nimport RecurringHolidaysList from \"./RecurringHolidaysList.vue\";\n\nimport ConfirmDialog from \"@/components/ConfirmDialog.vue\";\nimport { slaActiveScreen } from \"@/stores/sla\";\nimport { getFormattedDate, htmlToText } from \"@/utils\";\nimport dayjs from \"dayjs\";\nimport FormLabel from \"frappe-ui/src/components/FormLabel.vue\";\nimport {\n  disableSettingModalOutsideClick,\n  setActiveSettingsTab,\n} from \"../settingsModal\";\nimport HolidaysCalendarView from \"./HolidaysCalendarView.vue\";\nimport AddHolidayModal from \"./Modals/AddHolidayModal.vue\";\n\nconst dialog = ref({\n  show: false,\n  holiday_date: new Date(),\n  description: \"\",\n  editing: null,\n});\n\nconst isDirty = ref(false);\nconst initialData = ref(null);\nconst holidayListView = ref(\"calendar\");\n\nconst showConfirmDialog = ref(false);\n\nconst holidayList = inject<any>(\"holidayList\");\n\nconst getHolidayData = createResource({\n  url: \"helpdesk.api.holiday_list.get_holiday_list\",\n  params: {\n    docname: holidayListActiveScreen.value.data?.name,\n  },\n  onSuccess(data) {\n    holidayData.value = data;\n    initialData.value = JSON.stringify(data);\n  },\n  transform(data) {\n    for (let holiday of data.holidays) {\n      holiday.description = htmlToText(holiday.description);\n    }\n    data.recurring_holidays = JSON.parse(data.recurring_holidays || \"[]\");\n    return data;\n  },\n});\n\nif (holidayListActiveScreen.value.data?.name) {\n  holidayData.value.loading = true;\n  getHolidayData.fetch();\n} else {\n  disableSettingModalOutsideClick.value = true;\n}\n\nconst updateDuration = (key) => {\n  validateHoliday(key);\n  if (\n    !holidayDataErrors.value.dateRange ||\n    holidayDataErrors.value.dateRange === \"\"\n  ) {\n    updateWeeklyOffDates();\n  }\n};\n\nconst goBack = () => {\n  if (isDirty.value && !showConfirmDialog.value) {\n    showConfirmDialog.value = true;\n    return;\n  }\n  if (!holidayListActiveScreen.value.data && !showConfirmDialog.value) {\n    showConfirmDialog.value = true;\n    return;\n  }\n  if (holidayListActiveScreen.value.previousScreen) {\n    setActiveSettingsTab(\"SLA Policies\");\n\n    slaActiveScreen.value = {\n      screen: \"view\",\n      data: { name: holidayListActiveScreen.value.previousScreen.data },\n      fetchData: false,\n    };\n  }\n  showConfirmDialog.value = false;\n  // Workaround fix for settings modal not closing after going back\n  setTimeout(() => {\n    holidayListActiveScreen.value = {\n      screen: \"list\",\n      data: null,\n    };\n  }, 250);\n};\n\nconst saveHoliday = () => {\n  const validationErrors = validateHoliday();\n  if (Object.values(validationErrors).some((error) => error)) {\n    toast.error(\n      \"Invalid fields, check if all are filled in and values are correct.\"\n    );\n    return;\n  }\n\n  if (holidayListActiveScreen.value.data) {\n    updateHoliday();\n  } else {\n    createHoliday();\n  }\n};\n\nconst createHoliday = () => {\n  const holidays = holidayData.value.holidays.map((holiday) => {\n    return {\n      ...holiday,\n      holiday_date: dayjs(holiday.holiday_date).format(\"YYYY-MM-DD\"),\n    };\n  });\n  holidayList.insert.submit(\n    {\n      holiday_list_name: holidayData.value.holiday_list_name,\n      description: holidayData.value.description,\n      from_date: holidayData.value.from_date,\n      to_date: holidayData.value.to_date,\n      holidays: holidays,\n      recurring_holidays: JSON.stringify(holidayData.value.recurring_holidays),\n    },\n    {\n      onSuccess(data) {\n        toast.success(\"Holiday list created\");\n        holidayListActiveScreen.value.data = data;\n        holidayListActiveScreen.value.screen = \"view\";\n        getHolidayData.submit({\n          docname: data.name,\n        });\n      },\n    }\n  );\n};\n\nconst updateHolidayResource = createResource({\n  url: \"helpdesk.api.holiday_list.update_holiday_list\",\n  onSuccess(data) {\n    holidayListActiveScreen.value.data = data;\n    getHolidayData.submit({\n      docname: data.name,\n    });\n    toast.success(\"Holiday list updated\");\n  },\n});\n\nconst updateHoliday = () => {\n  const holidays = holidayData.value.holidays.map((holiday) => {\n    return {\n      ...holiday,\n      holiday_date: dayjs(holiday.holiday_date).format(\"YYYY-MM-DD\"),\n    };\n  });\n\n  updateHolidayResource.submit({\n    docname: holidayListActiveScreen.value.data.name,\n    doc: {\n      holiday_list_name: holidayData.value.holiday_list_name,\n      description: holidayData.value.description,\n      from_date: holidayData.value.from_date,\n      to_date: holidayData.value.to_date,\n      holidays: holidays,\n      recurring_holidays: JSON.stringify(holidayData.value.recurring_holidays),\n    },\n  });\n};\n\nwatch(\n  holidayData,\n  (newVal) => {\n    if (!initialData.value) return;\n    isDirty.value = JSON.stringify(newVal) != initialData.value;\n    if (isDirty.value) {\n      disableSettingModalOutsideClick.value = true;\n    } else {\n      disableSettingModalOutsideClick.value = false;\n    }\n  },\n  { deep: true }\n);\n\nconst beforeUnloadHandler = (event) => {\n  if (!isDirty.value) return;\n  event.preventDefault();\n  event.returnValue = true;\n};\n\nonMounted(() => {\n  addEventListener(\"beforeunload\", beforeUnloadHandler);\n});\n\nonUnmounted(() => {\n  removeEventListener(\"beforeunload\", beforeUnloadHandler);\n  holidayDataErrors.value = {\n    holiday_list_name: \"\",\n    from_date: \"\",\n    to_date: \"\",\n  };\n  disableSettingModalOutsideClick.value = false;\n});\n</script>\n\n<style scoped>\ninput[type=\"radio\"] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  border: 2px solid #c5c2c2;\n  border-radius: 50%;\n  outline: none;\n  transition: all 0.2s ease;\n  background-color: white;\n}\n\ninput[type=\"radio\"]:checked {\n  background-color: black;\n  border: 2px solid #000;\n}\n\ninput[type=\"radio\"]:checked::after {\n  content: \"\";\n  background-color: #fff;\n}\n\ninput[type=\"radio\"]:focus {\n  outline: none !important;\n  box-shadow: none !important;\n}\n</style>\n","<template>\n  <div class=\"pb-8\">\n    <Holidays v-if=\"holidayListActiveScreen.screen == 'list'\" />\n    <HolidayView v-else-if=\"holidayListActiveScreen.screen == 'view'\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { holidayListActiveScreen } from \"@/stores/holidayList\";\nimport Holidays from \"./Holidays.vue\";\nimport HolidayView from \"./HolidayView.vue\";\nimport { createListResource } from \"frappe-ui\";\nimport { provide } from \"vue\";\n\nconst holidayListData = createListResource({\n  doctype: \"HD Service Holiday List\",\n  fields: [\"name\", \"description\"],\n  orderBy: \"creation desc\",\n  start: 0,\n  pageLength: 999,\n  auto: true,\n});\n\nprovide(\"holidayList\", holidayListData);\n</script>\n","import { call, createListResource } from \"frappe-ui\";\nimport { computed, reactive } from \"vue\";\n\nexport const fieldDependenciesList = createListResource({\n  doctype: \"HD Form Script\",\n  filters: { is_standard: 1, name: [\"like\", \"%Field Dependency%\"] },\n  fields: [\"name\", \"enabled\", \"owner\"],\n  auto: true,\n  cache: [\"FD\", \"List\"],\n  orderBy: \"modified desc\",\n});\n\nexport const hiddenChildFields = computed(() => {\n  let _fields = [];\n  fieldDependenciesList.data?.forEach((item) => {\n    let [_, parent, child] = item.name.split(\"-\");\n    if (parent && child) {\n      _fields.push(child);\n      _fields.push(parent);\n    }\n  });\n  return _fields;\n});\n\nconst optionsMap = reactive({});\n\nexport async function getFieldOptions(field: any): Promise<string[]> {\n  if (optionsMap[field.value]) {\n    return optionsMap[field.value];\n  }\n\n  if (field.type === \"Select\") {\n    optionsMap[field.value] = field.options.split(\"\\n\");\n    return optionsMap[field.value];\n  } else if (field.type === \"Link\") {\n    let options = await call(\"frappe.client.get_list\", {\n      doctype: field.options,\n      fields: [\"name\"],\n      limit_page_length: 999,\n    });\n    optionsMap[field.value] = options.map((o) => o.name);\n    return optionsMap[field.value];\n  }\n}\n","<template>\n  <Tooltip text=\"View documentation\">\n    <a :href=\"url\" target=\"_blank\">\n      <lucide-info class=\"h-4 w-4 text-ink-gray-6\" :class=\"color\" />\n    </a>\n  </Tooltip>\n</template>\n\n<script setup lang=\"ts\">\ndefineProps<{\n  url: string;\n  color?: string;\n}>();\n</script>\n\n<style scoped></style>\n","<template>\n  <Combobox\n    v-model=\"selectedValue\"\n    :multiple=\"multiple\"\n    nullable\n    v-slot=\"{ open: isComboboxOpen }\"\n  >\n    <Popover class=\"w-full\" v-model:show=\"showOptions\" :placement=\"placement\">\n      <template\n        #target=\"{ open: openPopover, togglePopover, close: closePopover }\"\n      >\n        <slot\n          name=\"target\"\n          v-bind=\"{\n            open: openPopover,\n            close: closePopover,\n            togglePopover,\n            isOpen: isComboboxOpen,\n          }\"\n        >\n          <div class=\"w-full space-y-1.5\">\n            <label v-if=\"$props.label\" class=\"block text-xs text-gray-600\">\n              {{ $props.label }}\n            </label>\n            <button\n              class=\"flex h-7 w-full items-center justify-between gap-2 rounded bg-gray-100 py-1 px-2 transition-colors hover:bg-gray-200 focus:ring-2 focus:ring-gray-400\"\n              :class=\"[\n                isComboboxOpen ? 'bg-gray-200' : '',\n                $props.buttonClasses,\n                disabled ? 'cursor-not-allowed opacity-50' : '',\n              ]\"\n              @click=\"\n                () => {\n                  !disabled && togglePopover();\n                }\n              \"\n            >\n              <div class=\"flex flex-1 items-center gap-2 overflow-hidden\">\n                <slot name=\"prefix\" />\n                <span\n                  v-if=\"selectedValue\"\n                  class=\"flex-1 truncate text-left text-base leading-5\"\n                >\n                  {{ displayValue(selectedValue) }}\n                </span>\n                <span v-else class=\"text-base leading-5 text-gray-600\">\n                  {{ placeholder || \"\" }}\n                </span>\n                <slot name=\"suffix\" />\n              </div>\n              <FeatherIcon\n                v-show=\"!loading\"\n                name=\"chevron-down\"\n                class=\"h-4 w-4 text-gray-600\"\n                aria-hidden=\"true\"\n              />\n              <LoadingIndicator\n                class=\"h-4 w-4 text-gray-600\"\n                v-show=\"loading\"\n              />\n            </button>\n          </div>\n        </slot>\n      </template>\n      <template #body=\"{ isOpen, togglePopover }\">\n        <div v-show=\"isOpen\">\n          <div\n            class=\"relative mt-1 overflow-hidden rounded-lg bg-white text-base shadow-2xl\"\n            :class=\"bodyClasses\"\n          >\n            <ComboboxOptions\n              class=\"flex max-h-[15rem] flex-col overflow-hidden p-1.5\"\n              static\n            >\n              <div\n                v-if=\"!hideSearch\"\n                class=\"relative mb-1 w-full flex-shrink-0\"\n              >\n                <ComboboxInput\n                  ref=\"searchInput\"\n                  class=\"form-input w-full\"\n                  type=\"text\"\n                  :value=\"query\"\n                  @change=\"query = $event.target.value\"\n                  autocomplete=\"off\"\n                  placeholder=\"Search\"\n                />\n                <button\n                  class=\"absolute right-0 inline-flex h-7 w-7 items-center justify-center\"\n                  @click=\"selectedValue = null\"\n                >\n                  <FeatherIcon name=\"x\" class=\"w-4\" />\n                </button>\n              </div>\n              <div class=\"w-full flex-1 overflow-y-auto\">\n                <div\n                  v-for=\"group in groups\"\n                  :key=\"group.key\"\n                  v-show=\"group.items.length > 0\"\n                >\n                  <div\n                    v-if=\"group.group && !group.hideLabel\"\n                    class=\"sticky top-0 truncate bg-white px-2.5 py-1.5 text-sm font-medium text-gray-600\"\n                  >\n                    {{ group.group }}\n                  </div>\n                  <ComboboxOption\n                    as=\"template\"\n                    v-for=\"(option, idx) in group.items.slice(0, 50)\"\n                    :key=\"option?.value || idx\"\n                    :value=\"option\"\n                    v-slot=\"{ active, selected }\"\n                  >\n                    <li\n                      :class=\"[\n                        'flex h-7 cursor-pointer items-center justify-between rounded px-2.5 text-base',\n                        { 'bg-gray-100': active },\n                      ]\"\n                    >\n                      <div\n                        class=\"flex flex-1 items-center gap-2 overflow-hidden\"\n                      >\n                        <div\n                          v-if=\"$slots['item-prefix'] || $props.multiple\"\n                          class=\"flex-shrink-0\"\n                        >\n                          <slot\n                            name=\"item-prefix\"\n                            v-bind=\"{ active, selected, option }\"\n                          >\n                            <LucideSquare\n                              v-show=\"!isOptionSelected(option)\"\n                              class=\"h-4 w-4 text-gray-700\"\n                            />\n                            <LucideCheckSquare\n                              v-show=\"isOptionSelected(option)\"\n                              class=\"h-4 w-4 text-gray-700\"\n                            />\n                          </slot>\n                        </div>\n                        <span class=\"flex-1 truncate\">\n                          {{ getLabel(option) }}\n                        </span>\n                      </div>\n\n                      <div\n                        v-if=\"$slots['item-suffix'] || option?.description\"\n                        class=\"ml-2 flex-shrink-0\"\n                      >\n                        <slot\n                          name=\"item-suffix\"\n                          v-bind=\"{ active, selected, option }\"\n                        >\n                          <div\n                            v-if=\"option?.description\"\n                            class=\"text-sm text-gray-600\"\n                          >\n                            {{ option.description }}\n                          </div>\n                        </slot>\n                      </div>\n                    </li>\n                  </ComboboxOption>\n                </div>\n              </div>\n              <li\n                v-if=\"groups.length == 0\"\n                class=\"rounded-md px-2.5 py-1.5 text-base text-gray-600\"\n              >\n                No results found\n              </li>\n            </ComboboxOptions>\n\n            <div\n              v-if=\"$slots.footer || showFooter || multiple\"\n              class=\"border-t p-1\"\n            >\n              <slot name=\"footer\" v-bind=\"{ togglePopover }\">\n                <div\n                  v-if=\"multiple\"\n                  class=\"flex items-center justify-end gap-1\"\n                >\n                  <Button\n                    v-if=\"!areAllOptionsSelected\"\n                    label=\"Select All\"\n                    @click.stop=\"selectAll\"\n                  />\n                </div>\n                <div v-else class=\"flex items-center justify-end\">\n                  <Button label=\"Clear\" @click.stop=\"selectedValue = null\" />\n                </div>\n              </slot>\n            </div>\n          </div>\n        </div>\n      </template>\n    </Popover>\n  </Combobox>\n</template>\n\n<script>\nimport {\n  Combobox,\n  ComboboxButton,\n  ComboboxInput,\n  ComboboxOption,\n  ComboboxOptions,\n} from \"@headlessui/vue\";\nimport { LoadingIndicator, Popover } from \"frappe-ui\";\nimport { nextTick } from \"vue\";\nimport LucideCheckSquare from \"~icons/lucide/check-square\";\nimport LucideSquare from \"~icons/lucide/square\";\n\nexport default {\n  name: \"Autocomplete\",\n  props: [\n    \"label\",\n    \"modelValue\",\n    \"options\",\n    \"placeholder\",\n    \"bodyClasses\",\n    \"multiple\",\n    \"loading\",\n    \"hideSearch\",\n    \"autoFocus\",\n    \"placement\",\n    \"showFooter\",\n    \"buttonClasses\",\n    \"disabled\",\n  ],\n  emits: [\"update:modelValue\", \"update:query\", \"change\"],\n  components: {\n    Popover,\n    Combobox,\n    ComboboxInput,\n    ComboboxOptions,\n    ComboboxOption,\n    ComboboxButton,\n    LucideCheckSquare,\n    LucideSquare,\n  },\n  expose: [\"togglePopover\"],\n  data() {\n    return {\n      query: \"\",\n      showOptions: false,\n    };\n  },\n  computed: {\n    selectedValue: {\n      get() {\n        let _selectedOptions;\n        if (!this.multiple) {\n          _selectedOptions = this.findOption(this.modelValue);\n          if (this.modelValue && !_selectedOptions) {\n            _selectedOptions = this.sanitizeOption(this.modelValue);\n          }\n          return _selectedOptions;\n        }\n\n        _selectedOptions = this.modelValue?.map((v) => {\n          const option = this.findOption(v);\n          if (option) return option;\n          return this.sanitizeOption(v);\n        });\n        if (this.modelValue && !_selectedOptions.length) {\n          _selectedOptions = this.sanitizeOptions(this.modelValue);\n        }\n        return _selectedOptions;\n      },\n      set(val) {\n        this.query = \"\";\n        if (val && !this.multiple) this.showOptions = false;\n        this.$emit(\"update:modelValue\", val);\n      },\n    },\n    groups() {\n      if (!this.options || this.options.length == 0) return [];\n\n      let groups = this.options[0]?.group\n        ? this.options\n        : [{ group: \"\", items: this.sanitizeOptions(this.options) }];\n\n      return groups\n        .map((group, i) => {\n          return {\n            key: i,\n            group: group.group,\n            hideLabel: group.hideLabel || false,\n            items: this.filterOptions(this.sanitizeOptions(group.items)),\n          };\n        })\n        .filter((group) => group.items.length > 0);\n    },\n    allOptions() {\n      return this.groups.flatMap((group) => group.items);\n    },\n    areAllOptionsSelected() {\n      if (!this.multiple) return false;\n      return this.allOptions.length === this.selectedValue?.length;\n    },\n  },\n  watch: {\n    query(q) {\n      this.$emit(\"update:query\", q);\n    },\n    showOptions(val) {\n      if (val) nextTick(() => this.$refs.searchInput?.$el?.focus());\n    },\n  },\n  methods: {\n    togglePopover(val) {\n      this.showOptions = val ?? !this.showOptions;\n    },\n    findOption(option) {\n      if (!option) return option;\n      return this.allOptions.find((o) => o.value === (option.value || option));\n    },\n    filterOptions(options) {\n      if (!this.query) return options;\n      return fuzzySearch(options, {\n        term: this.query,\n        keys: [\"label\", \"value\"],\n      });\n    },\n    displayValue(option) {\n      if (!option) return \"\";\n\n      if (!this.multiple) {\n        if (typeof option === \"object\") {\n          return this.getLabel(option);\n        }\n        let selectedOption = this.allOptions.find((o) => o.value === option);\n        return this.getLabel(selectedOption);\n      }\n\n      if (!Array.isArray(option)) return \"\";\n\n      if (option.length === 0) return \"\";\n      if (option.length === 1) return this.getLabel(option[0]);\n      return `${option.length} values`;\n      // in case of `multiple`, option is an array of values\n      // so the display value should be comma separated labels\n      // return option\n      // \t.map((v) => {\n      // \t\tif (typeof v === 'object') {\n      // \t\t\treturn this.getLabel(v)\n      // \t\t}\n      // \t\tlet selectedOption = this.allOptions.find((o) => o.value === v)\n      // \t\treturn this.getLabel(selectedOption)\n      // \t})\n      // \t.join(', ')\n    },\n    getLabel(option) {\n      if (typeof option !== \"object\") return option;\n      return option?.label || option?.value || \"No label\";\n    },\n    sanitizeOptions(options) {\n      if (!options) return [];\n      // in case the options are just strings, convert them to objects\n      return options.map((option) => this.sanitizeOption(option));\n    },\n    sanitizeOption(option) {\n      return typeof option === \"string\"\n        ? { label: option, value: option }\n        : option;\n    },\n    isOptionSelected(option) {\n      if (!this.multiple) {\n        return this.selectedValue?.value === option.value;\n      }\n      return this.selectedValue?.find((v) => v && v.value === option.value);\n    },\n    selectAll() {\n      this.selectedValue = this.allOptions;\n    },\n    fuzzySearch(arr, { term, keys }) {\n      // search for term in all keys of arr items and sort by relevance\n      const lowerCaseTerm = term.toLowerCase();\n      const results = arr.reduce((acc, item) => {\n        const score = keys.reduce((acc, key) => {\n          const value = item[key];\n          if (value) {\n            const match = value.toLowerCase().indexOf(lowerCaseTerm);\n            if (match !== -1) {\n              return acc + match + 1;\n            }\n          }\n          return acc;\n        }, 0);\n        if (score) {\n          acc.push({ item, score });\n        }\n        return acc;\n      }, []);\n      return results.sort((a, b) => a.score - b.score).map((item) => item.item);\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"flex justify-between items-start flex-col gap-6\">\n    <span class=\"text-sm text-ink-gray-5 pt-4 w-full\"\n      >Set visibility and mandatory criteria for\n      {{ selections.childField || \"child\" }} field:</span\n    >\n    <div class=\"flex flex-col gap-4 w-full pb-2\">\n      <!-- Display Criteria -->\n      <div class=\"flex items-center gap-3 justify-between\">\n        <div class=\"flex gap-3 items-center\">\n          <Switch v-model=\"fieldCriteriaState.display.enabled\" />\n          <div class=\"flex items-center gap-1\">\n            <span class=\"text-sm text-ink-gray-5\"\n              >Show {{ selections.childField }} if\n              {{ selections.parentField }} is set to</span\n            >\n            <DocumentationButton\n              url=\"https://docs.frappe.io/helpdesk/field-dependency#handling-visibility-of-child-field\"\n              color=\"!text-ink-gray-6\"\n            />\n          </div>\n        </div>\n        <MultiSelectCombobox\n          :disabled=\"!fieldCriteriaState.display.enabled\"\n          class=\"min-w-[120px] max-w-[120px]\"\n          :options=\"fieldCriteriaOptions\"\n          :model-value=\"fieldCriteriaState.display.value\"\n          @update:model-value=\"handleCriteriaSelection($event, 'display')\"\n          :multiple=\"true\"\n          placeholder=\"Select Child Field values\"\n          placement=\"top\"\n        />\n      </div>\n      <!-- Mandatory Criteria -->\n      <div class=\"flex items-center gap-3 justify-between w-full\">\n        <div class=\"flex gap-3 items-center\">\n          <Switch v-model=\"fieldCriteriaState.mandatory.enabled\" />\n          <div class=\"flex items-center gap-1\">\n            <span class=\"text-sm text-ink-gray-5\"\n              >Make {{ selections.childField }} mandatory if\n              {{ selections.parentField }} is set to</span\n            >\n            <DocumentationButton\n              url=\"https://docs.frappe.io/helpdesk/field-dependency#handling-if-the-child-field-is-mandatory\"\n              color=\"!text-ink-gray-6\"\n            />\n          </div>\n        </div>\n        <MultiSelectCombobox\n          :disabled=\"!fieldCriteriaState.mandatory.enabled\"\n          class=\"min-w-[120px] max-w-[120px]\"\n          :options=\"fieldCriteriaOptions\"\n          :model-value=\"fieldCriteriaState.mandatory.value\"\n          @update:model-value=\"handleCriteriaSelection($event, 'mandatory')\"\n          :multiple=\"true\"\n          placeholder=\"Select Child Field values\"\n          placement=\"top\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport DocumentationButton from \"@/components/DocumentationButton.vue\";\nimport MultiSelectCombobox from \"@/components/frappe-ui/MultiSelectCombobox.vue\";\nimport { getMeta } from \"@/stores/meta\";\nimport { Switch } from \"frappe-ui\";\nimport { computed } from \"vue\";\n\nconst props = defineProps<{\n  parentFieldValues: string[];\n}>();\n\nconst fieldCriteriaState = defineModel<{\n  display: { enabled: boolean; value: Record<\"label\" | \"value\", string>[] };\n  mandatory: { enabled: boolean; value: Record<\"label\" | \"value\", string>[] };\n}>();\nconst state = defineModel(\"selections\") as any;\n\nconst { getField } = getMeta(\"HD Ticket\");\n\nconst selections = computed(() => {\n  let childField = state.value.selectedChildField;\n  let parentField = state.value.selectedParentField;\n  childField = getField(childField)?.label;\n  parentField = getField(parentField)?.label;\n  return { childField, parentField };\n});\n\nconst fieldCriteriaOptions = computed(() => {\n  const _options = [{ label: \"Any\", value: \"Any\" }];\n  props.parentFieldValues.forEach((value) => {\n    if (!_options.some((o) => o.value === value)) {\n      _options.push({ label: value, value });\n    }\n  });\n  return _options;\n});\n\nfunction handleCriteriaSelection(\n  values: { label: string; value: string }[],\n  stateKey: \"display\" | \"mandatory\"\n) {\n  const _values = values.map((v) => v.value);\n  fieldCriteriaState.value[stateKey].value = values;\n  if (_values.length === 0) {\n    fieldCriteriaState.value[stateKey].value = [{ label: \"Any\", value: \"Any\" }];\n  } else if (_values[0] === \"Any\" && _values.length > 1) {\n    fieldCriteriaState.value[stateKey].value = _values\n      .filter((value) => value !== \"Any\")\n      .map((value) => ({ label: value, value }));\n  } else if (_values.at(-1) === \"Any\" && _values.length > 1) {\n    fieldCriteriaState.value[stateKey].value = [{ label: \"Any\", value: \"Any\" }];\n  }\n}\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"flex gap-3 w-full justify-between flex-1\">\n    <div class=\"flex-1 flex flex-col gap-1.5\">\n      <span class=\"block text-xs text-ink-gray-5\"\n        >Parent Field <span class=\"text-ink-red-3 select-none\">*</span>\n      </span>\n      <Combobox\n        v-model=\"state.selectedParentField\"\n        :options=\"parentFields\"\n        :disabled=\"!isNew\"\n      />\n    </div>\n    <div class=\"flex-1 flex flex-col gap-1.5\">\n      <span class=\"block text-xs text-ink-gray-5\"\n        >Child Field <span class=\"text-ink-red-3 select-none\">*</span>\n      </span>\n      <Combobox\n        v-model=\"state.selectedChildField\"\n        :options=\"state.childFields\"\n        :disabled=\"!state.selectedParentField || !isNew\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { FieldCriteriaState } from \"@/types\";\nimport { Combobox } from \"frappe-ui\";\n\nconst state = defineModel<FieldCriteriaState>();\n\nconst props = defineProps<{\n  isNew: boolean;\n  parentFields: any[];\n}>();\n</script>\n\n<style scoped></style>\n","<template>\n  <div\n    class=\"flex w-full flex-1 justify-between h-full h-[420px] max-h-[420px] min-h-[420px]\"\n  >\n    <!-- left box -->\n    <div class=\"flex-1 flex flex-col gap-1.5\">\n      <span class=\"block text-xs text-ink-gray-5\">\n        Select parent field value\n      </span>\n      <div class=\"border flex-1 border-r-0 rounded-l p-2 flex flex-col gap-2\">\n        <template v-if=\"state.selectedParentField\">\n          <FormControl\n            v-model=\"state.parentSearch\"\n            :placeholder=\"parentPlaceholder\"\n            type=\"text\"\n            class=\"w-full\"\n          >\n            <template #prefix>\n              <LucideSearch class=\"h-4 w-4 text-gray-500\" />\n            </template>\n          </FormControl>\n          <div class=\"flex-1 overflow-y-auto hide-scrollbar basis-0\">\n            <ul class=\"max-w-[350px] overflow-y-auto\">\n              <li\n                v-for=\"value in filteredParentFieldValues\"\n                :key=\"value\"\n                class=\"py-2 mb-1 px-2.5 cursor-pointer rounded flex justify-between items-center hover:bg-surface-gray-1 overflow-hidden max-w-full\"\n                :class=\"{\n                  'bg-surface-gray-2 hover:bg-surface-gray-3':\n                    state.currentParentSelection === value,\n                }\"\n                @click=\"handleParentValueClick(value)\"\n              >\n                <span class=\"text-base text-ink-gray-6 max-w-[90%] truncate\">{{\n                  value\n                }}</span>\n                <LucideChevronRight\n                  class=\"h-4 w-4 text-ink-gray-6\"\n                  v-if=\"\n                    getSelectedChildValueCount(value) === 0 ||\n                    state.currentParentSelection === value\n                  \"\n                />\n                <Badge\n                  v-else\n                  :label=\"getSelectedChildValueCount(value)\"\n                  :theme=\"'gray'\"\n                  variant=\"subtle\"\n                  class=\"!h-4\"\n                />\n              </li>\n            </ul>\n          </div>\n        </template>\n        <template v-else>\n          <div\n            class=\"flex flex-col items-center mt-20 h-full text-ink-gray-4 text-sm\"\n          >\n            Please select a parent field first\n          </div>\n        </template>\n      </div>\n    </div>\n    <!-- right box -->\n    <div class=\"flex-1 flex flex-col gap-1.5\">\n      <span class=\"block text-xs text-ink-gray-5 pl-1.5\">\n        Select child field value\n      </span>\n      <div class=\"border flex-1 rounded-r p-2 flex flex-col gap-2\">\n        <template\n          v-if=\"state.selectedChildField && state.currentParentSelection\"\n        >\n          <FormControl\n            v-model=\"state.childSearch\"\n            :placeholder=\"childPlaceholder\"\n            type=\"text\"\n            class=\"w-full\"\n          >\n            <template #prefix>\n              <LucideSearch class=\"h-4 w-4 text-gray-500\" />\n            </template>\n          </FormControl>\n          <div class=\"flex-1 overflow-y-auto hide-scrollbar basis-0\">\n            <!-- Master Check box -->\n            <li\n              class=\"py-2 mb-1 px-2.5 cursor-pointer rounded flex items-center bg-surface-gray-1 hover:bg-surface-gray-2\"\n              @click=\"handleSelectAllChildValues(!toggleAllChildValues)\"\n            >\n              <FormControl\n                type=\"checkbox\"\n                :model-value=\"toggleAllChildValues\"\n                class=\"mr-2\"\n              />\n              <span class=\"text-base text-ink-gray-8 font-medium\">\n                {{ toggleCheckboxLabel }}\n              </span>\n            </li>\n            <ul class=\"max-w-[350px] overflow-y-auto\">\n              <li\n                v-for=\"value in filteredChildFieldValues\"\n                :key=\"value\"\n                class=\"py-2 mb-1 px-2.5 cursor-pointer rounded flex items-center hover:bg-surface-gray-1 max-w-full truncate\"\n                @click=\"handleChildValueClick(value)\"\n              >\n                <FormControl\n                  type=\"checkbox\"\n                  :model-value=\"isChildValueSelected(value)\"\n                  class=\"mr-2\"\n                />\n                <span class=\"text-base text-ink-gray-6\">{{ value }}</span>\n              </li>\n            </ul>\n          </div>\n        </template>\n        <template v-else-if=\"!state.selectedChildField\">\n          <div\n            class=\"flex flex-col items-center mt-20 h-full text-ink-gray-4 text-sm\"\n          >\n            Please select a child field first\n          </div>\n        </template>\n        <template v-else>\n          <div\n            class=\"flex flex-col items-center mt-20 h-full text-ink-gray-4 text-sm\"\n          >\n            Please select a parent value first\n          </div>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { FieldCriteriaState } from \"@/types\";\nimport { computed } from \"vue\";\n\nconst props = defineProps<{\n  isNew: boolean;\n  parentFields: any[];\n}>();\n\nconst state = defineModel<FieldCriteriaState>();\n\nconst filteredParentFieldValues = computed(() => {\n  if (!state.value.parentSearch) return state.value.parentFieldValues;\n  return state.value.parentFieldValues.filter((v) =>\n    v.toLowerCase().includes(state.value.parentSearch.toLowerCase())\n  );\n});\n\nconst filteredChildFieldValues = computed(() => {\n  if (!state.value.childSearch) return state.value.childFieldValues;\n  return state.value.childFieldValues.filter((v) =>\n    v.toLowerCase().includes(state.value.childSearch.toLowerCase())\n  );\n});\n\nconst parentPlaceholder = computed(() => {\n  if (!state.value.selectedParentField) return \"Search values\";\n  let label = props.parentFields.find(\n    (f) => f.value === state.value.selectedParentField\n  )?.label;\n  return `Search ${label} values`;\n});\nconst childPlaceholder = computed(() => {\n  if (!state.value.currentParentSelection) return \"Search values\";\n  return `Search ${state.value.currentParentSelection} values`;\n});\n\nfunction handleParentValueClick(value: string) {\n  state.value.currentParentSelection = value;\n}\n\nfunction handleChildValueClick(childValue: string) {\n  const parent = state.value.currentParentSelection;\n  if (!parent) return;\n  if (!(state.value.childSelections[parent] instanceof Set)) {\n    state.value.childSelections[parent] = new Set();\n  }\n  if (state.value.childSelections[parent].has(childValue)) {\n    state.value.childSelections[parent].delete(childValue);\n  } else {\n    state.value.childSelections[parent].add(childValue);\n  }\n}\n\nfunction getSelectedChildValueCount(parent: string) {\n  const selectedCount =\n    state.value.childSelections[parent] instanceof Set\n      ? state.value.childSelections[parent].size\n      : 0;\n  return selectedCount;\n}\n\n// Toggling master checkbox + child values\nconst toggleAllChildValues = computed({\n  get() {\n    const parent = state.value.currentParentSelection;\n    if (!parent) return false;\n    // If no child values are selected, return false\n    if (!(state.value.childSelections[parent] instanceof Set)) {\n      return false;\n    }\n    // If all filtered child values are selected, return true\n    return (\n      state.value.childSelections[parent].size ===\n      filteredChildFieldValues.value.length\n    );\n  },\n  set(value) {\n    handleSelectAllChildValues(value);\n  },\n});\n\nconst toggleCheckboxLabel = computed(() => {\n  const parent = state.value.currentParentSelection;\n  if (!parent) return \"Select All\";\n  const selectedCount = getSelectedChildValueCount(parent);\n  if (selectedCount === 0) return \"Select All\";\n  return `${selectedCount} ${\n    selectedCount === 1 ? \"value\" : \"values\"\n  } selected`;\n});\n\nfunction handleSelectAllChildValues(value: boolean) {\n  const parent = state.value.currentParentSelection;\n  if (!parent) return;\n\n  if (!(state.value.childSelections[parent] instanceof Set)) {\n    state.value.childSelections[parent] = new Set();\n  }\n\n  if (value) {\n    // Select all child values\n    filteredChildFieldValues.value.forEach((childValue) => {\n      state.value.childSelections[parent].add(childValue);\n    });\n  } else {\n    // Deselect all child values\n    state.value.childSelections[parent].clear();\n  }\n}\n\nfunction isChildValueSelected(childValue: string) {\n  const parent = state.value.currentParentSelection;\n  return (\n    state.value.childSelections[parent] instanceof Set &&\n    state.value.childSelections[parent].has(childValue)\n  );\n}\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"flex flex-col py-8 gap-8 overflow-y-hidden\">\n    <SettingsLayoutHeader>\n      <template #title>\n        <div class=\"flex items-center gap-2 pl-10\">\n          <Button\n            variant=\"ghost\"\n            icon-left=\"chevron-left\"\n            :label=\"dependencyLabel\"\n            size=\"md\"\n            @click=\"handleBackNavigation\"\n            class=\"cursor-pointer hover:bg-transparent focus:bg-transparent focus:outline-none focus:ring-0 focus:ring-offset-0 focus-visible:none active:bg-transparent active:outline-none active:ring-0 active:ring-offset-0 active:text-ink-gray-5 pl-0 -ml-[5px] pr-0\"\n          />\n          <Badge v-if=\"isDirty\" theme=\"orange\"> Unsaved </Badge>\n        </div>\n      </template>\n      <template #actions>\n        <div class=\"flex gap-4 pr-10\">\n          <!-- Switch -->\n          <div class=\"flex gap-2 items-center\">\n            <Switch v-model=\"state.enabled\" class=\"!w-fit\" />\n            <span class=\"text-p-base text-ink-gray-6\">Enabled</span>\n          </div>\n          <!-- Actions -->\n          <div class=\"flex gap-1\">\n            <Button\n              label=\"Save\"\n              variant=\"solid\"\n              size=\"sm\"\n              :disabled=\"\n                !state.selectedParentField ||\n                !state.selectedChildField ||\n                Object.keys(state.childSelections).length === 0\n              \"\n              :loading=\"createUpdateFieldDependency.loading\"\n              @click=\"handleSubmit\"\n            />\n          </div>\n        </div>\n      </template>\n    </SettingsLayoutHeader>\n    <!-- Body -->\n    <div class=\"w-full flex-1 flex flex-col gap-8 overflow-y-hidden px-10\">\n      <!-- Field Selection -->\n      <FieldDependencyFieldsSelection\n        v-model=\"state\"\n        :is-new=\"isNew\"\n        :parent-fields=\"parentFields\"\n      />\n\n      <div class=\"flex flex-col gap-8 overflow-y-scroll\">\n        <!-- Value Selection -->\n        <FieldDependencyValueSelection\n          v-model=\"state\"\n          :is-new=\"isNew\"\n          :parent-fields=\"parentFields\"\n        />\n\n        <!-- Criteria selection -->\n        <FieldDependencyCriteria\n          :parent-field-values=\"state.parentFieldValues\"\n          v-model=\"fieldCriteriaState\"\n          v-model:selections=\"state\"\n        />\n      </div>\n    </div>\n  </div>\n  <ConfirmDialog\n    v-model=\"showConfirmDialog\"\n    title=\"Unsaved changes\"\n    message=\"Are you sure you want to go back? Unsaved changes will be lost.\"\n    :onConfirm=\"() => $emit('update:step', 'fd-list')\"\n    :onCancel=\"() => (showConfirmDialog = false)\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport ConfirmDialog from \"@/components/ConfirmDialog.vue\";\nimport { getMeta } from \"@/stores/meta\";\nimport { getFieldDependencyLabel } from \"@/utils\";\nimport { createResource, Switch, toast } from \"frappe-ui\";\nimport { computed, reactive, ref, watch } from \"vue\";\nimport SettingsLayoutHeader from \"../SettingsLayoutHeader.vue\";\nimport { disableSettingModalOutsideClick } from \"../settingsModal\";\nimport { getFieldOptions, hiddenChildFields } from \"./fieldDependency\";\nimport FieldDependencyCriteria from \"./FieldDependencyCriteria.vue\";\nimport FieldDependencyFieldsSelection from \"./FieldDependencyFieldsSelection.vue\";\nimport FieldDependencyValueSelection from \"./FieldDependencyValueSelection.vue\";\n\nconst props = defineProps({\n  fieldDependencyName: {\n    type: String,\n    default: \"\",\n  },\n});\nconst emit = defineEmits([\"update:step\"]);\n\nconst isNew = computed(() => !props.fieldDependencyName);\n\nconst dependencyLabel = computed(() => {\n  if (isNew.value) return \"New Field Dependency\";\n  return getFieldDependencyLabel(props.fieldDependencyName);\n});\n\nconst { getFields } = getMeta(\"HD Ticket\");\n\nconst parentFields = computed(() => {\n  let _fields = getFields();\n\n  if (!_fields || _fields.length === 0) {\n    return [];\n  }\n  const notAllowedFields = [\"status\", \"agreement_status\"];\n  _fields = _fields.filter(\n    (f) =>\n      (f.fieldtype === \"Select\" || f.fieldtype === \"Link\") &&\n      !notAllowedFields.includes(f.fieldname)\n  );\n  return _fields.map((f) => ({\n    label: f.label,\n    value: f.fieldname,\n    options: f.options || [],\n    type: f.fieldtype,\n  }));\n});\n\nlet state = reactive({\n  selectedParentField: \"\",\n  selectedChildField: \"\",\n  childFields: [],\n\n  parentFieldValues: [],\n  childFieldValues: [],\n\n  currentParentSelection: \"\",\n\n  childSelections: {}, // Initial value is a Set\n  initialChildSelections: {},\n  parentSearch: \"\",\n  childSearch: \"\",\n\n  enabled: true,\n});\n\nlet fieldCriteriaState = reactive({\n  display: {\n    enabled: true,\n    value: [{ label: \"Any\", value: \"Any\" }],\n  },\n  mandatory: {\n    enabled: true,\n    value: [{ label: \"Any\", value: \"Any\" }],\n  },\n});\n\nconst createUpdateFieldDependency = createResource({\n  url: \"helpdesk.api.settings.field_dependency.create_update_field_dependency\",\n  auto: false,\n  makeParams: () => ({\n    parent_field: state.selectedParentField,\n    child_field: state.selectedChildField,\n    parent_child_mapping: stringifyParentChildMapping(),\n    enabled: state.enabled,\n    fields_criteria: JSON.stringify(fieldCriteriaState),\n  }),\n  onSuccess: () => {\n    if (!isNew.value) {\n      fieldDependency.reload();\n      return;\n    }\n    emit(\"update:step\", \"fd-list\");\n  },\n});\n\nconst fieldDependency = createResource({\n  url: \"helpdesk.api.settings.field_dependency.get_field_dependency\",\n  params: {\n    name: props.fieldDependencyName,\n  },\n  auto: !isNew.value,\n  onSuccess: (data) => {\n    state.selectedParentField = data.parent_field;\n    state.selectedChildField = data.child_field;\n    state.enabled = data.enabled;\n    parseMapping(data.parent_child_mapping);\n    parseFieldCriteria(data.fields_criteria);\n  },\n});\nfunction parseMapping(data: string) {\n  const mapping = JSON.parse(data || \"{}\");\n  let selections = {};\n  Object.keys(mapping).forEach((parent) => {\n    selections[parent] = new Set(mapping[parent]);\n  });\n  state.childSelections = selections;\n\n  // for checking dirty state\n  state.initialChildSelections = structuredClone(selections);\n\n  if (!state.currentParentSelection) {\n    state.currentParentSelection = Object.keys(mapping)[0] || \"\";\n  }\n}\n\nfunction parseFieldCriteria(data: string) {\n  const criteria = JSON.parse(data || \"{}\");\n  fieldCriteriaState.display = criteria.display || {\n    enabled: true,\n    value: [{ label: \"Any\", value: \"Any\" }],\n  };\n  fieldCriteriaState.mandatory = criteria.mandatory || {\n    enabled: true,\n    value: [{ label: \"Any\", value: \"Any\" }],\n  };\n}\n\nconst isDirty = computed(() => {\n  if (isNew.value) {\n    return state.enabled !== true || state.selectedParentField !== \"\";\n  }\n  if (fieldDependency.loading) return false;\n  return (\n    Boolean(fieldDependency.data?.enabled) !== Boolean(state.enabled) ||\n    stringifyParentChildMapping(state.childSelections) !==\n      stringifyParentChildMapping(state.initialChildSelections) ||\n    JSON.stringify(fieldCriteriaState) !== fieldDependency.data?.fields_criteria\n  );\n});\n\nwatch(\n  () => isDirty.value,\n  (val) => {\n    disableSettingModalOutsideClick.value = val;\n  }\n);\n\nfunction stringifyParentChildMapping(selections = null) {\n  const _selections =\n    selections && Object.keys(selections).length > 0\n      ? selections\n      : state.childSelections;\n  const mapping = {};\n  Object.keys(_selections).forEach((parent) => {\n    let selections = Array.from(_selections[parent]);\n    if (selections.length) {\n      mapping[parent] = Array.from(_selections[parent]);\n    }\n  });\n  return JSON.stringify(mapping);\n}\n\nasync function handleFieldValues(fieldname: string, isParentField: boolean) {\n  if (!fieldname) return [];\n\n  if (isParentField) {\n    // if new field dependency, reset child fields\n    if (isNew.value) {\n      state.selectedChildField = \"\"; // Reset child field when parent changes\n      state.childFieldValues = [];\n      state.currentParentSelection = \"\"; // Reset current parent selection\n      state.childSelections = {}; // Reset child selections for new parent\n\n      // filter out hidden already madeup field dependencies in the child fields\n      let fieldsToHide = [fieldname, ...hiddenChildFields.value];\n      state.childFields = parentFields.value.filter(\n        (f) => !fieldsToHide.includes(f.value)\n      );\n    } else {\n      state.childFields = parentFields.value.filter(\n        (f) => f.value === state.selectedChildField\n      );\n    }\n    // show the selected child field if editing\n  }\n\n  const field = isParentField\n    ? parentFields.value.find((f) => f.value === fieldname)\n    : state.childFields.find((f) => f.value === fieldname);\n  if (!field) return [];\n  let options = await getFieldOptions(field);\n\n  return options;\n}\n\nconst showConfirmDialog = ref(false);\nfunction handleBackNavigation() {\n  if (createUpdateFieldDependency.loading) return;\n  if (isDirty.value) {\n    showConfirmDialog.value = true;\n\n    return;\n  }\n  emit(\"update:step\", \"fd-list\");\n}\n\nfunction handleSubmit() {\n  if (!isDirty.value) return;\n  createUpdateFieldDependency.submit();\n  let successMessage = isNew.value\n    ? \"Field Dependency created successfully\"\n    : \"Field Dependency updated successfully\";\n  toast.success(successMessage);\n}\n\n// parent field watcher\nwatch(\n  () => state.selectedParentField,\n  async (newParentField) => {\n    state.parentFieldValues = await handleFieldValues(newParentField, true);\n  }\n);\n\n// child field watcher\nwatch(\n  () => state.selectedChildField,\n  async (newChildField) => {\n    state.childFieldValues = await handleFieldValues(newChildField, false);\n    // Reset child selections when child field changes\n    if (isNew.value) {\n      state.childSelections = {};\n    }\n    state.currentParentSelection = state.parentFieldValues[0] || \"\";\n  }\n);\n\nwatch(\n  () => state.currentParentSelection,\n  () => {\n    state.childSearch = \"\"; // Reset child search when parent selection changes\n  }\n);\n</script>\n","<template>\n  <div class=\"px-10 py-8\">\n    <SettingsLayoutHeader>\n      <template #title>\n        <div class=\"flex items-center gap-2\">\n          <h1 class=\"text-lg font-semibold text-ink-gray-8\">\n            Field Dependencies\n          </h1>\n          <DocumentationButton\n            url=\"https://docs.frappe.io/helpdesk/field-dependency\"\n            color=\"!text-ink-gray-6\"\n          />\n        </div>\n      </template>\n      <template #description>\n        <p class=\"text-p-sm max-w-md text-ink-gray-6\">\n          Create dependencies between fields to dynamically control options\n          based on user selections.\n        </p>\n      </template>\n      <template #actions>\n        <Button\n          label=\"New\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"$emit('update:step', 'fd')\"\n          icon-left=\"plus\"\n        />\n      </template>\n    </SettingsLayoutHeader>\n  </div>\n  <div class=\"px-10 pb-8\">\n    <!-- Loading State -->\n    <div\n      v-if=\"fieldDependenciesList.loading\"\n      class=\"flex items-center justify-center py-4\"\n    >\n      <LoadingIndicator :scale=\"5\" />\n    </div>\n\n    <!-- Empty State -->\n    <div\n      v-if=\"\n        !fieldDependenciesList.loading &&\n        fieldDependenciesList.data?.length === 0\n      \"\n      class=\"flex mt-28 justify-between w-full h-full\"\n    >\n      <p class=\"text-sm text-gray-500 w-full flex justify-center\">\n        No field dependencies found.\n      </p>\n    </div>\n\n    <div\n      class=\"w-full\"\n      v-if=\"\n        !fieldDependenciesList.loading && fieldDependenciesList.data?.length > 0\n      \"\n    >\n      <!-- table heading -->\n      <div class=\"flex w-full p-2\">\n        <p class=\"w-7/12 text-p-sm text-ink-gray-5\">Name</p>\n        <p class=\"w-3/12 text-p-sm text-ink-gray-5\">Created By</p>\n        <p class=\"w-1/12 text-p-sm text-ink-gray-5\">Enabled</p>\n        <p class=\"w-1/12 text-p-sm text-ink-gray-5\"></p>\n      </div>\n      <div class=\"h-px border-t mx-1 border-outline-gray-modals\" />\n\n      <!-- Table content -->\n      <ul>\n        <!-- Each row -->\n        <li\n          class=\"w-full flex flex-col items-center cursor-pointer hover:bg-surface-menu-bar rounded\"\n          v-for=\"(row, idx) in fieldDependenciesList.data\"\n          @click.stop=\"$emit('update:step', 'fd', row.name)\"\n          :key=\"row.name\"\n        >\n          <div class=\"w-full flex items-center p-2\">\n            <!-- Parent to Child -->\n            <div class=\"flex gap-2 w-7/12 text-base text-ink-gray-7 pr-3\">\n              <span>{{ getFieldDependencyLabel(row.name) }}</span>\n            </div>\n            <!-- Owner -->\n            <p class=\"w-3/12 flex items-center gap-2 pr-3\">\n              <Avatar size=\"sm\" :image=\"row.owner\" :label=\"row.owner\" />\n              <span class=\"text-base text-ink-gray-7 truncate\">{{\n                row.owner\n              }}</span>\n            </p>\n            <!-- Enabled -->\n            <p class=\"w-1/12 flex items-center\">\n              <Switch\n                :model-value=\"row.enabled\"\n                @update:modelValue=\"(e) => handleSwitchToggle(row.name, e)\"\n                @click.stop\n              />\n            </p>\n            <!-- More Options -->\n            <p class=\"w-1/12 flex items-center justify-end\">\n              <Dropdown placement=\"right\" :options=\"getOptions(row.name)\">\n                <Button\n                  variant=\"ghost\"\n                  @click.stop=\"\n                    () => {\n                      isConfirmingDelete = false;\n                    }\n                  \"\n                >\n                  <template #icon>\n                    <LucideMoreHorizontal class=\"h-4 w-4\" />\n                  </template>\n                </Button>\n              </Dropdown>\n            </p>\n          </div>\n          <!-- Separator -->\n          <div\n            class=\"h-px border-b mx-1 border-outline-gray-modals w-[99%]\"\n            v-if=\"idx < fieldDependenciesList.data?.length - 1\"\n          />\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Avatar, LoadingIndicator, Switch, toast } from \"frappe-ui\";\nimport { getFieldDependencyLabel, ConfirmDelete } from \"@/utils\";\nimport { onMounted, ref } from \"vue\";\nimport { fieldDependenciesList } from \"./fieldDependency\";\nimport SettingsLayoutHeader from \"../SettingsLayoutHeader.vue\";\nimport DocumentationButton from \"@/components/DocumentationButton.vue\";\n\nonMounted(() => {\n  fieldDependenciesList.reload();\n});\n\nconst isConfirmingDelete = ref(false);\n\nfunction getOptions(rowName: string) {\n  return ConfirmDelete({\n    isConfirmingDelete,\n    onConfirmDelete: () => {\n      fieldDependenciesList.delete.submit(rowName, {\n        onSuccess: () => {\n          toast.success(\"Field dependency deleted successfully\");\n          fieldDependenciesList.reload();\n        },\n      });\n    },\n  });\n}\n\nfunction handleSwitchToggle(rowName: string, value: boolean) {\n  fieldDependenciesList.setValue.submit(\n    {\n      name: rowName,\n      enabled: value,\n    },\n    {\n      onSuccess: () => {\n        toast.success(\"Field dependency updated successfully.\");\n      },\n    }\n  );\n}\n</script>\n","<template>\n  <div v-if=\"step === 'fd-list'\" class=\"h-full\">\n    <FieldDependencyList @update:step=\"updateStep\" />\n  </div>\n  <div v-else-if=\"step === 'fd'\" class=\"h-full\">\n    <FieldDependency\n      @update:step=\"updateStep\"\n      :field-dependency-name=\"fieldDependencyName\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Ref, ref } from \"vue\";\nimport FieldDependency from \"./FieldDependency.vue\";\nimport FieldDependencyList from \"./FieldDependencyList.vue\";\n\ntype FieldDependencyStep = \"fd-list\" | \"fd\";\n\nconst step: Ref<FieldDependencyStep> = ref(\"fd-list\");\nconst fieldDependencyName = ref(\"\");\n\nfunction updateStep(\n  newStep: FieldDependencyStep,\n  fieldDependency?: string\n): void {\n  step.value = newStep;\n  fieldDependencyName.value = fieldDependency;\n}\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"px-10 pb-8 h-full overflow-y-auto\">\n    <form @submit.prevent=\"onSubmit\" class=\"flex flex-col gap-5\">\n      <div class=\"sticky top-0 z-10 bg-white pt-8 pb-1\">\n        <SettingsLayoutHeader\n          title=\"Invite Agents\"\n          description=\"Easily invite new agents, managers, or admins\"\n        />\n      </div>\n      <FormControl\n        type=\"textarea\"\n        :required=\"true\"\n        label=\"Invite by email\"\n        placeholder=\"user1@example.com, user2@example.com, ...\"\n        v-model=\"emails\"\n        :debounce=\"100\"\n        description=\"Comma separated emails to invite\"\n      />\n      <FormControl\n        label=\"Role\"\n        type=\"select\"\n        :required=\"true\"\n        :options=\"roleOptions\"\n        v-model=\"role\"\n        :description=\"roleDescription\"\n      />\n      <Button\n        type=\"submit\"\n        variant=\"solid\"\n        class=\"w-fit mt-1\"\n        :disabled=\"cancelInviteResource.loading\"\n        :loading=\"inviteByEmailResource.loading\"\n        >Send Invites</Button\n      >\n    </form>\n    <template v-if=\"pendingInvitesResource.data?.length\">\n      <h2 class=\"mt-8 text-base font-semibold\">Pending Invites</h2>\n      <ul class=\"flex flex-col gap-[0.375rem] mt-3\">\n        <li\n          v-for=\"invite in pendingInvitesResource.data\"\n          :key=\"invite.name\"\n          class=\"flex items-center justify-between px-3 py-1 rounded-lg bg-surface-gray-2\"\n        >\n          <div class=\"text-base\">\n            <span class=\"text-ink-gray-8\">\n              {{ invite.email }}\n            </span>\n            <span class=\"text-ink-gray-5\">\n              ({{ rolesToLabel(invite.roles) }})\n            </span>\n          </div>\n          <div>\n            <Tooltip\n              :disabled=\"\n                inviteByEmailResource.loading || cancelInviteResource.loading\n              \"\n              text=\"Cancel Invitation\"\n            >\n              <div>\n                <Button\n                  icon=\"x\"\n                  variant=\"ghost\"\n                  :loading=\"\n                    cancelInviteResource.loading &&\n                    invite.name === cancelInviteResource.params.name\n                  \"\n                  @click=\"\n                    () => {\n                      if (\n                        inviteByEmailResource.loading ||\n                        cancelInviteResource.loading\n                      ) {\n                        return;\n                      }\n                      cancelInviteResource.submit({\n                        name: invite.name,\n                        app_name: 'helpdesk',\n                      });\n                    }\n                  \"\n                  v-bind=\"{\n                    ...((cancelInviteResource.loading &&\n                      cancelInviteResource.params.name !== invite.name) ||\n                    inviteByEmailResource.loading\n                      ? { 'aria-disabled': true, class: 'opacity-25' }\n                      : {}),\n                  }\"\n                />\n              </div>\n            </Tooltip>\n          </div>\n        </li>\n      </ul>\n    </template>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useAuthStore } from \"@/stores/auth\";\nimport { FormControl, Button, Tooltip, createResource, toast } from \"frappe-ui\";\nimport { computed, ref } from \"vue\";\nimport { useOnboarding } from \"frappe-ui/frappe\";\nimport SettingsLayoutHeader from \"./SettingsLayoutHeader.vue\";\n\nconst authStore = useAuthStore();\nconst { isAdmin, isManager } = authStore;\n\nconst { updateOnboardingStep } = useOnboarding(\"helpdesk\");\n\nconst emails = ref(\"\");\n\ntype Role = \"Agent\" | \"Agent Manager\" | \"System Manager\";\ntype RoleOption = {\n  label: string;\n  value: Role;\n  description: string;\n};\n\nconst roleToLabel = (role: Role) => {\n  switch (role) {\n    case \"Agent\":\n      return \"Agent\";\n    case \"Agent Manager\":\n      return \"Manager\";\n    case \"System Manager\":\n      return \"Admin\";\n    default:\n      const x: never = role;\n      throw new Error(`Invalid role: ${x}`);\n  }\n};\n\nconst roleOptions: [RoleOption, ...RoleOption[]] = [\n  {\n    label: roleToLabel(\"Agent\"),\n    value: \"Agent\",\n    description:\n      \"Can work on tickets, create custom views and manage private views.\",\n  },\n];\nconst managerRoleOption: RoleOption = {\n  label: roleToLabel(\"Agent Manager\"),\n  value: \"Agent Manager\",\n  description:\n    \"Can invite new agents, manage tickets, create custom views and manage public views.\",\n};\nif (isAdmin) {\n  roleOptions.push(managerRoleOption, {\n    label: roleToLabel(\"System Manager\"),\n    value: \"System Manager\",\n    description: \"Can manage all aspects of Helpdesk.\",\n  });\n} else if (isManager) {\n  roleOptions.push(managerRoleOption);\n}\nconst role = ref(roleOptions[0].value);\n\nconst roleDescription = computed(\n  () =>\n    roleOptions.find((roleOption) => roleOption.value === role.value)!\n      .description\n);\n\nconst onSubmit = async () => {\n  if (emails.value.trim() === \"\") {\n    toast.error(\"At least one email required\");\n  }\n  await inviteByEmailResource.submit({\n    emails: emails.value,\n    roles: getInviteByEmailRoles(role.value),\n    redirect_to_path: \"/helpdesk\",\n    app_name: \"helpdesk\",\n  });\n  resetInputValues();\n};\n\nconst resetInputValues = () => {\n  emails.value = \"\";\n  role.value = roleOptions[0].value;\n};\n\nconst emailsToStr = (emails: readonly string[]) => emails.join(\", \");\n\nconst inviteByEmailResource = createResource({\n  url: \"frappe.core.api.user_invitation.invite_by_email\",\n  onSuccess(\n    data: Record<\n      | \"disabled_user_emails\"\n      | \"accepted_invite_emails\"\n      | \"pending_invite_emails\"\n      | \"invited_emails\",\n      string[]\n    >\n  ) {\n    resetInputValues();\n    let emailsStr = emailsToStr(data.invited_emails);\n    if (emailsStr.trim() !== \"\") {\n      toast.success(`${emailsStr} invited successfully`);\n    }\n    emailsStr = emailsToStr(data.disabled_user_emails);\n    if (emailsStr.trim() !== \"\") {\n      toast.info(`${emailsStr} already present and disabled`);\n    }\n    emailsStr = emailsToStr(data.pending_invite_emails);\n    if (emailsStr.trim() !== \"\") {\n      toast.info(`${emailsStr} already invited`);\n    }\n    emailsStr = emailsToStr(data.accepted_invite_emails);\n    if (emailsStr.trim() !== \"\") {\n      toast.info(`${emailsStr} already present`);\n    }\n    pendingInvitesResource.reload();\n    updateOnboardingStep(\"invite_your_team\");\n  },\n});\n\nconst pendingInvitesResource = createResource({\n  url: \"frappe.core.api.user_invitation.get_pending_invitations\",\n  params: { app_name: \"helpdesk\" },\n  auto: true,\n  method: \"GET\",\n});\n\nconst cancelInviteResource = createResource({\n  url: \"frappe.core.api.user_invitation.cancel_invitation\",\n  method: \"PATCH\",\n  onSuccess() {\n    toast.success(\"Invitation cancelled successfully\");\n    pendingInvitesResource.fetch();\n  },\n});\n\nconst rolesToLabel = (roles: readonly Role[]) => {\n  const rolesSt = new Set(roles);\n  if (rolesSt.has(\"System Manager\")) {\n    return roleToLabel(\"System Manager\");\n  }\n  if (rolesSt.has(\"Agent Manager\")) {\n    return roleToLabel(\"Agent Manager\");\n  }\n  if (rolesSt.has(\"Agent\")) {\n    return roleToLabel(\"Agent\");\n  }\n  throw new Error(`Invalid roles: ${roles.join(\", \")}`);\n};\n\nconst getInviteByEmailRoles = (selectedRole: Role) => {\n  const res: Role[] = [];\n  switch (selectedRole) {\n    case \"System Manager\":\n      res.push(\"Agent\", \"Agent Manager\");\n      break;\n    case \"Agent Manager\":\n      res.push(\"Agent\");\n      break;\n    case \"Agent\":\n      break;\n    default:\n      const x: never = selectedRole;\n      throw new Error(`Invalid selected role: ${x}`);\n  }\n  res.push(selectedRole);\n  return res;\n};\n</script>\n\n<style scoped></style>\n","<template>\n  <div\n    class=\"grid grid-cols-11 items-center gap-4 cursor-pointer hover:bg-gray-50 rounded\"\n  >\n    <div\n      @click=\"assignmentRulesActiveScreen = { screen: 'view', data: data }\"\n      class=\"w-full py-3 pl-2 col-span-7\"\n    >\n      <div class=\"text-base text-ink-gray-7 font-medium\">{{ data.name }}</div>\n      <div\n        v-if=\"data.description && data.description.length > 0\"\n        class=\"text-sm w-full text-ink-gray-5 mt-1 whitespace-nowrap overflow-ellipsis overflow-hidden\"\n      >\n        {{ data.description }}\n      </div>\n    </div>\n    <div class=\"col-span-2\">\n      <Select\n        class=\"w-max bg-transparent -ml-2 border-0 text-ink-gray-6 focus-visible:!ring-0 bg-none\"\n        :options=\"priorityOptions\"\n        v-model=\"data.priority\"\n        @update:modelValue=\"onPriorityChange\"\n      />\n    </div>\n    <div class=\"flex justify-between items-center w-full pr-2 col-span-2\">\n      <div>\n        <Switch\n          size=\"sm\"\n          :modelValue=\"!data.disabled\"\n          @update:modelValue=\"onToggle\"\n        />\n      </div>\n      <div>\n        <Dropdown placement=\"right\" :options=\"dropdownOptions\">\n          <Button\n            icon=\"more-horizontal\"\n            variant=\"ghost\"\n            @click=\"isConfirmingDelete = false\"\n          />\n        </Dropdown>\n      </div>\n    </div>\n  </div>\n  <Dialog\n    :options=\"{ title: __('Duplicate Assignment Rule') }\"\n    v-model=\"duplicateDialog.show\"\n  >\n    <template #body-content>\n      <div class=\"flex flex-col gap-4\">\n        <FormControl\n          :label=\"__('New Assignment Rule Name')\"\n          type=\"text\"\n          v-model=\"duplicateDialog.name\"\n        />\n      </div>\n    </template>\n    <template #actions>\n      <div class=\"flex gap-2 justify-end\">\n        <Button\n          variant=\"subtle\"\n          :label=\"__('Close')\"\n          @click=\"duplicateDialog.show = false\"\n        />\n        <Button variant=\"solid\" :label=\"__('Duplicate')\" @click=\"duplicate()\" />\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { assignmentRulesActiveScreen } from \"@/stores/assignmentRules\";\nimport { ConfirmDelete } from \"@/utils\";\nimport {\n  Button,\n  createResource,\n  Dialog,\n  FormControl,\n  Select,\n  Switch,\n  toast,\n} from \"frappe-ui\";\nimport { inject, ref } from \"vue\";\n\nconst assignmentRulesList = inject<any>(\"assignmentRulesList\");\n\nconst props = defineProps({\n  data: {\n    type: Object,\n    required: true,\n  },\n});\n\nconst priorityOptions = [\n  { label: \"Low\", value: \"0\" },\n  { label: \"Low-Medium\", value: \"1\" },\n  { label: \"Medium\", value: \"2\" },\n  { label: \"Medium-High\", value: \"3\" },\n  { label: \"High\", value: \"4\" },\n];\n\nconst duplicateDialog = ref({\n  show: false,\n  name: \"\",\n});\n\nconst isConfirmingDelete = ref(false);\n\nconst deleteAssignmentRule = () => {\n  createResource({\n    url: \"frappe.client.delete\",\n    params: {\n      doctype: \"Assignment Rule\",\n      name: props.data.name,\n    },\n    onSuccess: () => {\n      assignmentRulesList.reload();\n      isConfirmingDelete.value = false;\n      toast.success(\"Assignment rule deleted\");\n    },\n    auto: true,\n  });\n};\n\nconst dropdownOptions = [\n  {\n    label: \"Duplicate\",\n    onClick: () => {\n      duplicateDialog.value = {\n        show: true,\n        name: props.data.name + \" (Copy)\",\n      };\n    },\n    icon: \"copy\",\n  },\n  ...ConfirmDelete({\n    onConfirmDelete: () => deleteAssignmentRule(),\n    isConfirmingDelete,\n  }),\n];\n\nconst duplicate = () => {\n  createResource({\n    url: \"helpdesk.api.assignment_rule.duplicate_assignment_rule\",\n    params: {\n      docname: props.data.name,\n      new_name: duplicateDialog.value.name,\n    },\n    onSuccess: (data) => {\n      assignmentRulesList.reload();\n      toast.success(\"Assignment rule duplicated\");\n      duplicateDialog.value.show = false;\n      duplicateDialog.value.name = \"\";\n      assignmentRulesActiveScreen.value = {\n        screen: \"view\",\n        data: {\n          name: data.name,\n        },\n      };\n    },\n    auto: true,\n  });\n};\n\nconst onPriorityChange = () => {\n  setAssignmentRuleValue(\"priority\", props.data.priority);\n};\n\nconst onToggle = () => {\n  if (!props.data.users_exists && props.data.disabled) {\n    toast.error(\"Cannot enable rule without adding users in it\");\n    return;\n  }\n  setAssignmentRuleValue(\"disabled\", !props.data.disabled, \"status\");\n};\n\nconst setAssignmentRuleValue = (key, value, fieldName = undefined) => {\n  createResource({\n    url: \"frappe.client.set_value\",\n    params: {\n      doctype: \"Assignment Rule\",\n      name: props.data.name,\n      fieldname: key,\n      value: value,\n    },\n    onSuccess: () => {\n      assignmentRulesList.reload();\n      toast.success(`Assignment rule ${fieldName || key} updated`);\n    },\n    auto: true,\n  });\n};\n</script>\n","<template>\n  <div\n    v-if=\"assignmentRulesList.loading && !assignmentRulesList.data\"\n    class=\"flex items-center justify-center mt-12\"\n  >\n    <LoadingIndicator class=\"w-4\" />\n  </div>\n  <div v-else>\n    <div\n      v-if=\"assignmentRulesList.data?.length === 0\"\n      class=\"flex items-center justify-center rounded-md border border-gray-200 p-4\"\n    >\n      <div class=\"text-sm text-ink-gray-7\">\n        {{ __(\"No items in the list\") }}\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"grid grid-cols-11 items-center gap-4 text-sm text-gray-600\">\n        <div class=\"col-span-7 ml-2\">{{ __(\"Assignment rule\") }}</div>\n        <div class=\"col-span-2\">{{ __(\"Priority\") }}</div>\n        <div class=\"col-span-2\">{{ __(\"Enabled\") }}</div>\n      </div>\n      <hr class=\"mt-2 mx-2\" />\n      <div\n        v-for=\"assignmentRule in assignmentRulesList.data\"\n        :key=\"assignmentRule.name\"\n      >\n        <AssignmentRuleListItem :data=\"assignmentRule\" />\n        <hr class=\"mx-2\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { LoadingIndicator } from \"frappe-ui\";\nimport { inject } from \"vue\";\nimport AssignmentRuleListItem from \"./AssignmentRuleListItem.vue\";\n\nconst assignmentRulesList = inject<any>(\"assignmentRulesList\");\n</script>\n","<template>\n  <div class=\"px-10 py-8 sticky top-0\">\n    <div class=\"flex items-start justify-between\">\n      <div class=\"flex flex-col gap-1\">\n        <h1 class=\"text-lg font-semibold text-ink-gray-8\">\n          {{ __(\"Assignment rules\") }}\n        </h1>\n        <p class=\"text-p-sm text-ink-gray-6 max-w-md\">\n          {{\n            __(\n              \"Assignment Rules automatically route tickets to the right team members based on predefined conditions.\"\n            )\n          }}\n        </p>\n      </div>\n      <Button\n        :label=\"__('Create new')\"\n        theme=\"gray\"\n        variant=\"solid\"\n        @click=\"goToNew()\"\n        icon-left=\"plus\"\n      />\n    </div>\n  </div>\n  <div class=\"overflow-y-auto px-10 pb-8\">\n    <AssignmentRulesListView />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Button, createResource } from \"frappe-ui\";\nimport { provide } from \"vue\";\nimport {\n  assignmentRulesActiveScreen,\n  resetAssignmentRuleData,\n} from \"../../../stores/assignmentRules\";\nimport AssignmentRulesListView from \"./AssignmentRulesListView.vue\";\n\nconst assignmentRulesListData = createResource({\n  url: \"helpdesk.api.assignment_rule.get_assignment_rules_list\",\n  cache: [\"assignmentRules\", \"get_assignment_rules_list\"],\n  auto: true,\n});\n\nprovide(\"assignmentRulesList\", assignmentRulesListData);\n\nconst goToNew = () => {\n  resetAssignmentRuleData();\n  assignmentRulesActiveScreen.value = {\n    screen: \"view\",\n    data: null,\n  };\n};\n</script>\n","<template>\n  <Combobox :multiple=\"true\">\n    <Popover placement=\"bottom-end\">\n      <template #target=\"{ togglePopover }\">\n        <Button\n          variant=\"subtle\"\n          icon-left=\"plus\"\n          @click=\"togglePopover()\"\n          :label=\"__('Add Assignee')\"\n        />\n      </template>\n      <template #body=\"{ togglePopover }\">\n        <div class=\"mt-1 rounded-lg bg-white py-1 text-base shadow-2xl w-60\">\n          <div class=\"relative px-1.5 pt-0.5\">\n            <ComboboxInput\n              ref=\"search\"\n              class=\"form-input w-full\"\n              type=\"text\"\n              @change=\"\n                (e) => {\n                  query = e.target.value;\n                }\n              \"\n              :value=\"query\"\n              autocomplete=\"off\"\n              :placeholder=\"__('Search')\"\n            />\n            <button\n              class=\"absolute right-1.5 inline-flex h-7 w-7 items-center justify-center\"\n              @click=\"query = ''\"\n            >\n              <FeatherIcon name=\"x\" class=\"w-4\" />\n            </button>\n          </div>\n          <ComboboxOptions class=\"my-2 max-h-64 overflow-y-auto px-1.5\" static>\n            <ComboboxOption\n              v-show=\"users.length > 0\"\n              v-for=\"user in users\"\n              :key=\"user.username\"\n              :value=\"user\"\n              as=\"template\"\n              v-slot=\"{ active }\"\n              @click=\"\n                (e) => {\n                  e.stopPropagation();\n                  addAssignee(user);\n                }\n              \"\n            >\n              <li\n                class=\"flex items-center rounded p-1.5 w-full text-base\"\n                :class=\"{ 'bg-gray-100': active }\"\n              >\n                <div class=\"flex gap-2 items-center w-full select-none\">\n                  <Avatar\n                    :shape=\"'circle'\"\n                    :image=\"user.user_image\"\n                    :label=\"user.full_name\"\n                    size=\"lg\"\n                  />\n                  <div class=\"flex flex-col gap-1 truncate\">\n                    <div class=\"font-semibold text-ink-gray-7 truncate\">\n                      {{ user.full_name }}\n                    </div>\n                    <div class=\"text-ink-gray-6 truncate\">{{ user.email }}</div>\n                  </div>\n                </div>\n              </li>\n            </ComboboxOption>\n            <li\n              v-if=\"users.length == 0\"\n              class=\"mt-1.5 rounded-md p-1.5 text-base text-gray-600\"\n            >\n              {{ __(\"No results found\") }}\n            </li>\n          </ComboboxOptions>\n          <div class=\"border-t p-1.5 pb-0.5\">\n            <Button\n              variant=\"ghost\"\n              class=\"w-full\"\n              icon-left=\"plus\"\n              :label=\"__('Invite agent')\"\n              @click=\"\n                () => {\n                  showNewAgentsDialog = true;\n                  togglePopover();\n                }\n              \"\n            />\n          </div>\n        </div>\n      </template>\n    </Popover>\n  </Combobox>\n\n  <AddNewAgentsDialog\n    :title=\"__('Add Agents')\"\n    @close=\"showNewAgentsDialog = false\"\n    :modelValue=\"showNewAgentsDialog\"\n    :show=\"showNewAgentsDialog\"\n    @update:modelValue=\"showNewAgentsDialog = $event\"\n    @onAgentsInvited=\"addInvitedAgents\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport AddNewAgentsDialog from \"@/components/desk/global/AddNewAgentsDialog.vue\";\nimport { assignmentRuleData } from \"@/stores/assignmentRules\";\nimport {\n  Combobox,\n  ComboboxInput,\n  ComboboxOption,\n  ComboboxOptions,\n} from \"@headlessui/vue\";\nimport { watchDebounced } from \"@vueuse/core\";\nimport { Avatar, createListResource, Popover } from \"frappe-ui\";\nimport { computed, ref } from \"vue\";\n\nconst emit = defineEmits([\"addAssignee\"]);\nconst query = ref(\"\");\nconst showNewAgentsDialog = ref(false);\n\nwatchDebounced(\n  () => query.value,\n  (val) => {\n    const filters = {\n      full_name: undefined,\n      email: undefined,\n    };\n    const isEmail = val.includes(\"@\") || val.includes(\".\");\n    if (isEmail) {\n      filters.email = [\"like\", `%${val}%`];\n    } else {\n      filters.full_name = [\"like\", `%${val}%`];\n    }\n    usersList.update({\n      filters,\n    });\n    usersList.reload();\n  },\n  { debounce: 500 }\n);\n\nconst usersList = createListResource({\n  doctype: \"User\",\n  fields: [\"name\", \"email\", \"full_name\", \"user_image\"],\n  start: 0,\n  pageLength: 5,\n  auto: true,\n  transform: (data) => {\n    return data\n      .map((user) => {\n        if (user.full_name == \"Administrator\") {\n          return {\n            ...user,\n            email: \"Administrator\",\n            user: \"Administrator\",\n          };\n        }\n        return {\n          ...user,\n          user: user.email,\n        };\n      })\n      .filter((user) => user.full_name != \"Guest\");\n  },\n});\n\nconst users = computed(() => {\n  return (\n    usersList.data?.filter(\n      (user) =>\n        !assignmentRuleData.value.users.some((u) => u.user === user.email)\n    ) || []\n  );\n});\n\nconst addInvitedAgents = (users) => {\n  users.forEach((user) => {\n    addAssignee({ user });\n  });\n};\n\nconst addAssignee = (user) => {\n  const userExists = assignmentRuleData.value.users.some(\n    (u) => u.user === user.user\n  );\n  if (!userExists) {\n    assignmentRuleData.value.users.push({\n      full_name: user.full_name,\n      email: user.email,\n      user_image: user.user_image,\n      user: user.email,\n    });\n    emit(\"addAssignee\", user);\n  }\n};\n</script>\n","<template>\n  <div>\n    <div class=\"flex flex-col gap-1\">\n      <span class=\"text-lg font-semibold text-ink-gray-8\">{{\n        __(\"Assignee Rules\")\n      }}</span>\n      <span class=\"text-p-sm text-ink-gray-6\">\n        {{\n          __(\n            \"Define who receives the tickets and how theyre distributed among agents.\"\n          )\n        }}\n      </span>\n    </div>\n    <div class=\"mt-8 flex items-center justify-between gap-2\">\n      <div>\n        <div class=\"text-base font-medium text-ink-gray-8\">\n          {{ __(\"Ticket Routing\") }}\n        </div>\n        <div class=\"text-p-sm text-ink-gray-6 mt-1\">\n          {{\n            __(\"Choose how tickets are distributed among selected assignees.\")\n          }}\n        </div>\n      </div>\n      <div>\n        <Popover placement=\"bottom-end\">\n          <template #target=\"{ togglePopover }\">\n            <div\n              class=\"flex items-center justify-between text-base rounded h-7 py-1.5 pl-2 pr-2 border border-[--surface-gray-2] bg-surface-gray-2 placeholder-ink-gray-4 hover:border-outline-gray-modals hover:bg-surface-gray-3 focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3 text-ink-gray-8 transition-colors w-full dark:[color-scheme:dark] select-none min-w-40\"\n              @click=\"togglePopover()\"\n            >\n              <div>\n                {{\n                  ticketRoutingOptions.find(\n                    (option) => option.value == assignmentRuleData.rule\n                  )?.label\n                }}\n              </div>\n              <FeatherIcon name=\"chevron-down\" class=\"size-4\" />\n            </div>\n          </template>\n          <template #body=\"{ togglePopover }\">\n            <div\n              class=\"p-1 text-ink-gray-7 mt-1 w-48 bg-white shadow-xl rounded\"\n            >\n              <div\n                v-for=\"option in ticketRoutingOptions\"\n                :key=\"option.value\"\n                class=\"p-2 cursor-pointer hover:bg-gray-50 text-sm flex items-center justify-between rounded\"\n                @click=\"\n                  () => {\n                    assignmentRuleData.rule = option.value;\n                    togglePopover();\n                  }\n                \"\n              >\n                <span>\n                  {{ option.label }}\n                </span>\n                <FeatherIcon\n                  v-if=\"assignmentRuleData.rule == option.value\"\n                  name=\"check\"\n                  class=\"size-4\"\n                />\n              </div>\n            </div>\n          </template>\n        </Popover>\n      </div>\n    </div>\n    <div class=\"mt-7 flex items-center justify-between gap-2\">\n      <div>\n        <div class=\"text-base font-medium text-ink-gray-8\">\n          {{ __(\"Assignees\") }}\n        </div>\n        <div class=\"text-p-sm text-ink-gray-6 mt-1\">\n          {{ __(\"Choose who receives the tickets.\") }}\n        </div>\n      </div>\n      <AssigneeSearch @addAssignee=\"validateAssignmentRule('users')\" />\n    </div>\n    <div class=\"mt-4 flex flex-wrap gap-2\">\n      <div\n        v-for=\"user in users\"\n        :key=\"user.name\"\n        class=\"flex items-center gap-2 text-sm bg-surface-gray-2 rounded-md p-1 w-max px-2 select-none\"\n      >\n        <Avatar :image=\"user.user_image\" :label=\"user.full_name\" size=\"sm\" />\n        <div class=\"text-ink-gray-7\">\n          {{ user.full_name }}\n        </div>\n        <Tooltip\n          v-if=\"user.email == assignmentRuleData.lastUser\"\n          :text=\"__('Last user assigned by this rule')\"\n          :hover-delay=\"0.35\"\n          :placement=\"'top'\"\n        >\n          <div\n            class=\"text-xs rounded-full select-none bg-blue-600 text-white p-0.5 px-2\"\n          >\n            {{ __(\"Last\") }}\n          </div>\n        </Tooltip>\n        <Button variant=\"ghost\" icon=\"x\" @click=\"removeAssignedUser(user)\" />\n      </div>\n    </div>\n    <ErrorMessage :message=\"assignmentRulesErrors.users\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Avatar, Button, ErrorMessage, Popover, Tooltip } from \"frappe-ui\";\nimport {\n  assignmentRuleData,\n  assignmentRulesErrors,\n  validateAssignmentRule,\n} from \"../../../stores/assignmentRules\";\nimport AssigneeSearch from \"./AssigneeSearch.vue\";\nimport { computed } from \"vue\";\nimport { useUserStore } from \"@/stores/user\";\n\nconst { getUser } = useUserStore();\n\nconst ticketRoutingOptions = [\n  {\n    label: \"Auto-rotate\",\n    value: \"Round Robin\",\n  },\n  {\n    label: \"Assign by workload\",\n    value: \"Load Balancing\",\n  },\n];\n\nconst removeAssignedUser = (user) => {\n  assignmentRuleData.value.users = assignmentRuleData.value.users.filter(\n    (u) => u.user !== user.name\n  );\n  validateAssignmentRule(\"users\");\n};\n\nconst users = computed(() => {\n  const _users = [];\n  assignmentRuleData.value.users.forEach((user) => {\n    _users.push(getUser(user.user));\n  });\n  return _users;\n});\n</script>\n","<template>\n  <CFConditions\n    v-if=\"props.conditions.length > 0\"\n    :conditions=\"props.conditions\"\n    :level=\"0\"\n    :disableAddCondition=\"props.errors !== ''\"\n  />\n  <div\n    v-if=\"props.conditions.length == 0\"\n    class=\"flex p-4 items-center cursor-pointer justify-center gap-2 text-sm border border-gray-300 text-gray-600 rounded-md\"\n    @click=\"\n      props.conditions.push(['', '', '']);\n      validateAssignmentRule(props.name);\n    \"\n  >\n    <FeatherIcon name=\"plus\" class=\"h-4\" />\n    {{ __(\"Add a condition\") }}\n  </div>\n  <div class=\"flex items-center justify-between mt-2\">\n    <Dropdown\n      v-if=\"props.conditions.length > 0\"\n      class=\"mt-2\"\n      v-slot=\"{ open }\"\n      :options=\"dropdownOptions\"\n    >\n      <Button\n        :disabled=\"props.errors !== ''\"\n        :icon-right=\"open ? 'chevron-up' : 'chevron-down'\"\n        :label=\"__('Add condition')\"\n      />\n    </Dropdown>\n    <ErrorMessage\n      v-if=\"props.conditions.length > 0\"\n      :message=\"props.errors\"\n      class=\"mt-2\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport CFConditions from \"@/components/conditions-filter/CFConditions.vue\";\nimport { validateConditions } from \"@/utils\";\nimport { watchDebounced } from \"@vueuse/core\";\nimport { Button, Dropdown, ErrorMessage, FeatherIcon } from \"frappe-ui\";\nimport { validateAssignmentRule } from \"../../../stores/assignmentRules\";\n\nconst props = defineProps({\n  conditions: Array<any>,\n  name: String,\n  errors: String,\n});\n\nconst getConjunction = () => {\n  let conjunction = \"and\";\n  props.conditions.forEach((condition) => {\n    if (typeof condition == \"string\") {\n      conjunction = condition;\n    }\n  });\n  return conjunction;\n};\n\nconst dropdownOptions = [\n  {\n    label: \"Add condition\",\n    onClick: () => {\n      addCondition();\n    },\n  },\n  {\n    label: \"Add condition group\",\n    onClick: () => {\n      const conjunction = getConjunction();\n      props.conditions.push(conjunction, [[]]);\n    },\n  },\n];\n\nconst addCondition = () => {\n  const isValid = validateConditions(props.conditions);\n\n  if (!isValid) {\n    return;\n  }\n  const conjunction = getConjunction();\n\n  props.conditions.push(conjunction, [\"\", \"\", \"\"]);\n};\n\nwatchDebounced(\n  () => [...props.conditions],\n  () => {\n    validateAssignmentRule(props.name);\n  },\n  { deep: true, debounce: 300 }\n);\n</script>\n","<template>\n  <div\n    class=\"grid py-3.5 px-4 items-center\"\n    style=\"grid-template-columns: 3fr 1fr\"\n  >\n    <div class=\"text-ink-gray-7 font-medium\">{{ data.day }}</div>\n    <div class=\"flex justify-start\">\n      <Switch v-model=\"data.active\" @update:model-value=\"toggleDay\" />\n    </div>\n  </div>\n  <hr v-if=\"!isLast\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { assignmentRuleData } from \"@/stores/assignmentRules\";\nimport { Switch } from \"frappe-ui\";\n\nconst props = defineProps({\n  data: {\n    type: Object,\n    required: true,\n  },\n  isLast: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst toggleDay = (isActive) => {\n  const dayIndex = assignmentRuleData.value.assignmentDays.findIndex(\n    (d) => d === props.data.day\n  );\n\n  if (isActive && dayIndex === -1) {\n    assignmentRuleData.value.assignmentDays.push(props.data.day);\n  } else {\n    assignmentRuleData.value.assignmentDays.splice(dayIndex, 1);\n  }\n};\n</script>\n","<template>\n  <div class=\"rounded-md border px-2 border-gray-300 text-sm\">\n    <div\n      class=\"grid p-2 px-4 items-center\"\n      style=\"grid-template-columns: 3fr 1fr\"\n    >\n      <div\n        v-for=\"column in columns\"\n        :key=\"column.key\"\n        class=\"text-gray-600 overflow-hidden whitespace-nowrap text-ellipsis\"\n      >\n        {{ column.label }}\n      </div>\n    </div>\n    <hr />\n    <AssignmentScheduleItem\n      v-for=\"(day, index) in days\"\n      :key=\"day.day\"\n      :data=\"day\"\n      :isLast=\"index === days.length - 1\"\n    />\n  </div>\n  <ErrorMessage :message=\"assignmentRulesErrors.assignmentDays\" class=\"mt-2\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { ErrorMessage } from \"frappe-ui\";\nimport { onMounted, ref } from \"vue\";\nimport {\n  assignmentRuleData,\n  assignmentRulesErrors,\n} from \"../../../stores/assignmentRules\";\nimport AssignmentScheduleItem from \"./AssignmentScheduleItem.vue\";\n\nconst columns = [\n  {\n    label: \"Days\",\n    key: \"day\",\n  },\n  {\n    label: \"Active\",\n    key: \"active\",\n  },\n];\n\nconst days = ref([\n  {\n    day: \"Monday\",\n    active: false,\n  },\n  {\n    day: \"Tuesday\",\n    active: false,\n  },\n  {\n    day: \"Wednesday\",\n    active: false,\n  },\n  {\n    day: \"Thursday\",\n    active: false,\n  },\n  {\n    day: \"Friday\",\n    active: false,\n  },\n  {\n    day: \"Saturday\",\n    active: false,\n  },\n  {\n    day: \"Sunday\",\n    active: false,\n  },\n]);\n\nonMounted(() => {\n  assignmentRuleData.value.assignmentDays.forEach((day) => {\n    const workDay = days.value.find((d) => d.day === day);\n    if (workDay) {\n      workDay.active = true;\n    }\n  });\n});\n</script>\n","<template>\n  <div\n    v-if=\"getAssignmentRuleData.loading\"\n    class=\"flex items-center h-full justify-center\"\n  >\n    <LoadingIndicator class=\"w-4\" />\n  </div>\n  <div\n    v-if=\"!getAssignmentRuleData.loading\"\n    class=\"sticky top-0 z-10 bg-white pb-6 px-10 py-8\"\n  >\n    <div class=\"flex items-center justify-between w-full\">\n      <div class=\"flex items-center gap-2\">\n        <Button\n          variant=\"ghost\"\n          icon-left=\"chevron-left\"\n          :label=\"\n            assignmentRuleData.assignmentRuleName || 'New Assignment Rule'\n          \"\n          size=\"md\"\n          @click=\"goBack()\"\n          class=\"cursor-pointer -ml-4 hover:bg-transparent focus:bg-transparent focus:outline-none focus:ring-0 focus:ring-offset-0 focus-visible:none active:bg-transparent active:outline-none active:ring-0 active:ring-offset-0 active:text-ink-gray-5 font-semibold text-xl hover:opacity-70 !pr-0 !max-w-96 !justify-start\"\n        />\n        <Badge\n          :variant=\"'subtle'\"\n          :theme=\"'orange'\"\n          size=\"sm\"\n          :label=\"__('Unsaved')\"\n          v-if=\"isDirty\"\n        />\n      </div>\n      <div class=\"flex items-center gap-4\">\n        <div\n          class=\"flex items-center justify-between gap-2\"\n          @click=\"assignmentRuleData.disabled = !assignmentRuleData.disabled\"\n        >\n          <Switch size=\"sm\" :model-value=\"!assignmentRuleData.disabled\" />\n          <span class=\"text-sm text-ink-gray-7\">{{ __(\"Enabled\") }}</span>\n        </div>\n        <Button\n          :disabled=\"Boolean(!isDirty && assignmentRulesActiveScreen.data)\"\n          :label=\"__('Save')\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"saveAssignmentRule()\"\n          :loading=\"isLoading || getAssignmentRuleData.loading\"\n        />\n      </div>\n    </div>\n  </div>\n  <div v-if=\"!getAssignmentRuleData.loading\" class=\"overflow-y-auto px-10 pb-8\">\n    <div class=\"grid grid-cols-2 gap-5\">\n      <div>\n        <FormControl\n          :type=\"'text'\"\n          size=\"sm\"\n          variant=\"subtle\"\n          placeholder=\"Name\"\n          label=\"Name\"\n          v-model=\"assignmentRuleData.assignmentRuleName\"\n          required\n          maxlength=\"50\"\n          @change=\"validateAssignmentRule('assignmentRuleName')\"\n        />\n        <ErrorMessage\n          :message=\"assignmentRulesErrors.assignmentRuleName\"\n          class=\"mt-2\"\n        />\n      </div>\n      <div class=\"flex flex-col gap-1.5\">\n        <FormLabel label=\"Priority\" />\n        <Popover>\n          <template #target=\"{ togglePopover }\">\n            <div\n              class=\"flex items-center justify-between text-base rounded h-7 py-1.5 pl-2 pr-2 border border-[--surface-gray-2] bg-surface-gray-2 placeholder-ink-gray-4 hover:border-outline-gray-modals hover:bg-surface-gray-3 focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3 text-ink-gray-8 transition-colors w-full dark:[color-scheme:dark] cursor-default\"\n              @click=\"togglePopover()\"\n            >\n              <div>\n                {{\n                  priorityOptions.find(\n                    (option) => option.value == assignmentRuleData.priority\n                  )?.label\n                }}\n              </div>\n              <FeatherIcon name=\"chevron-down\" class=\"size-4\" />\n            </div>\n          </template>\n          <template #body=\"{ togglePopover }\">\n            <div\n              class=\"p-1 text-ink-gray-6 top-1 absolute w-full bg-white shadow-2xl rounded\"\n            >\n              <div\n                v-for=\"option in priorityOptions\"\n                :key=\"option.value\"\n                class=\"p-2 cursor-pointer hover:bg-gray-50 text-base flex items-center justify-between rounded\"\n                @click=\"\n                  assignmentRuleData.priority = option.value;\n                  togglePopover();\n                \"\n              >\n                {{ option.label }}\n                <FeatherIcon\n                  v-if=\"assignmentRuleData.priority == option.value\"\n                  name=\"check\"\n                  class=\"size-4\"\n                />\n              </div>\n            </div>\n          </template>\n        </Popover>\n      </div>\n      <div>\n        <FormControl\n          :type=\"'textarea'\"\n          size=\"sm\"\n          variant=\"subtle\"\n          placeholder=\"Description\"\n          label=\"Description\"\n          required\n          maxlength=\"250\"\n          @change=\"validateAssignmentRule('description')\"\n          v-model=\"assignmentRuleData.description\"\n        />\n        <ErrorMessage\n          :message=\"assignmentRulesErrors.description\"\n          class=\"mt-2\"\n        />\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\">{{\n          __(\"Assignment condition\")\n        }}</span>\n        <div class=\"flex items-center justify-between gap-6\">\n          <span class=\"text-p-sm text-ink-gray-6\">\n            {{\n              __(\"Choose which tickets are affected by this assignment rule.\")\n            }}\n            <a\n              class=\"font-medium underline\"\n              href=\"https://docs.frappe.io/helpdesk/assignment-rule\"\n              target=\"_blank\"\n              >{{ __(\"Learn about conditions\") }}</a\n            >\n          </span>\n          <div v-if=\"isAssignConditionOld && assignmentRulesActiveScreen.data\">\n            <Popover trigger=\"hover\" :hoverDelay=\"0.25\" placement=\"top-end\">\n              <template #target>\n                <div\n                  class=\"text-sm text-ink-gray-6 flex gap-1 cursor-default text-nowrap flex items-center\"\n                >\n                  <span>{{ __(\"Old Condition\") }}</span>\n                  <FeatherIcon name=\"info\" class=\"size-4\" />\n                </div>\n              </template>\n              <template #body-main>\n                <div\n                  class=\"text-sm text-ink-gray-6 p-2 bg-white rounded-md max-w-96 text-wrap whitespace-pre-wrap leading-5\"\n                >\n                  <code>{{ assignmentRuleData.assignCondition }}</code>\n                </div>\n              </template>\n            </Popover>\n          </div>\n        </div>\n      </div>\n      <div class=\"mt-5\">\n        <div\n          class=\"flex flex-col gap-3 items-center text-center text-ink-gray-7 text-sm mb-2 border border-gray-300 rounded-md p-3 py-4\"\n          v-if=\"\n            !useNewUIForAssignCondition && assignmentRuleData.assignCondition\n          \"\n        >\n          <span class=\"text-p-sm\">\n            Conditions for this rule were created from\n            <a :href=\"deskUrl\" target=\"_blank\" class=\"underline\">desk</a> which\n            are not compatible with this UI, you will need to recreate the\n            conditions here if you want to manage and add new conditions from\n            this UI.\n          </span>\n          <Button\n            label=\"I understand, add conditions\"\n            variant=\"subtle\"\n            theme=\"gray\"\n            @click=\"useNewUIForAssignCondition = true\"\n          />\n        </div>\n        <AssignmentRulesSection\n          :conditions=\"assignmentRuleData.assignConditionJson\"\n          name=\"assignCondition\"\n          :errors=\"assignmentRulesErrors.assignConditionError\"\n          v-else\n        />\n        <ErrorMessage\n          :message=\"assignmentRulesErrors.assignCondition\"\n          class=\"mt-2\"\n        />\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\">{{\n          __(\"Unassignment condition\")\n        }}</span>\n        <div class=\"flex items-center justify-between gap-6\">\n          <span class=\"text-p-sm text-ink-gray-6\">\n            {{\n              __(\n                \"Choose which tickets are affected by this un-assignment rule.\"\n              )\n            }}\n            <a\n              class=\"font-medium underline\"\n              href=\"https://docs.frappe.io/helpdesk/assignment-rule\"\n              target=\"_blank\"\n              >{{ __(\"Learn about conditions\") }}</a\n            >\n          </span>\n          <div\n            v-if=\"\n              isUnassignConditionOld &&\n              assignmentRulesActiveScreen.data &&\n              assignmentRuleData.unassignCondition\n            \"\n          >\n            <Popover trigger=\"hover\" :hoverDelay=\"0.25\" placement=\"top-end\">\n              <template #target>\n                <div\n                  class=\"text-sm text-ink-gray-6 flex gap-1 cursor-default text-nowrap flex items-center\"\n                >\n                  <span> {{ __(\"Old Condition\") }} </span>\n                  <FeatherIcon name=\"info\" class=\"size-4\" />\n                </div>\n              </template>\n              <template #body-main>\n                <div\n                  class=\"text-sm text-ink-gray-6 p-2 bg-white rounded-md max-w-96 text-wrap whitespace-pre-wrap leading-5\"\n                >\n                  <code>{{ assignmentRuleData.unassignCondition }}</code>\n                </div>\n              </template>\n            </Popover>\n          </div>\n        </div>\n      </div>\n      <div class=\"mt-5\">\n        <div\n          class=\"flex flex-col gap-3 items-center text-center text-ink-gray-7 text-sm mb-2 border border-gray-300 rounded-md p-3 py-4\"\n          v-if=\"\n            !useNewUIForUnassignCondition &&\n            assignmentRuleData.unassignCondition\n          \"\n        >\n          <span class=\"text-p-sm\">\n            Conditions for this rule were created from\n            <a :href=\"deskUrl\" target=\"_blank\" class=\"underline\">desk</a> which\n            are not compatible with this UI, you will need to recreate the\n            conditions here if you want to manage and add new conditions from\n            this UI.\n          </span>\n          <Button\n            label=\"I understand, add conditions\"\n            variant=\"subtle\"\n            theme=\"gray\"\n            @click=\"useNewUIForUnassignCondition = true\"\n          />\n        </div>\n        <AssignmentRulesSection\n          :conditions=\"assignmentRuleData.unassignConditionJson\"\n          name=\"unassignCondition\"\n          :errors=\"assignmentRulesErrors.unassignConditionError\"\n          v-else\n        />\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\">{{\n          __(\"Assignment Schedule\")\n        }}</span>\n        <span class=\"text-p-sm text-ink-gray-6\">\n          {{\n            __(\"Choose the days of the week when this rule should be active.\")\n          }}\n        </span>\n      </div>\n      <div class=\"mt-6\">\n        <AssignmentSchedule />\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <AssigneeRules />\n  </div>\n  <ConfirmDialog\n    v-model=\"showConfirmDialog.show\"\n    :title=\"showConfirmDialog.title\"\n    :message=\"showConfirmDialog.message\"\n    :onConfirm=\"showConfirmDialog.onConfirm\"\n    :onCancel=\"() => (showConfirmDialog.show = false)\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport ConfirmDialog from \"@/components/ConfirmDialog.vue\";\nimport {\n  Badge,\n  Button,\n  call,\n  createResource,\n  ErrorMessage,\n  FormControl,\n  FormLabel,\n  LoadingIndicator,\n  Popover,\n  Switch,\n  toast,\n} from \"frappe-ui\";\nimport { onMounted, onUnmounted, ref, watch } from \"vue\";\nimport {\n  assignmentRuleData,\n  assignmentRulesActiveScreen,\n  assignmentRulesErrors,\n  resetAssignmentRuleData,\n  resetAssignmentRuleErrors,\n  validateAssignmentRule,\n} from \"../../../stores/assignmentRules\";\nimport AssigneeRules from \"./AssigneeRules.vue\";\nimport AssignmentRulesSection from \"./AssignmentRulesSection.vue\";\nimport AssignmentSchedule from \"./AssignmentSchedule.vue\";\nimport { convertToConditions } from \"@/utils\";\nimport { disableSettingModalOutsideClick } from \"../settingsModal\";\n\nconst isDirty = ref(false);\nconst initialData = ref(null);\nconst isLoading = ref(false);\n\nconst showConfirmDialog = ref({\n  show: false,\n  title: \"\",\n  message: \"\",\n  onConfirm: () => {},\n});\nconst useNewUIForAssignCondition = ref(true);\nconst useNewUIForUnassignCondition = ref(true);\nconst isAssignConditionOld = ref(false);\nconst isUnassignConditionOld = ref(false);\nconst deskUrl = `${window.location.origin}/app/assignment-rule/${assignmentRulesActiveScreen.value.data?.name}`;\n\nconst getAssignmentRuleData = createResource({\n  url: \"frappe.client.get\",\n  params: {\n    doctype: \"Assignment Rule\",\n    name: assignmentRulesActiveScreen.value.data?.name,\n  },\n  auto: Boolean(assignmentRulesActiveScreen.value.data),\n  onSuccess(data) {\n    let assignConditionJson;\n    let unassignConditionJson;\n    try {\n      assignConditionJson = JSON.parse(data.assign_condition_json || \"[]\");\n    } catch (error) {\n      toast.error(\n        \"Assignment conditions are invalid or corrupt, recreate the conditions.\"\n      );\n      assignConditionJson = [];\n    }\n    try {\n      unassignConditionJson = JSON.parse(data.unassign_condition_json || \"[]\");\n    } catch (error) {\n      toast.error(\n        \"Unassignment conditions are invalid or corrupt, recreate the conditions.\"\n      );\n      unassignConditionJson = [];\n    }\n    assignmentRuleData.value = {\n      loading: false,\n      assignCondition: data.assign_condition,\n      unassignCondition: data.unassign_condition,\n      assignConditionJson: assignConditionJson,\n      unassignConditionJson: unassignConditionJson,\n      rule: data.rule,\n      priority: data.priority,\n      users: data.users,\n      disabled: data.disabled,\n      description: data.description,\n      name: data.name,\n      assignmentRuleName: data.name,\n      assignmentDays: data.assignment_days.map((day) => day.day),\n    };\n\n    initialData.value = JSON.stringify(assignmentRuleData.value);\n\n    const assignConditionsAvailable =\n      assignmentRuleData.value.assignCondition?.length > 0;\n    const assignConditionsJsonAvailable =\n      assignmentRuleData.value.assignConditionJson?.length > 0;\n\n    if (assignConditionsAvailable && !assignConditionsJsonAvailable) {\n      useNewUIForAssignCondition.value = false;\n      isAssignConditionOld.value = true;\n    } else {\n      useNewUIForAssignCondition.value = true;\n      isAssignConditionOld.value = false;\n    }\n\n    const unassignConditionsAvailable =\n      assignmentRuleData.value.unassignCondition?.length > 0;\n    const unassignConditionsJsonAvailable =\n      assignmentRuleData.value.unassignConditionJson?.length > 0;\n\n    if (unassignConditionsAvailable && !unassignConditionsJsonAvailable) {\n      useNewUIForUnassignCondition.value = false;\n      isUnassignConditionOld.value = true;\n    } else {\n      useNewUIForUnassignCondition.value = true;\n      isUnassignConditionOld.value = false;\n    }\n  },\n});\n\nif (!assignmentRulesActiveScreen.value.data) {\n  disableSettingModalOutsideClick.value = true;\n}\n\nconst goBack = () => {\n  const confirmDialogInfo = {\n    show: true,\n    title: \"Unsaved changes\",\n    message: \"Are you sure you want to go back? Unsaved changes will be lost.\",\n    onConfirm: goBack,\n  };\n  if (isDirty.value && !showConfirmDialog.value.show) {\n    showConfirmDialog.value = confirmDialogInfo;\n    return;\n  }\n  if (\n    !assignmentRulesActiveScreen.value.data &&\n    !showConfirmDialog.value.show\n  ) {\n    showConfirmDialog.value = confirmDialogInfo;\n    return;\n  }\n  // Workaround fix for settings modal not closing after going back\n  setTimeout(() => {\n    assignmentRulesActiveScreen.value = {\n      screen: \"list\",\n      data: null,\n    };\n  }, 250);\n  showConfirmDialog.value.show = false;\n};\n\nconst saveAssignmentRule = () => {\n  const validationErrors = validateAssignmentRule(\n    undefined,\n    !useNewUIForAssignCondition.value,\n    !useNewUIForUnassignCondition.value\n  );\n\n  if (Object.values(validationErrors).some((error) => error)) {\n    toast.error(\n      \"Invalid fields, check if all are filled in and values are correct.\"\n    );\n    return;\n  }\n\n  if (assignmentRulesActiveScreen.value.data) {\n    if (isAssignConditionOld.value && useNewUIForAssignCondition.value) {\n      showOverwriteConfirm();\n      return;\n    }\n    if (isUnassignConditionOld.value && useNewUIForUnassignCondition.value) {\n      showOverwriteConfirm();\n      return;\n    }\n    updateAssignmentRule();\n  } else {\n    createAssignmentRule();\n  }\n};\n\nconst showOverwriteConfirm = () => {\n  showConfirmDialog.value = {\n    show: true,\n    title: \"Confirm overwrite\",\n    message:\n      \"Your old condition will be overwritten. Are you sure you want to save?\",\n    onConfirm: () => {\n      updateAssignmentRule();\n      showConfirmDialog.value.show = false;\n    },\n  };\n};\n\nconst createAssignmentRule = () => {\n  isLoading.value = true;\n  createResource({\n    url: \"frappe.client.insert\",\n    params: {\n      doc: {\n        doctype: \"Assignment Rule\",\n        document_type: \"HD Ticket\",\n        rule: assignmentRuleData.value.rule,\n        priority: assignmentRuleData.value.priority,\n        users: assignmentRuleData.value.users,\n        disabled: assignmentRuleData.value.disabled,\n        description: assignmentRuleData.value.description,\n        assignment_days: assignmentRuleData.value.assignmentDays.map((day) => ({\n          day: day,\n        })),\n        name: assignmentRuleData.value.assignmentRuleName,\n        assignment_rule_name: assignmentRuleData.value.assignmentRuleName,\n        assign_condition: convertToConditions({\n          conditions: assignmentRuleData.value.assignConditionJson,\n        }),\n        unassign_condition: convertToConditions({\n          conditions: assignmentRuleData.value.unassignConditionJson,\n        }),\n        assign_condition_json: JSON.stringify(\n          assignmentRuleData.value.assignConditionJson\n        ),\n        unassign_condition_json: JSON.stringify(\n          assignmentRuleData.value.unassignConditionJson\n        ),\n      },\n    },\n    auto: true,\n    onSuccess(data) {\n      getAssignmentRuleData\n        .submit({\n          doctype: \"Assignment Rule\",\n          name: data.name,\n        })\n        .then(() => {\n          isLoading.value = false;\n          toast.success(\"Assignment rule created\");\n        });\n      assignmentRulesActiveScreen.value = {\n        screen: \"view\",\n        data: data,\n      };\n    },\n    onError: () => {\n      isLoading.value = false;\n    },\n  });\n};\n\nconst priorityOptions = [\n  { label: \"Low\", value: \"0\" },\n  { label: \"Low-Medium\", value: \"1\" },\n  { label: \"Medium\", value: \"2\" },\n  { label: \"Medium-High\", value: \"3\" },\n  { label: \"High\", value: \"4\" },\n];\n\nconst updateAssignmentRule = async () => {\n  isLoading.value = true;\n\n  await call(\"frappe.client.set_value\", {\n    doctype: \"Assignment Rule\",\n    document_type: \"HD Ticket\",\n    name: assignmentRuleData.value.name,\n    fieldname: {\n      rule: assignmentRuleData.value.rule,\n      priority: assignmentRuleData.value.priority,\n      users: assignmentRuleData.value.users,\n      disabled: assignmentRuleData.value.disabled,\n      description: assignmentRuleData.value.description,\n      assignment_days: assignmentRuleData.value.assignmentDays.map((day) => ({\n        day: day,\n      })),\n      assign_condition: useNewUIForAssignCondition.value\n        ? convertToConditions({\n            conditions: assignmentRuleData.value.assignConditionJson,\n          })\n        : assignmentRuleData.value.assignCondition,\n      unassign_condition: useNewUIForUnassignCondition.value\n        ? convertToConditions({\n            conditions: assignmentRuleData.value.unassignConditionJson,\n          })\n        : assignmentRuleData.value.unassignCondition,\n      assign_condition_json: useNewUIForAssignCondition.value\n        ? JSON.stringify(assignmentRuleData.value.assignConditionJson)\n        : null,\n      unassign_condition_json: useNewUIForUnassignCondition.value\n        ? JSON.stringify(assignmentRuleData.value.unassignConditionJson)\n        : null,\n    },\n  }).catch((er) => {\n    const error =\n      er?.messages?.[0] || \"Some error occurred while updating assignment rule\";\n    toast.error(error);\n    isLoading.value = false;\n  });\n\n  if (\n    assignmentRuleData.value.name !==\n    assignmentRuleData.value.assignmentRuleName\n  ) {\n    await call(\"frappe.client.rename_doc\", {\n      doctype: \"Assignment Rule\",\n      old_name: assignmentRuleData.value.name,\n      new_name: assignmentRuleData.value.assignmentRuleName,\n    }).catch(async (er) => {\n      const error =\n        er?.messages?.[0] ||\n        \"Some error occurred while renaming assignment rule\";\n      toast.error(error);\n      // Reset assignment rule to previous state\n      await getAssignmentRuleData.reload();\n      isLoading.value = false;\n    });\n    await getAssignmentRuleData.submit({\n      doctype: \"Assignment Rule\",\n      name: assignmentRuleData.value.assignmentRuleName,\n    });\n  } else {\n    getAssignmentRuleData.reload();\n  }\n\n  isLoading.value = false;\n  toast.success(\"Assignment rule updated\");\n};\n\nwatch(\n  assignmentRuleData,\n  (newVal) => {\n    if (!initialData.value) return;\n    isDirty.value = JSON.stringify(newVal) != initialData.value;\n    if (isDirty.value) {\n      disableSettingModalOutsideClick.value = true;\n    } else {\n      disableSettingModalOutsideClick.value = false;\n    }\n  },\n  { deep: true }\n);\n\nconst beforeUnloadHandler = (event) => {\n  if (!isDirty.value) return;\n  event.preventDefault();\n  event.returnValue = true;\n};\n\nonMounted(() => {\n  addEventListener(\"beforeunload\", beforeUnloadHandler);\n});\n\nonUnmounted(() => {\n  resetAssignmentRuleErrors();\n  resetAssignmentRuleData();\n  removeEventListener(\"beforeunload\", beforeUnloadHandler);\n  disableSettingModalOutsideClick.value = false;\n});\n</script>\n","<template>\n  <div class=\"pb-8\">\n    <AssignmentRulesList v-if=\"assignmentRulesActiveScreen.screen === 'list'\" />\n    <AssignmentRuleView v-if=\"assignmentRulesActiveScreen.screen === 'view'\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { assignmentRulesActiveScreen } from \"../../../stores/assignmentRules\";\nimport AssignmentRulesList from \"./AssignmentRulesList.vue\";\nimport AssignmentRuleView from \"./AssignmentRuleView.vue\";\n</script>\n","<template>\n  <FormControl\n    :type=\"show ? 'text' : 'password'\"\n    :value=\"modelValue || value\"\n    v-bind=\"$attrs\"\n    @keydown.meta.i.prevent=\"show = !show\"\n    @keydown.ctrl.i.prevent=\"show = !show\"\n  >\n    <template #prefix v-if=\"$slots.prefix\">\n      <slot name=\"prefix\" />\n    </template>\n    <template #suffix>\n      <Tooltip>\n        <template #body>\n          <div\n            class=\"rounded bg-surface-gray-7 py-1.5 px-2 text-xs text-ink-white shadow-xl\"\n          >\n            <span class=\"flex items-center gap-1\">\n              {{ show ? \"Hide Password\" : \"Show Password\" }}\n            </span>\n          </div>\n        </template>\n        <div>\n          <component\n            v-show=\"showEye\"\n            :is=\"show ? LucideEyeOff : LucideEye\"\n            class=\"h-3 cursor-pointer mr-1\"\n            @click=\"show = !show\"\n          />\n        </div>\n      </Tooltip>\n    </template>\n  </FormControl>\n</template>\n<script setup lang=\"ts\">\nimport LucideEye from \"~icons/lucide/eye\";\nimport LucideEyeOff from \"~icons/lucide/eye-off\";\nimport { ref, computed } from \"vue\";\nimport { FormControl, Tooltip } from \"frappe-ui\";\n\nconst props = defineProps({\n  value: {\n    type: String,\n    default: \"\",\n  },\n  modelValue: {\n    type: String,\n    default: \"\",\n  },\n});\n\nconst show = ref(false);\nconst showEye = computed(() => {\n  let v = props.modelValue || props.value;\n  return !v?.includes(\"*\");\n});\n</script>\n","export const isDocDirty = (doc: any, originalDoc: any) => {\n  return JSON.stringify(doc) !== JSON.stringify(originalDoc);\n};\n\nexport const validateTwilio = (twilio, telephonyAgent, twilioErrors) => {\n  if (telephonyAgent.default_medium === \"Twilio\" && !twilio.enabled) {\n    twilioErrors.value.default_medium =\n      \"Enable Twilio to set it as default medium\";\n  } else {\n    twilioErrors.value.default_medium = \"\";\n  }\n\n  if (!twilio.enabled) {\n    return;\n  }\n\n  if (!twilio.account_sid) {\n    twilioErrors.value.accountSid = \"Account SID is required\";\n  } else {\n    twilioErrors.value.accountSid = \"\";\n  }\n\n  if (!twilio.auth_token) {\n    twilioErrors.value.authToken = \"Auth Token is required\";\n  } else {\n    twilioErrors.value.authToken = \"\";\n  }\n\n  if (!telephonyAgent.twilio_number) {\n    twilioErrors.value.number = \"Number is required\";\n  } else if (!validatePhone(telephonyAgent.twilio_number)) {\n    twilioErrors.value.number = \"Please enter a valid phone number\";\n  } else {\n    twilioErrors.value.number = \"\";\n  }\n};\n\nexport const validateExotel = (exotel, telephonyAgent, exotelErrors) => {\n  if (telephonyAgent.default_medium === \"Exotel\" && !exotel.enabled) {\n    exotelErrors.value.default_medium =\n      \"Enable Exotel to set it as default medium\";\n  } else {\n    exotelErrors.value.default_medium = \"\";\n  }\n\n  if (!exotel.enabled) {\n    return;\n  }\n\n  if (!exotel.account_sid) {\n    exotelErrors.value.accountSid = \"Account SID is required\";\n  } else {\n    exotelErrors.value.accountSid = \"\";\n  }\n\n  if (!exotel.webhook_verify_token) {\n    exotelErrors.value.webhookVerifyToken = \"Webhook Verify Token is required\";\n  } else {\n    exotelErrors.value.webhookVerifyToken = \"\";\n  }\n\n  if (!exotel.subdomain) {\n    exotelErrors.value.subdomain = \"Subdomain is required\";\n  } else {\n    exotelErrors.value.subdomain = \"\";\n  }\n\n  if (!exotel.api_key) {\n    exotelErrors.value.apiKey = \"API Key is required\";\n  } else {\n    exotelErrors.value.apiKey = \"\";\n  }\n\n  if (!exotel.api_token) {\n    exotelErrors.value.apiToken = \"API Token is required\";\n  } else {\n    exotelErrors.value.apiToken = \"\";\n  }\n\n  if (!telephonyAgent.exotel_number) {\n    exotelErrors.value.number = \"Number is required\";\n  } else if (!validatePhone(telephonyAgent.exotel_number)) {\n    exotelErrors.value.number = \"Please enter a valid phone number\";\n  } else {\n    exotelErrors.value.number = \"\";\n  }\n\n  if (!telephonyAgent.mobile_no) {\n    exotelErrors.value.mobileNo = \"Personal number is required\";\n  } else if (!validatePhone(telephonyAgent.mobile_no)) {\n    exotelErrors.value.mobileNo = \"Please enter a valid phone number\";\n  } else {\n    exotelErrors.value.mobileNo = \"\";\n  }\n};\n\nconst validatePhone = (number: string) => {\n  return /^\\+?\\d{8,15}$/.test(number);\n};\n","<template>\n  <div class=\"px-10 py-8\">\n    <SettingsLayoutHeader description=\"Configure your telephony settings.\">\n      <template #title>\n        <div class=\"flex items-center gap-2\">\n          <h1 class=\"text-lg font-semibold text-ink-gray-8\">Telephony</h1>\n          <Badge\n            :class=\"[\n              isDirty.twilio || isDirty.exotel || isDirty.telephonyAgent\n                ? 'opacity-100'\n                : 'opacity-0',\n            ]\"\n            label=\"Unsaved\"\n            theme=\"orange\"\n            variant=\"subtle\"\n          />\n        </div>\n      </template>\n      <template #actions>\n        <Button\n          label=\"Save\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"save\"\n          :disabled=\"\n            !isDirty.twilio && !isDirty.exotel && !isDirty.telephonyAgent\n          \"\n          :loading=\"\n            twilio.save.loading ||\n            exotel.save.loading ||\n            telephonyAgent.save.loading\n          \"\n        />\n      </template>\n    </SettingsLayoutHeader>\n  </div>\n  <div class=\"px-10 pb-8 overflow-y-auto\">\n    <div class=\"text-base font-semibold text-ink-gray-8\">\n      {{ __(\"Agent settings\") }}\n    </div>\n    <div class=\"text-p-xs text-ink-gray-6 mt-1\">\n      {{ __(\"Configure your agents telephony details.\") }}\n    </div>\n    <div class=\"grid grid-cols-2 gap-4 mt-4\">\n      <div class=\"flex flex-col gap-1.5\">\n        <FormLabel label=\"Default medium\" />\n        <Select\n          v-if=\"telephonyAgent.doc\"\n          :options=\"telephonyProviders\"\n          :modelValue=\"telephonyAgent.doc?.default_medium\"\n          @update:modelValue=\"telephonyAgent.doc.default_medium = $event\"\n        />\n        <ErrorMessage\n          :message=\"twilioErrors.default_medium || exotelErrors.default_medium\"\n        />\n      </div>\n      <div\n        class=\"flex flex-col gap-1.5\"\n        v-if=\"telephonyAgent.doc && twilio.doc?.enabled\"\n      >\n        <FormControl\n          label=\"Twilio number\"\n          type=\"text\"\n          required\n          v-model=\"telephonyAgent.doc.twilio_number\"\n        />\n        <ErrorMessage :message=\"twilioErrors.number\" />\n      </div>\n      <div\n        class=\"flex flex-col gap-1.5\"\n        v-if=\"telephonyAgent.doc && exotel.doc?.enabled\"\n      >\n        <FormControl\n          label=\"Exotel number\"\n          type=\"text\"\n          required\n          v-model=\"telephonyAgent.doc.exotel_number\"\n        />\n        <ErrorMessage :message=\"exotelErrors.number\" />\n      </div>\n      <div\n        class=\"flex flex-col gap-1.5\"\n        v-if=\"telephonyAgent.doc && exotel.doc?.enabled\"\n      >\n        <FormControl\n          label=\"Personal mobile no\"\n          type=\"text\"\n          required\n          v-model=\"telephonyAgent.doc.mobile_no\"\n          :description=\"__('Required for exotel integration')\"\n        />\n        <ErrorMessage :message=\"exotelErrors.mobileNo\" />\n      </div>\n    </div>\n    <div class=\"mt-6\" v-if=\"twilio?.doc\">\n      <div class=\"text-base font-semibold text-ink-gray-8\">Twilio</div>\n      <div class=\"mt-4\">\n        <div class=\"grid grid-cols-2 gap-4\">\n          <Checkbox\n            label=\"Enabled\"\n            v-model=\"twilio.doc.enabled\"\n            @update:modelValue=\"twilio.doc.enabled = $event ? 1 : 0\"\n          />\n          <Checkbox\n            label=\"Record Calls\"\n            v-model=\"twilio.doc.record_calls\"\n            v-if=\"twilio.doc.enabled\"\n            @update:modelValue=\"twilio.doc.record_calls = $event ? 1 : 0\"\n          />\n        </div>\n        <div class=\"grid grid-cols-2 gap-4 mt-4\" v-if=\"twilio.doc.enabled\">\n          <div class=\"flex flex-col gap-2\">\n            <FormControl\n              label=\"Account SID\"\n              required\n              v-model=\"twilio.doc.account_sid\"\n              placeholder=\"Account SID\"\n            />\n            <ErrorMessage :message=\"twilioErrors.accountSid\" />\n          </div>\n          <div class=\"flex flex-col gap-2\">\n            <Password\n              label=\"Auth Token\"\n              required\n              v-model=\"twilio.doc.auth_token\"\n              placeholder=\"Auth Token\"\n            />\n            <ErrorMessage :message=\"twilioErrors.authToken\" />\n          </div>\n          <FormControl\n            v-if=\"twilio.doc.api_key\"\n            label=\"API Key\"\n            v-model=\"twilio.doc.api_key\"\n            disabled\n          />\n          <Password\n            v-if=\"twilio.doc.api_secret\"\n            label=\"API Secret\"\n            v-model=\"twilio.doc.api_secret\"\n            disabled\n          />\n          <Autocomplete\n            v-if=\"twilio.originalDoc?.account_sid && twilioApps.length > 0\"\n            label=\"TwiML App Name\"\n            :model-value=\"twilio.doc.app_name\"\n            @update:modelValue=\"twilio.doc.app_name = $event.value\"\n            :options=\"twilioApps\"\n          >\n            <template #footer=\"{ togglePopover }\">\n              <Button\n                label=\"Refresh Apps\"\n                theme=\"gray\"\n                variant=\"subtle\"\n                class=\"w-full\"\n                icon-left=\"refresh-cw\"\n                @click=\"refreshApps(togglePopover)\"\n                :loading=\"twilioAppsResource.loading\"\n              />\n            </template>\n          </Autocomplete>\n          <FormControl\n            v-if=\"twilio.doc.twiml_sid\"\n            label=\"TwiML App SID\"\n            v-model=\"twilio.doc.twiml_sid\"\n            disabled\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"mt-6\" v-if=\"exotel?.doc\">\n      <div class=\"text-base font-semibold text-ink-gray-8\">Exotel</div>\n      <div class=\"mt-4\">\n        <div class=\"grid grid-cols-2 gap-4\">\n          <Checkbox\n            label=\"Enabled\"\n            v-model=\"exotel.doc.enabled\"\n            @update:modelValue=\"exotel.doc.enabled = $event ? 1 : 0\"\n          />\n          <Checkbox\n            label=\"Record Calls\"\n            v-model=\"exotel.doc.record_call\"\n            v-if=\"exotel.doc.enabled\"\n            @update:modelValue=\"exotel.doc.record_call = $event ? 1 : 0\"\n          />\n        </div>\n        <div class=\"grid grid-cols-2 gap-4 mt-4\" v-if=\"exotel.doc.enabled\">\n          <div class=\"flex flex-col gap-2\">\n            <FormControl\n              label=\"Account SID\"\n              required\n              v-model=\"exotel.doc.account_sid\"\n              placeholder=\"Account SID\"\n            />\n            <ErrorMessage :message=\"exotelErrors.accountSid\" />\n          </div>\n          <div class=\"flex flex-col gap-2\">\n            <FormControl\n              label=\"Webhook Verify Token\"\n              required\n              v-model=\"exotel.doc.webhook_verify_token\"\n              placeholder=\"Webhook Verify Token\"\n            />\n            <ErrorMessage :message=\"exotelErrors.webhookVerifyToken\" />\n          </div>\n\n          <div class=\"flex flex-col gap-2\">\n            <FormControl\n              label=\"API Key\"\n              required\n              v-model=\"exotel.doc.api_key\"\n              placeholder=\"API Key\"\n            />\n            <ErrorMessage :message=\"exotelErrors.apiKey\" />\n          </div>\n          <div class=\"flex flex-col gap-2\">\n            <Password\n              label=\"API Token\"\n              required\n              v-model=\"exotel.doc.api_token\"\n              placeholder=\"API Token\"\n            />\n            <ErrorMessage :message=\"exotelErrors.apiToken\" />\n          </div>\n          <div class=\"flex flex-col gap-2\">\n            <FormControl\n              label=\"Subdomain\"\n              required\n              v-model=\"exotel.doc.subdomain\"\n              placeholder=\"Subdomain\"\n            />\n            <ErrorMessage :message=\"exotelErrors.subdomain\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Password from \"@/components/Password.vue\";\nimport SettingsLayoutHeader from \"../SettingsLayoutHeader.vue\";\nimport {\n  Button,\n  Select,\n  FormLabel,\n  Checkbox,\n  FormControl,\n  createDocumentResource,\n  toast,\n  ErrorMessage,\n  createResource,\n  Badge,\n  Autocomplete,\n} from \"frappe-ui\";\nimport { nextTick, ref, watch } from \"vue\";\nimport { isDocDirty, validateExotel, validateTwilio } from \"./utils\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useTelephonyStore } from \"@/stores/telephony\";\n\nconst auth = useAuthStore();\nconst telephonyStore = useTelephonyStore();\nconst isDirty = ref({\n  twilio: false,\n  exotel: false,\n  telephonyAgent: false,\n});\nconst twilioApps = ref([]);\n\nconst twilioErrors = ref({\n  accountSid: \"\",\n  authToken: \"\",\n  number: \"\",\n  default_medium: \"\",\n});\n\nconst exotelErrors = ref({\n  accountSid: \"\",\n  webhookVerifyToken: \"\",\n  subdomain: \"\",\n  apiKey: \"\",\n  apiToken: \"\",\n  number: \"\",\n  mobileNo: \"\",\n  default_medium: \"\",\n});\n\nconst twilio = createDocumentResource({\n  doctype: \"TP Twilio Settings\",\n  name: \"TP Twilio Settings\",\n  cache: [\"tp_twilio_settings\"],\n  fields: [\"*\"],\n  auto: true,\n});\n\nconst exotel = createDocumentResource({\n  doctype: \"TP Exotel Settings\",\n  name: \"TP Exotel Settings\",\n  cache: [\"tp_exotel_settings\"],\n  fields: [\"*\"],\n  auto: true,\n});\n\nconst telephonyAgent = createDocumentResource({\n  doctype: \"TP Telephony Agent\",\n  name: auth.user,\n  cache: [\"tp_telephony_agent\"],\n  fields: [\"*\"],\n  auto: false,\n});\n\nconst twilioAppsResource = createResource({\n  url: \"telephony.twilio.api.fetch_applications\",\n  onSuccess() {\n    twilio.reload();\n  },\n});\n\nconst telephonyProviders = [\n  { label: \"\", value: \"\" },\n  { label: \"Twilio\", value: \"Twilio\" },\n  { label: \"Exotel\", value: \"Exotel\" },\n];\n\nasync function save() {\n  validateTwilio(twilio.doc, telephonyAgent.doc, twilioErrors);\n  validateExotel(exotel.doc, telephonyAgent.doc, exotelErrors);\n  if (Object.values(twilioErrors.value).some((v) => v)) {\n    toast.error(\"Please fill all required fields for Twilio\");\n    return;\n  }\n  if (Object.values(exotelErrors.value).some((v) => v)) {\n    toast.error(\"Please fill all required fields for Exotel\");\n    return;\n  }\n\n  const promises = [];\n\n  // Temporary fix, as createDocumentResource's dirty state has bug\n  if (isDirty.value.twilio) {\n    promises.push(\n      twilio.save.submit().catch((er) => {\n        const error = `Twilio error: ${er?.messages?.[0]}`;\n        toast.error(error || \"Failed to save Twilio settings\");\n      })\n    );\n  }\n  if (isDirty.value.exotel) {\n    promises.push(\n      exotel.save.submit().catch((er) => {\n        const error = `Exotel error: ${er?.messages?.[0]}`;\n        toast.error(error || \"Failed to save Exotel settings\");\n      })\n    );\n  }\n  if (isDirty.value.telephonyAgent) {\n    if (telephonyAgent.doc.twilio_number) {\n      telephonyAgent.doc.twilio = true;\n    } else {\n      telephonyAgent.doc.twilio = false;\n    }\n\n    if (telephonyAgent.doc.exotel_number) {\n      telephonyAgent.doc.exotel = true;\n    } else {\n      telephonyAgent.doc.exotel = false;\n    }\n    promises.push(telephonyAgent.save.submit());\n  }\n\n  const results = await Promise.all(promises);\n\n  if (!results.some((result) => result == undefined)) {\n    toast.success(\"Telephony settings updated!\");\n  }\n\n  // Reload twilio to prevent \"doc has been modified\" error, as an application is created and doc is updated on save\n  await twilio.reload();\n  telephonyStore.fetchCallIntegrationStatus();\n}\n\nfunction refreshApps(togglePopover) {\n  twilioAppsResource.submit().then(() => {\n    // Close and reopen popover to fix bug where search does not work after refreshing list\n    togglePopover();\n    nextTick(() => {\n      togglePopover();\n    });\n  });\n}\n\ncreateResource({\n  url: \"telephony.api.create_telephony_agent\",\n  auto: true,\n  onSuccess() {\n    telephonyAgent.get.submit();\n  },\n});\n\nwatch(\n  () => telephonyAgent.doc,\n  (newVal) => {\n    isDirty.value.telephonyAgent = isDocDirty(\n      newVal,\n      telephonyAgent.originalDoc\n    );\n  },\n  { deep: true }\n);\n\nwatch(\n  () => twilio.doc,\n  (newVal) => {\n    isDirty.value.twilio = isDocDirty(newVal, twilio.originalDoc);\n    twilioApps.value =\n      newVal.twilio_apps?.split(\",\").map((app) => ({\n        label: app,\n        value: app,\n      })) || [];\n  },\n  { deep: true }\n);\n\nwatch(\n  () => exotel.doc,\n  (newVal) => {\n    isDirty.value.exotel = isDocDirty(newVal, exotel.originalDoc);\n  },\n  { deep: true }\n);\n</script>\n","<template>\n  <!-- Header -->\n  <div class=\"pt-8 pb-2 bg-white sticky top-0 z-10\">\n    <SettingsLayoutHeader\n      :title=\"__('Email Notifications')\"\n      :description=\"\n        __(\n          'Customize your email notification preferences to stay informed about important updates and activities.'\n        )\n      \"\n    />\n  </div>\n  <!-- Body -->\n  <ul class=\"mt-4 pb-8 isolate\">\n    <li\n      v-for=\"notification in notifications\"\n      :key=\"notification.name\"\n      class=\"flex items-center justify-between p-3 rounded relative\"\n    >\n      <div class=\"flex flex-col gap-1\">\n        <h2\n          class=\"text-base font-medium text-ink-gray-7 relative z-10 pointer-events-none\"\n        >\n          {{ notification.label }}\n        </h2>\n        <p\n          class=\"text-sm text-ink-gray-5 truncate relative z-10 pointer-events-none\"\n        >\n          {{ notification.description }}\n        </p>\n      </div>\n      <FeatherIcon\n        name=\"chevron-right\"\n        class=\"text-ink-gray-7 size-4 relative z-10 pointer-events-none\"\n      />\n      <button\n        type=\"button\"\n        class=\"w-full h-full absolute top-0 left-0 hover:bg-gray-50 rounded-[inherit]\"\n        @click=\"\n          () => {\n            props.onSelect(notification);\n          }\n        \"\n      >\n        <span class=\"sr-only\">{{\n          __(\"customize {0}\", notification.name)\n        }}</span>\n      </button>\n    </li>\n  </ul>\n</template>\n\n<script setup lang=\"ts\">\nimport { __ } from \"@/translation\";\nimport SettingsLayoutHeader from \"../SettingsLayoutHeader.vue\";\nimport type { AtLeastOneNotifcation, Notification } from \"./types\";\n\nconst props = defineProps<{\n  onSelect: (notification: Notification) => void;\n}>();\n\nconst notifications: AtLeastOneNotifcation = [\n  {\n    name: \"share_feedback\",\n    label: __(\"Share Feedback\"),\n    description: __(\n      \"Sent to the user who has raised the ticket after the ticket is closed or resolved\"\n    ),\n  },\n  {\n    name: \"acknowledgement\",\n    label: __(\"Acknowledgement\"),\n    description: __(\"Sent to the user right after creating an email ticket\"),\n  },\n  {\n    name: \"reply_to_agents\",\n    label: __(\"Reply From Contact\"),\n    description: __(\n      \"Sent to all of the assigned agents after a reply from one of the contacts\"\n    ),\n  },\n  {\n    name: \"reply_via_agent\",\n    label: __(\"Reply From Agent\"),\n    description: __(\n      \"Sent to all of the recipients associated with an agent's reply\"\n    ),\n  },\n];\n</script>\n","<template>\n  <div class=\"flex-grow flex flex-col isolate\">\n    <!-- Header -->\n    <div class=\"sticky top-0 z-10 bg-white py-8\">\n      <SettingsLayoutHeader :description=\"props.description\">\n        <template #title>\n          <div class=\"flex items-center\">\n            <div\n              class=\"pl-5 pr-2 relative text-ink-gray-7 hover:opacity-70 min-h-8 flex items-center\"\n            >\n              <button\n                type=\"button\"\n                @click=\"internalOnBack\"\n                class=\"absolute top-0 -left-[0.375rem] w-full h-full\"\n              >\n                <span class=\"sr-only\">{{\n                  __(\"back to email event list\")\n                }}</span>\n                <LucideChevronLeft class=\"w-4.5 h-4.5\" />\n              </button>\n              <h1 class=\"font-semibold text-xl\">\n                {{ props.title }}\n              </h1>\n            </div>\n            <Badge\n              v-if=\"unsavedChanges\"\n              :variant=\"'subtle'\"\n              :theme=\"'orange'\"\n              size=\"sm\"\n              :label=\"__('Unsaved')\"\n            />\n          </div>\n        </template>\n        <template #actions>\n          <div\n            :inert=\"notificationDataResource.loading\"\n            class=\"flex items-center gap-x-4 pt-[0.125rem]\"\n            :class=\"{ invisible: notificationDataResource.loading }\"\n          >\n            <Switch\n              size=\"sm\"\n              :label=\"__('Enabled')\"\n              v-model=\"enabled\"\n              @update:model-value=\"setUnsavedChanges\"\n              :style=\"{ background: 'transparent', padding: '0px' }\"\n              class=\"flex-row-reverse gap-x-2 pl-0\"\n            />\n            <Button\n              type=\"button\"\n              :label=\"__('Save')\"\n              theme=\"gray\"\n              variant=\"solid\"\n              :disabled=\"!unsavedChanges\"\n              :loading=\"props.submitting\"\n              @click=\"props.onSubmit\"\n            />\n          </div>\n        </template>\n      </SettingsLayoutHeader>\n    </div>\n    <!-- Body -->\n    <div\n      class=\"flex flex-col gap-8 flex-grow pb-8\"\n      :class=\"{\n        'items-center justify-center': notificationDataResource.loading,\n      }\"\n    >\n      <template v-if=\"!notificationDataResource.loading\">\n        <slot name=\"formFields\"></slot>\n        <div class=\"flex flex-col gap-2\">\n          <FormControl\n            type=\"textarea\"\n            size=\"sm\"\n            :label=\"__('Email Content')\"\n            :required=\"true\"\n            :rows=\"10\"\n            v-model=\"content\"\n            :oninput=\"setUnsavedChanges\"\n          />\n          <div class=\"flex gap-x-1 items-start justify-between\">\n            <p class=\"text-sm text-gray-700 leading-5\">\n              {{\n                __(\n                  \"Find out all of the variables that can be used in the content\"\n                )\n              }}\n              <a\n                :href=\"props.documentationLink\"\n                target=\"_blank\"\n                class=\"underline font-semibold\"\n                >{{ __(\"here\") }}</a\n              >\n            </p>\n            <Button\n              :disabled=\"content === defaultContent\"\n              type=\"button\"\n              size=\"sm\"\n              variant=\"subtle\"\n              @click=\"onResetContent\"\n              class=\"w-fit\"\n            >\n              {{ __(\"Reset Content\") }}\n            </Button>\n          </div>\n        </div>\n      </template>\n      <LoadingIndicator v-else class=\"w-4\" />\n    </div>\n  </div>\n  <ConfirmDialog\n    v-model=\"showUnsavedConfirm\"\n    :title=\"__('Unsaved changes')\"\n    :message=\"\n      __('Are you sure you want to go back? Unsaved changes will be lost.')\n    \"\n    :onConfirm=\"\n      () => {\n        disableSettingModalOutsideClick = false;\n        props.onBack();\n      }\n    \"\n  />\n  <ConfirmDialog\n    v-model=\"showContentChangeConfirm\"\n    :title=\"__('Reset content')\"\n    :message=\"\n      __(\n        'Are you sure you want to reset the content? Current content will be overridden.'\n      )\n    \"\n    :onConfirm=\"\n      () => {\n        resetContent();\n        showContentChangeConfirm = false;\n      }\n    \"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch } from \"vue\";\nimport type { NotificationName } from \"./types\";\nimport { createResource, Switch, LoadingIndicator } from \"frappe-ui\";\nimport SettingsLayoutHeader from \"../SettingsLayoutHeader.vue\";\nimport ConfirmDialog from \"@/components/ConfirmDialog.vue\";\nimport { disableSettingModalOutsideClick } from \"../settingsModal\";\n\nconst props = defineProps<{\n  title: string;\n  description: string;\n  documentationLink: string;\n  defaultContent: string;\n  onBack: () => void;\n  onSubmit: (e: Event & { target: HTMLFormElement }) => void;\n  onGetDataSuccess: (data: any) => void;\n  submitting: boolean;\n  name: NotificationName;\n}>();\n\nconst content = defineModel<string>(\"content\", { required: true });\nconst enabled = defineModel<boolean>(\"enabled\", { required: true });\n\nconst unsavedChanges = ref(false);\nconst showUnsavedConfirm = ref(false);\nconst showContentChangeConfirm = ref(false);\n\nconst notificationDataResource = createResource({\n  url: \"helpdesk.api.settings.email_notifications.get_data\",\n  method: \"GET\",\n  params: {\n    notification: props.name,\n  },\n  auto: true,\n  onSuccess: props.onGetDataSuccess,\n});\n\nfunction setUnsavedChanges() {\n  unsavedChanges.value = true;\n}\n\nfunction resetUnsavedChanges() {\n  unsavedChanges.value = false;\n}\n\nfunction resetContent() {\n  content.value = props.defaultContent;\n  setUnsavedChanges();\n}\n\nfunction onResetContent() {\n  if (content.value !== props.defaultContent) {\n    showContentChangeConfirm.value = true;\n  }\n}\n\nfunction internalOnBack() {\n  if (unsavedChanges.value) {\n    showUnsavedConfirm.value = true;\n    return;\n  }\n  disableSettingModalOutsideClick.value = false;\n  props.onBack();\n}\n\nwatch(\n  () => unsavedChanges.value,\n  (val) => {\n    disableSettingModalOutsideClick.value = val;\n  }\n);\n\ndefineExpose({\n  setUnsavedChanges,\n  resetUnsavedChanges,\n});\n</script>\n","<template>\n  <Notification\n    v-model:content=\"content\"\n    :defaultContent=\"defaultContent\"\n    v-model:enabled=\"enabled\"\n    documentationLink=\"https://docs.frappe.io/helpdesk/email-notifications#available-variables-acknowledgement\"\n    ref=\"compRef\"\n    name=\"acknowledgement\"\n    :title=\"props.notification.label\"\n    :description=\"props.notification.description\"\n    :submitting=\"updateSettings.loading\"\n    :onBack=\"props.onBack\"\n    :onSubmit=\"onSubmit\"\n    :onGetDataSuccess=\"onGetDataSuccess\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport Notification from \"./Notification.vue\";\nimport { createResource } from \"frappe-ui\";\nimport type { BaseSettings, Notification as NotificationType } from \"./types\";\n\nconst props = defineProps<{\n  onBack: () => void;\n  notification: NotificationType;\n}>();\n\nconst content = ref(\"\");\nconst defaultContent = ref(\"\");\nconst enabled = ref(false);\nconst compRef = ref<InstanceType<typeof Notification>>();\n\nconst updateSettings = createResource({\n  url: \"helpdesk.api.settings.email_notifications.update_acknowledgement\",\n  method: \"PUT\",\n  auto: false,\n  onSuccess(data: BaseSettings) {\n    enabled.value = data.enabled;\n    content.value = data.content;\n    compRef.value.resetUnsavedChanges();\n  },\n});\n\nfunction onSubmit() {\n  return updateSettings.submit({\n    enabled: enabled.value,\n    content: content.value,\n  });\n}\n\nfunction onGetDataSuccess(data: BaseSettings & { default_content: string }) {\n  enabled.value = data.enabled;\n  content.value = data.content;\n  defaultContent.value = data.default_content;\n}\n</script>\n","<template>\n  <Notification\n    v-model:content=\"content\"\n    :defaultContent=\"defaultContent\"\n    v-model:enabled=\"enabled\"\n    documentationLink=\"https://docs.frappe.io/helpdesk/email-notifications#available-variables-reply-from-agent\"\n    ref=\"compRef\"\n    name=\"reply_via_agent\"\n    :title=\"props.notification.label\"\n    :description=\"props.notification.description\"\n    :submitting=\"updateSettings.loading\"\n    :onBack=\"props.onBack\"\n    :onSubmit=\"onSubmit\"\n    :onGetDataSuccess=\"onGetDataSuccess\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport Notification from \"./Notification.vue\";\nimport { createResource } from \"frappe-ui\";\nimport type { BaseSettings, Notification as NotificationType } from \"./types\";\n\nconst props = defineProps<{\n  onBack: () => void;\n  notification: NotificationType;\n}>();\n\nconst content = ref(\"\");\nconst defaultContent = ref(\"\");\nconst enabled = ref(false);\nconst compRef = ref<InstanceType<typeof Notification>>();\n\nconst updateSettings = createResource({\n  url: \"helpdesk.api.settings.email_notifications.update_reply_via_agent\",\n  method: \"PUT\",\n  auto: false,\n  onSuccess(data: BaseSettings) {\n    enabled.value = data.enabled;\n    content.value = data.content;\n    compRef.value.resetUnsavedChanges();\n  },\n});\n\nfunction onSubmit() {\n  return updateSettings.submit({\n    enabled: enabled.value,\n    content: content.value,\n  });\n}\n\nfunction onGetDataSuccess(data: BaseSettings & { default_content: string }) {\n  enabled.value = data.enabled;\n  content.value = data.content;\n  defaultContent.value = data.default_content;\n}\n</script>\n","<template>\n  <Notification\n    ref=\"compRef\"\n    name=\"share_feedback\"\n    :title=\"props.notification.label\"\n    :description=\"props.notification.description\"\n    v-model:content=\"content\"\n    :defaultContent=\"defaultContent\"\n    v-model:enabled=\"enabled\"\n    documentationLink=\"https://docs.frappe.io/helpdesk/email-notifications#available-variables-share-feedback\"\n    :onBack=\"props.onBack\"\n    :onSubmit=\"onSubmit\"\n    :onGetDataSuccess=\"onGetDataSuccess\"\n    :submitting=\"updateSettings.loading\"\n  >\n    <template #formFields>\n      <FormControl\n        type=\"autocomplete\"\n        size=\"sm\"\n        :label=\"__('On Ticket Status')\"\n        :options=\"statusOptions\"\n        :required=\"true\"\n        :model-value=\"ticketStatus\"\n        @update:model-value=\"\n          (val) => {\n            ticketStatus = val;\n            compRef.setUnsavedChanges();\n          }\n        \"\n      />\n    </template>\n  </Notification>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from \"vue\";\nimport Notification from \"./Notification.vue\";\nimport { createResource } from \"frappe-ui\";\nimport type { BaseSettings, Notification as NotificationType } from \"./types\";\nimport { useTicketStatusStore } from \"@/stores/ticketStatus\";\nimport { __ } from \"@/translation\";\n\nconst props = defineProps<{\n  onBack: () => void;\n  notification: NotificationType;\n}>();\n\nconst content = ref(\"\");\nconst defaultContent = ref(\"\");\nconst enabled = ref(false);\nconst compRef = ref<InstanceType<typeof Notification>>();\nconst { statuses } = useTicketStatusStore();\nconst statusOptions = computed<Record<\"label\" | \"value\", string>[]>(() =>\n  statuses.data\n    .filter((s) => s.category === \"Resolved\")\n    .map((s) => ({\n      label: __(s.label_agent),\n      value: s.label_agent,\n    }))\n);\nconst ticketStatus = ref<Record<\"label\" | \"value\", string> | null>(null);\n\ntype Data = {\n  ticket_status: Record<\"label\" | \"value\", string>;\n} & BaseSettings;\n\nconst updateSettings = createResource({\n  url: \"helpdesk.api.settings.email_notifications.update_share_feedback\",\n  method: \"PUT\",\n  auto: false,\n  onSuccess(_data: Data) {\n    compRef.value.resetUnsavedChanges();\n  },\n});\n\nfunction onSubmit() {\n  return updateSettings.submit({\n    ticket_status: ticketStatus.value,\n    enabled: enabled.value,\n    content: content.value,\n  });\n}\n\nfunction onGetDataSuccess(data: Data & { default_content: string }) {\n  ticketStatus.value = {\n    label: __(data.ticket_status.label),\n    value: data.ticket_status.value,\n  };\n  enabled.value = data.enabled;\n  content.value = data.content;\n  defaultContent.value = data.default_content;\n}\n</script>\n","<template>\n  <Notification\n    v-model:content=\"content\"\n    :defaultContent=\"defaultContent\"\n    v-model:enabled=\"enabled\"\n    documentationLink=\"https://docs.frappe.io/helpdesk/email-notifications#available-variables-reply-from-contact\"\n    ref=\"compRef\"\n    name=\"reply_to_agents\"\n    :title=\"props.notification.label\"\n    :description=\"props.notification.description\"\n    :submitting=\"updateSettings.loading\"\n    :onBack=\"props.onBack\"\n    :onSubmit=\"onSubmit\"\n    :onGetDataSuccess=\"onGetDataSuccess\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport Notification from \"./Notification.vue\";\nimport { createResource } from \"frappe-ui\";\nimport type { BaseSettings, Notification as NotificationType } from \"./types\";\n\nconst props = defineProps<{\n  onBack: () => void;\n  notification: NotificationType;\n}>();\n\nconst content = ref(\"\");\nconst defaultContent = ref(\"\");\nconst enabled = ref(false);\nconst compRef = ref<InstanceType<typeof Notification>>();\n\nconst updateSettings = createResource({\n  url: \"helpdesk.api.settings.email_notifications.update_reply_to_agents\",\n  method: \"PUT\",\n  auto: false,\n  onSuccess(data: BaseSettings) {\n    enabled.value = data.enabled;\n    content.value = data.content;\n    compRef.value.resetUnsavedChanges();\n  },\n});\n\nfunction onSubmit() {\n  return updateSettings.submit({\n    enabled: enabled.value,\n    content: content.value,\n  });\n}\n\nfunction onGetDataSuccess(data: BaseSettings & { default_content: string }) {\n  enabled.value = data.enabled;\n  content.value = data.content;\n  defaultContent.value = data.default_content;\n}\n</script>\n","<template>\n  <div class=\"px-10 h-full overflow-y-auto flex flex-col isolate\">\n    <NotificationList v-if=\"curNotification === null\" :onSelect=\"onSelect\" />\n    <component\n      v-else\n      :is=\"notificationToComponent[curNotification.name]\"\n      :onBack=\"resetCurNotification\"\n      :notification=\"curNotification\"\n    ></component>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { type Component, markRaw, ref } from \"vue\";\nimport type { Notification, NotificationName } from \"./types\";\nimport NotificationList from \"./NotificationList.vue\";\nimport Acknowledgement from \"./Acknowledgement.vue\";\nimport ReplyViaAgent from \"./ReplyViaAgent.vue\";\nimport ShareFeedback from \"./ShareFeedback.vue\";\nimport ReplyToAgents from \"./ReplyToAgents.vue\";\n\nconst curNotification = ref<Notification | null>(null);\n\nconst notificationToComponent: Record<\n  NotificationName,\n  Component<{ onBack: () => void; notification: Notification }>\n> = {\n  share_feedback: markRaw(ShareFeedback),\n  acknowledgement: markRaw(Acknowledgement),\n  reply_to_agents: markRaw(ReplyToAgents),\n  reply_via_agent: markRaw(ReplyViaAgent),\n};\n\nfunction resetCurNotification() {\n  curNotification.value = null;\n}\n\nfunction onSelect(notification: Notification) {\n  curNotification.value = notification;\n}\n</script>\n","import { h, markRaw, ref } from \"vue\";\nimport Agents from \"./Agents.vue\";\nimport Branding from \"./Branding.vue\";\nimport EmailConfig from \"./EmailConfig.vue\";\nimport TeamsConfig from \"./Teams/TeamsConfig.vue\";\nimport Sla from \"./Sla/Sla.vue\";\nimport HolidayList from \"./Holiday/Holiday.vue\";\nimport FieldDependencyConfig from \"./FieldDependency/FieldDependencyConfig.vue\";\nimport InviteAgents from \"./InviteAgents.vue\";\nimport ImageUp from \"~icons/lucide/image-up\";\nimport LucideMail from \"~icons/lucide/mail\";\nimport LucideMailOpen from \"~icons/lucide/mail-open\";\nimport LucideUser from \"~icons/lucide/user\";\nimport LucideUserPlus from \"~icons/lucide/user-plus\";\nimport LucideUsers from \"~icons/lucide/users\";\nimport ShieldCheck from \"~icons/lucide/shield-check\";\nimport Briefcase from \"~icons/lucide/briefcase\";\nimport AssignmentRules from \"./Assignment Rules/AssignmentRules.vue\";\nimport Settings from \"~icons/lucide/settings-2\";\nimport { FieldDependencyIcon, PhoneIcon } from \"@/components/icons\";\nimport Telephony from \"./Telephony/Telephony.vue\";\nimport { EmailNotifications } from \"./EmailNotifications\";\nimport { __ } from \"@/translation\";\n\nexport const tabs = [\n  {\n    label: __(\"Settings\"),\n    hideLabel: true,\n    items: [\n      {\n        label: \"Email Accounts\",\n        icon: markRaw(LucideMail),\n        component: markRaw(EmailConfig),\n      },\n      {\n        label: \"Email Notifications\",\n        icon: markRaw(LucideMailOpen),\n        component: markRaw(EmailNotifications),\n      },\n      {\n        label: \"Branding\",\n        icon: markRaw(ImageUp),\n        component: markRaw(Branding),\n      },\n      {\n        label: \"Agents\",\n        icon: markRaw(LucideUser),\n        component: markRaw(Agents),\n      },\n      {\n        label: \"Invite Agents\",\n        icon: markRaw(LucideUserPlus),\n        component: markRaw(InviteAgents),\n      },\n      {\n        label: \"Teams\",\n        icon: markRaw(LucideUsers),\n        component: markRaw(TeamsConfig),\n      },\n      {\n        label: \"SLA Policies\",\n        icon: markRaw(ShieldCheck),\n        component: markRaw(Sla),\n      },\n      {\n        label: \"Business Holidays\",\n        icon: markRaw(Briefcase),\n        component: markRaw(HolidayList),\n      },\n      {\n        label: \"Assignment Rules\",\n        icon: markRaw(h(Settings, { class: \"rotate-90\" })),\n        component: markRaw(AssignmentRules),\n      },\n      {\n        label: \"Field Dependencies\",\n        icon: markRaw(FieldDependencyIcon),\n        component: markRaw(FieldDependencyConfig),\n      },\n    ],\n  },\n  {\n    label: __(\"Integrations\"),\n    items: [\n      {\n        label: \"Telephony\",\n        icon: markRaw(PhoneIcon),\n        component: markRaw(Telephony),\n      },\n    ],\n  },\n];\n\nexport const activeTab = ref(tabs[0].items[0]);\n\nexport const nextActiveTab = ref(null);\n\nexport const disableSettingModalOutsideClick = ref(false);\n\nexport const setActiveSettingsTab = (tabName: string) => {\n  activeTab.value =\n    (tabName &&\n      tabs\n        .map((tab) => tab.items)\n        .flat()\n        .find((tab) => tab.label == tabName)) ||\n    tabs[0].items[0];\n};\n","<template>\n  <Dialog\n    v-model=\"show\"\n    :options=\"{ size: '5xl' }\"\n    :disableOutsideClickToClose=\"disableSettingModalOutsideClick\"\n  >\n    <template #body>\n      <div class=\"flex\" :style=\"{ height: 'calc(100vh - 8rem)' }\">\n        <div class=\"flex w-52 shrink-0 flex-col bg-gray-50 p-2\">\n          <h1 class=\"px-2 pt-2 text-lg font-semibold mb-3\">Settings</h1>\n          <div v-for=\"tab in tabs\">\n            <div\n              v-if=\"!tab.hideLabel\"\n              class=\"mb-2 mt-3 flex gap-1.5 px-1 text-base font-medium text-ink-gray-5\"\n            >\n              <span>{{ __(tab.label) }}</span>\n            </div>\n            <nav class=\"space-y-1\">\n              <button\n                v-for=\"item in tab.items\"\n                :key=\"item.label\"\n                class=\"flex h-7 w-full items-center gap-2 rounded px-2 py-1\"\n                :class=\"[\n                  activeTab?.label == item.label\n                    ? 'bg-white shadow-sm'\n                    : 'hover:bg-gray-100',\n                ]\"\n                @click=\"() => onTabChange(item)\"\n              >\n                <component :is=\"item.icon\" class=\"h-4 w-4 text-gray-700\" />\n                <span class=\"text-base text-gray-800\">\n                  {{ item.label }}\n                </span>\n              </button>\n            </nav>\n          </div>\n        </div>\n        <div class=\"flex flex-1 flex-col bg-surface-modal\">\n          <component\n            :is=\"activeTab.component\"\n            v-if=\"activeTab\"\n            class=\"h-full flex flex-col w-full\"\n          />\n        </div>\n      </div>\n    </template>\n  </Dialog>\n  <ConfirmDialog\n    v-model=\"showConfirmDialog\"\n    :title=\"__('Unsaved changes')\"\n    :message=\"\n      __('Are you sure you want to change tabs? Unsaved changes will be lost.')\n    \"\n    :onConfirm=\"\n      () => {\n        if (nextActiveTab !== null) {\n          activeTab = nextActiveTab;\n        }\n        nextActiveTab = null;\n        showConfirmDialog = false;\n        disableSettingModalOutsideClick = false;\n      }\n    \"\n    :onCancel=\"\n      () => {\n        nextActiveTab = null;\n      }\n    \"\n  />\n</template>\n<script setup lang=\"ts\">\nimport { Dialog } from \"frappe-ui\";\nimport { ModelRef, ref, watch } from \"vue\";\nimport ConfirmDialog from \"@/components/ConfirmDialog.vue\";\nimport {\n  activeTab,\n  disableSettingModalOutsideClick,\n  nextActiveTab,\n  tabs,\n} from \"./settingsModal\";\n\nconst show: ModelRef<boolean> = defineModel();\n\nconst showConfirmDialog = ref(false);\n\nfunction onTabChange(tab) {\n  if (!disableSettingModalOutsideClick.value) {\n    activeTab.value = tab;\n    return;\n  }\n  nextActiveTab.value = tab;\n  showConfirmDialog.value = true;\n}\n</script>\n","import { globalStore } from \"@/stores/globalStore\";\nimport { createResource } from \"frappe-ui\";\nimport { ref } from \"vue\";\n\nconst baseEndpoint = ref(\"https://frappecloud.com\");\nconst siteName = ref(\"\");\n\nexport const currentSiteInfo = createResource({\n  url: \"frappe.integrations.frappe_providers.frappecloud_billing.current_site_info\",\n  cache: \"currentSiteInfo\",\n  onSuccess: (data) => {\n    baseEndpoint.value = data.base_url;\n    siteName.value = data.site_name;\n  },\n});\n\nexport const confirmLoginToFrappeCloud = () => {\n  currentSiteInfo.fetch();\n\n  const { $dialog } = globalStore();\n\n  $dialog({\n    title: \"Login to Frappe Cloud?\",\n    message: \"Are you sure you want to login to your Frappe Cloud dashboard?\",\n    actions: [\n      {\n        label: \"Confirm\",\n        variant: \"solid\",\n        onClick(close: Function) {\n          loginToFrappeCloud();\n          close();\n        },\n      },\n    ],\n  });\n};\n\nconst loginToFrappeCloud = () => {\n  window.open(\n    `${baseEndpoint.value}/dashboard/sites/${siteName.value}`,\n    \"_blank\"\n  );\n};\n","<template>\n  <div\n    class=\"flex select-none flex-col border-r border-gray-200 bg-gray-50 p-2 text-base duration-300 ease-in-out\"\n    :style=\"{\n      'min-width': width,\n      'max-width': width,\n    }\"\n  >\n    <UserMenu class=\"mb-2\" :options=\"profileSettings\" />\n    <SidebarLink\n      v-if=\"!isCustomerPortal\"\n      label=\"Search\"\n      class=\"my-0.5\"\n      :icon=\"LucideSearch\"\n      :on-click=\"() => openCommandPalette()\"\n      :is-expanded=\"isExpanded\"\n    >\n      <template #right>\n        <span class=\"flex items-center gap-0.5 font-medium text-gray-600\">\n          <component :is=\"device.modifierIcon\" class=\"h-3 w-3\" />\n          <span>K</span>\n        </span>\n      </template>\n    </SidebarLink>\n    <SidebarLink\n      v-if=\"!isCustomerPortal\"\n      class=\"relative my-0.5 min-h-7\"\n      label=\"Dashboard\"\n      :icon=\"LucideLayoutDashboard\"\n      :to=\"'Dashboard'\"\n      :is-active=\"isActiveTab('Dashboard')\"\n      :is-expanded=\"isExpanded\"\n    />\n    <div class=\"mb-4\" v-if=\"!isCustomerPortal\">\n      <div\n        v-if=\"notificationStore.unread\"\n        class=\"absolute size-1.5 translate-x-6 translate-y-1 rounded-full bg-blue-400 left-1\"\n        theme=\"gray\"\n        variant=\"solid\"\n      />\n      <SidebarLink\n        class=\"relative my-0.5\"\n        label=\"Notifications\"\n        :icon=\"LucideBell\"\n        :on-click=\"() => notificationStore.toggle()\"\n        :is-expanded=\"isExpanded\"\n      >\n        <template #right>\n          <Badge\n            v-if=\"isExpanded && notificationStore.unread\"\n            :label=\"\n              notificationStore.unread > 9 ? '9+' : notificationStore.unread\n            \"\n            theme=\"gray\"\n            variant=\"subtle\"\n          />\n        </template>\n      </SidebarLink>\n    </div>\n    <div class=\"overflow-y-auto overflow-x-hidden\">\n      <div v-for=\"view in allViews\" :key=\"view.label\">\n        <div\n          v-if=\"!view.hideLabel && !isExpanded && view.views?.length\"\n          class=\"mx-2 my-2 h-1 border-b\"\n        />\n        <Section\n          :label=\"view.label\"\n          :hideLabel=\"view.hideLabel\"\n          :opened=\"view.opened\"\n        >\n          <template #header=\"{ opened, hide, toggle }\">\n            <div\n              v-if=\"!hide\"\n              class=\"flex cursor-pointer gap-1.5 px-1 text-base font-medium text-ink-gray-5 transition-all duration-300 ease-in-out\"\n              :class=\"\n                !isExpanded\n                  ? 'ml-0 h-0 overflow-hidden opacity-0'\n                  : 'mt-4 h-7 w-auto opacity-100'\n              \"\n              @click=\"toggle()\"\n            >\n              <FeatherIcon\n                name=\"chevron-right\"\n                class=\"h-4 text-ink-gray-9 transition-all duration-300 ease-in-out\"\n                :class=\"{ 'rotate-90': opened }\"\n              />\n              <span>{{ view.label }}</span>\n            </div>\n          </template>\n          <nav class=\"flex flex-col\">\n            <SidebarLink\n              v-for=\"link in view.views\"\n              :icon=\"link.icon\"\n              :label=\"link.label\"\n              :to=\"link.to\"\n              :key=\"link.label\"\n              :is-expanded=\"isExpanded\"\n              :is-active=\"isActiveTab(link.to)\"\n              class=\"my-0.5 emoji\"\n              :onClick=\"link.onClick\"\n            />\n          </nav>\n        </Section>\n      </div>\n    </div>\n    <div class=\"grow\" />\n    <div class=\"flex flex-col gap-2\">\n      <TrialBanner\n        v-if=\"isFCSite && !isCustomerPortal\"\n        :isSidebarCollapsed=\"!isExpanded\"\n      />\n      <GettingStartedBanner\n        v-if=\"showOnboardingBanner\"\n        :isSidebarCollapsed=\"!isExpanded\"\n        appName=\"helpdesk\"\n      />\n      <SidebarLink\n        v-if=\"isOnboardingStepsCompleted && !isCustomerPortal\"\n        :icon=\"HelpIcon\"\n        :label=\"'Help'\"\n        :is-expanded=\"isExpanded\"\n        @click=\"\n          () => {\n            showHelpModal = minimize ? true : !showHelpModal;\n            minimize = !showHelpModal;\n          }\n        \"\n      />\n\n      <SidebarLink\n        :icon=\"isExpanded ? LucideArrowLeftFromLine : LucideArrowRightFromLine\"\n        :is-active=\"false\"\n        :is-expanded=\"isExpanded\"\n        :label=\"isExpanded ? 'Collapse' : 'Expand'\"\n        :on-click=\"() => (isExpanded = !isExpanded)\"\n      />\n    </div>\n    <TrialBanner\n      v-if=\"isFCSite && !isCustomerPortal\"\n      :isSidebarCollapsed=\"!isExpanded\"\n    />\n    <SettingsModal v-model=\"showSettingsModal\" />\n    <ShortcutsModal v-model=\"showShortcutsModal\" />\n    <HelpModal\n      v-if=\"showHelpModal\"\n      v-model=\"showHelpModal\"\n      v-model:articles=\"articles\"\n      appName=\"helpdesk\"\n      title=\"Frappe Helpdesk\"\n      :logo=\"logo\"\n      docsLink=\"https://docs.frappe.io/helpdesk\"\n      :afterSkip=\"(step) => capture('onboarding_step_skipped_' + step)\"\n      :afterSkipAll=\"() => capture('onboarding_steps_skipped')\"\n      :afterReset=\"(step) => capture('onboarding_step_reset_' + step)\"\n      :afterResetAll=\"() => capture('onboarding_steps_reset')\"\n    />\n    <IntermediateStepModal\n      v-model=\"showIntermediateModal\"\n      :currentStep=\"currentStep\"\n    />\n    <CP v-model=\"showCommandPalette\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport HDLogo from \"@/assets/logos/HDLogo.vue\";\nimport { Section, SidebarLink } from \"@/components\";\nimport Apps from \"@/components/Apps.vue\";\nimport CP from \"@/components/command-palette/CP.vue\";\nimport { FrappeCloudIcon, InviteCustomer } from \"@/components/icons\";\nimport ShortcutsModal from \"@/components/modals/ShortcutsModal.vue\";\nimport SettingsModal from \"@/components/Settings/SettingsModal.vue\";\nimport UserMenu from \"@/components/UserMenu.vue\";\nimport { useDevice } from \"@/composables\";\nimport { confirmLoginToFrappeCloud } from \"@/composables/fc\";\nimport { useScreenSize } from \"@/composables/screen\";\nimport { currentView, useView } from \"@/composables/useView\";\nimport { showNewContactModal } from \"@/pages/desk/contact/dialogState\";\nimport {\n  showAssignmentModal,\n  showCommentBox,\n  showEmailBox,\n} from \"@/pages/ticket/modalStates\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useNotificationStore } from \"@/stores/notification\";\nimport { useSidebarStore } from \"@/stores/sidebar\";\nimport { capture } from \"@/telemetry\";\nimport { isCustomerPortal } from \"@/utils\";\nimport { call } from \"frappe-ui\";\nimport {\n  GettingStartedBanner,\n  HelpModal,\n  IntermediateStepModal,\n  minimize,\n  showHelpModal,\n  TrialBanner,\n  useOnboarding,\n} from \"frappe-ui/frappe\";\n\nimport HelpIcon from \"frappe-ui/frappe/Icons/HelpIcon.vue\";\nimport { storeToRefs } from \"pinia\";\nimport { computed, h, markRaw, onMounted, ref } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport {\n  agentPortalSidebarOptions,\n  customerPortalSidebarOptions,\n} from \"./layoutSettings\";\n\nimport { useShortcut } from \"@/composables/shortcuts\";\nimport { useTelephonyStore } from \"@/stores/telephony\";\nimport LucideArrowLeftFromLine from \"~icons/lucide/arrow-left-from-line\";\nimport LucideArrowRightFromLine from \"~icons/lucide/arrow-right-from-line\";\nimport LucideBell from \"~icons/lucide/bell\";\nimport FileText from \"~icons/lucide/file-text\";\nimport Globe from \"~icons/lucide/globe\";\nimport LucideLayoutDashboard from \"~icons/lucide/layout-dashboard\";\nimport LucideMail from \"~icons/lucide/mail\";\nimport MailOpen from \"~icons/lucide/mail-open\";\nimport MessageCircle from \"~icons/lucide/message-circle\";\nimport LucideSearch from \"~icons/lucide/search\";\nimport Ticket from \"~icons/lucide/ticket\";\nimport Timer from \"~icons/lucide/timer\";\nimport UserPen from \"~icons/lucide/user-pen\";\nimport LucideUserPlus from \"~icons/lucide/user-plus\";\nimport { setActiveSettingsTab } from \"../Settings/settingsModal\";\n\nconst { isMobileView } = useScreenSize();\n\nconst route = useRoute();\nconst router = useRouter();\nconst authStore = useAuthStore();\nconst notificationStore = useNotificationStore();\nconst { isExpanded, width } = storeToRefs(useSidebarStore());\nconst device = useDevice();\nconst telephonyStore = useTelephonyStore();\nconst { isCallingEnabled } = storeToRefs(telephonyStore);\n\nconst showSettingsModal = ref(false);\nconst showShortcutsModal = ref(false);\nconst showCommandPalette = ref(false);\n\nconst { pinnedViews, publicViews } = useView();\n\nconst isFCSite = ref(window.is_fc_site);\n\nconst allViews = computed(() => {\n  let items = isCustomerPortal.value\n    ? customerPortalSidebarOptions\n    : agentPortalSidebarOptions;\n\n  if (!isCallingEnabled.value) {\n    items = items.filter((item) => item.label !== \"Call Logs\");\n  }\n\n  const options = [\n    {\n      label: \"All Views\",\n      hideLabel: true,\n      opened: true,\n      views: items,\n    },\n  ];\n  if (publicViews.value?.length && !isCustomerPortal.value) {\n    options.push({\n      label: \"Public Views\",\n      opened: true,\n      hideLabel: false,\n      views: parseViews(publicViews.value),\n    });\n  }\n  if (pinnedViews.value?.length) {\n    options.push({\n      label: \"Private Views\",\n      opened: true,\n      hideLabel: false,\n      views: parseViews(pinnedViews.value),\n    });\n  }\n  return options;\n});\n\nfunction parseViews(views) {\n  return views.map((view) => {\n    return {\n      label: view.label,\n      icon: view.icon,\n      to: {\n        name: view.route_name,\n        query: { view: view.name },\n      },\n      onClick: () => {\n        currentView.value = {\n          label: view.label,\n          icon: view.icon,\n        };\n      },\n    };\n  });\n}\n\nconst customerPortalDropdown = computed(() => [\n  {\n    label: \"Log out\",\n    icon: \"log-out\",\n    onClick: () => authStore.logout(),\n  },\n]);\n\nconst agentPortalDropdown = computed(() => [\n  {\n    component: markRaw(Apps),\n  },\n  {\n    label: \"Customer portal\",\n    icon: \"users\",\n    onClick: () => {\n      const path = router.resolve({ name: \"TicketsCustomer\" });\n      window.open(path.href);\n    },\n  },\n  {\n    icon: \"life-buoy\",\n    label: \"Support\",\n    onClick: () => window.open(\"https://t.me/frappedesk\"),\n  },\n  {\n    icon: \"book-open\",\n    label: \"Docs\",\n    onClick: () => window.open(\"https://docs.frappe.io/helpdesk\"),\n  },\n  {\n    label: \"Login to Frappe Cloud\",\n    icon: FrappeCloudIcon,\n    onClick: () => confirmLoginToFrappeCloud(),\n    condition: () => !isMobileView.value && window.is_fc_site,\n  },\n  {\n    label: \"Shortcuts\",\n    icon: h(LucideKeyboard),\n    onClick: () => (showShortcutsModal.value = true),\n  },\n  {\n    label: \"Settings\",\n    icon: \"settings\",\n    onClick: () => (showSettingsModal.value = true),\n    condition: () => authStore.isAdmin || authStore.isManager,\n  },\n  {\n    group: \"Danger\",\n    hideLabel: true,\n    items: [\n      {\n        label: \"Log out\",\n        icon: \"log-out\",\n        onClick: () => authStore.logout(),\n      },\n    ],\n  },\n]);\n\nconst profileSettings = computed(() => {\n  return isCustomerPortal.value\n    ? customerPortalDropdown.value\n    : agentPortalDropdown.value;\n});\n\nfunction isActiveTab(to: any) {\n  if (route.query.view) {\n    return route.query.view == to?.query?.view;\n  }\n  return route.name === to;\n}\n\nfunction openCommandPalette() {\n  showCommandPalette.value = true;\n}\n\nconst logo = h(\n  HDLogo,\n  {\n    class: \"h-12 w-12\",\n  },\n  null\n);\n\nconst showOnboardingBanner = computed(() => {\n  return (\n    !isCustomerPortal.value &&\n    !isOnboardingStepsCompleted.value &&\n    authStore.isManager\n  );\n});\n\nconst steps = [\n  {\n    name: \"setup_email_account\",\n    title: \"Connect your support email\",\n    completed: false,\n    icon: markRaw(LucideMail),\n    onClick: () => {\n      minimize.value = true;\n      showSettingsModal.value = true;\n      setActiveSettingsTab(\"Email Accounts\");\n    },\n  },\n  {\n    name: \"invite_agents\",\n    title: \"Invite agents\",\n    completed: false,\n    icon: markRaw(LucideUserPlus),\n    onClick: () => {\n      minimize.value = true;\n      showSettingsModal.value = true;\n      setActiveSettingsTab(\"Invite Agents\");\n    },\n  },\n  {\n    name: \"setup_sla\",\n    title: \"Setup SLA\",\n    completed: false,\n    icon: markRaw(Timer),\n    onClick: () => {\n      setActiveSettingsTab(\"SLA Policies\");\n      showSettingsModal.value = true;\n      minimize.value = true;\n    },\n  },\n  {\n    name: \"create_first_ticket\",\n    title: \"Create a ticket\",\n    completed: false,\n    icon: markRaw(Ticket),\n    onClick: () => {\n      router.push({ name: \"TicketAgentNew\" });\n      minimize.value = true;\n    },\n  },\n  {\n    name: \"assign_to_agent\",\n    title: \"Assign a ticket to an agent\",\n    completed: false,\n    icon: markRaw(UserPen),\n    onClick: async () => {\n      await handleFirstTicketNavigation();\n      showAssignmentModal.value = true;\n      minimize.value = true;\n    },\n  },\n  {\n    name: \"reply_on_ticket\",\n    title: \"Reply on a ticket\",\n    completed: false,\n    icon: markRaw(MailOpen),\n    onClick: async () => {\n      await handleFirstTicketNavigation();\n      showEmailBox.value = true;\n      showCommentBox.value = false;\n      minimize.value = true;\n    },\n  },\n  {\n    name: \"comment_on_ticket\",\n    title: \"Add a comment on a ticket\",\n    completed: false,\n    icon: markRaw(MessageCircle),\n    onClick: async () => {\n      await handleFirstTicketNavigation();\n      showCommentBox.value = true;\n      showEmailBox.value = false;\n      minimize.value = true;\n    },\n  },\n  {\n    name: \"first_article\",\n    title: \"Create an article\",\n    completed: false,\n    icon: markRaw(FileText),\n    onClick: async () => {\n      const generalCategory = await getGeneralCategory();\n      router.push({\n        name: \"NewArticle\",\n        query: {\n          title: \"General\",\n        },\n        params: { id: generalCategory },\n      });\n      minimize.value = true;\n    },\n  },\n  {\n    name: \"add_invite_contact\",\n    title: \"Create & invite a contact\",\n    completed: false,\n    icon: markRaw(InviteCustomer),\n    onClick: () => {\n      minimize.value = true;\n      currentStep.value = {\n        title: \"Create & invite a contact\",\n        buttonLabel: \"Create\",\n        videoURL: \"/assets/helpdesk/desk/videos/createInviteContact.mp4\",\n        onClick: async () => {\n          showIntermediateModal.value = false;\n          router.push({ name: \"ContactList\" });\n          showNewContactModal.value = true;\n        },\n      };\n      showIntermediateModal.value = true;\n    },\n  },\n  {\n    name: \"explore_customer_portal\",\n    title: \"Explore customer portal\",\n    completed: false,\n    icon: markRaw(Globe),\n    onClick: () => {\n      window.open(\"/helpdesk/my-tickets\", \"_blank\");\n      updateOnboardingStep(\"explore_customer_portal\");\n      minimize.value = true;\n    },\n  },\n];\n\nconst articles = ref([\n  {\n    title: \"Introduction\",\n    opened: false,\n    subArticles: [\n      { name: \"introduction\", title: \"Introduction\" },\n      { name: \"setting-up\", title: \"Setting up\" },\n    ],\n  },\n  {\n    title: \"Getting Started\",\n    opened: false,\n    subArticles: [\n      {\n        name: \"lesson-1-your-first-ticket\",\n        title: \"Creating a ticket\",\n      },\n      {\n        name: \"lesson-2understanding-ticket-view\",\n        title: \"Understanding ticket view\",\n      },\n      {\n        name: \"lesson-3-agents-teams\",\n        title: \"Agents & Teams\",\n      },\n      {\n        name: \"customers-contacts\",\n        title: \"Customers & Contacts\",\n      },\n      {\n        name: \"lesson-4-knowledge-base\",\n        title: \"Knowledge Base\",\n      },\n      {\n        name: \"customer-portal\",\n        title: \"Customer Portal\",\n      },\n    ],\n  },\n  {\n    title: \"Masters\",\n    opened: false,\n    subArticles: [\n      { name: \"ticket\", title: \"Ticket\" },\n      { name: \"agent\", title: \"Agent\" },\n      { name: \"team\", title: \"Team\" },\n      { name: \"contact\", title: \"Contact\" },\n      { name: \"customer\", title: \"Customer\" },\n      { name: \"knowledge-base\", title: \"Knowledge Base\" },\n      { name: \"canned-response\", title: \"Canned Responses\" },\n      { name: \"service-level-agreement\", title: \"Service Level Agreement\" },\n      { name: \"ticket-type\", title: \"Ticket Type\" },\n      { name: \"ticket-priority\", title: \"Ticket Priority\" },\n    ],\n  },\n  {\n    title: \"Customizations\",\n    opened: false,\n    subArticles: [\n      { name: \"custom-actions\", title: \"Custom Actions\" },\n      { name: \"field-dependency\", title: \"Field Dependency\" },\n      { name: \"custom-views\", title: \"Custom Views\" },\n      {\n        name: \"settings\",\n        title: \"Settings\",\n      },\n    ],\n  },\n  {\n    title: \"Frappe Helpdesk Mobile\",\n    opened: false,\n    subArticles: [\n      { name: \"pwa-installation\", title: \"Mobile App Installation\" },\n    ],\n  },\n]);\n\nconst showIntermediateModal = ref(false);\nconst currentStep = ref({});\n\nconst { isOnboardingStepsCompleted, setUp, updateOnboardingStep } =\n  useOnboarding(\"helpdesk\");\n\nasync function handleFirstTicketNavigation() {\n  const ticket = await getFirstTicket();\n\n  if (ticket) {\n    router.push({\n      name: \"TicketAgent\",\n      params: { ticketId: ticket },\n    });\n  } else {\n    router.push({ name: \"TicketAgentNew\" });\n  }\n}\n\nasync function getFirstTicket() {\n  let ticket = localStorage.getItem(\"firstTicket\");\n  if (ticket) return ticket;\n  return await call(\"helpdesk.api.onboarding.get_first_ticket\");\n}\n\nasync function getGeneralCategory() {\n  let generalCategory = localStorage.getItem(\"generalCategoryId\");\n  if (!generalCategory) {\n    generalCategory = await call(\n      \"helpdesk.api.onboarding.get_general_category_id\"\n    );\n    if (!generalCategory) return;\n    localStorage.setItem(\"generalCategoryId\", generalCategory);\n  }\n  return generalCategory;\n}\n\nfunction setUpOnboarding() {\n  if (!authStore.isManager) return;\n  setUp(steps);\n  useShortcut({ key: \"h\", meta: true }, () => {\n    showHelpModal.value = !showHelpModal.value;\n  });\n}\n\nonMounted(() => {\n  setUpOnboarding();\n  if (isCustomerPortal.value) return;\n  useShortcut({ key: \",\", meta: true }, () => {\n    showSettingsModal.value = !showSettingsModal.value;\n  });\n});\n</script>\n","<template>\n  <div class=\"flex h-screen w-screen\">\n    <Sidebar />\n    <div class=\"flex-1 flex flex-col h-full overflow-auto\">\n      <AppHeader />\n      <slot />\n    </div>\n    <Notifications />\n    <CommandPalette />\n  </div>\n</template>\n<script setup>\nimport { Notifications, CommandPalette } from \"@/components\";\nimport AppHeader from \"./AppHeader.vue\";\nimport Sidebar from \"./Sidebar.vue\";\n</script>\n"],"names":["a","o","e","r","i","n","t","u","f","l","g","p","Z","ee","te","A","O","M","K","ge","T","I","R","d","b","X","v","m","s","W","S","h","U","G","J","y","L","q","Y","D","P","Se","w","c","x","$","Me","Q","k","z","E","_","F","be","V","N","j","B","H","C","serialize","__privateAdd","_t","__privateGet","isEqual","object1","object2","findValuesBetween","array","start","end","startIndex","endIndex","minIndex","maxIndex","useFilter","options","computedOptions","computed","unref","collator","string","substring","scan","sliceLen","slice","useFormControl","el","toValue$1","_a","unrefElement","useKbd","VisuallyHiddenInputBubble_vue_vue_type_script_setup_true_lang_default","defineComponent","__props","props","primitiveElement","currentElement","usePrimitiveElement","valueState","watch","cur","prev","input","inputProto","setValue","inputEvent","changeEvent","_ctx","_cache","openBlock","createBlock","VisuallyHidden_default","mergeProps","VisuallyHiddenInputBubble_default","VisuallyHiddenInput_vue_vue_type_script_setup_true_lang_default","isFormArrayEmptyAndRequired","parsedValue","obj","index","key","value","createElementBlock","Fragment","createCommentVNode","renderList","parsed","VisuallyHiddenInput_default","ComboboxAnchor_vue_vue_type_script_setup_true_lang_default","forwardRef","useForwardExpose","PopperAnchor_default","withCtx","createVNode","Primitive","renderSlot","ComboboxAnchor_default","valueComparator","currentValue","comparator","val","compare","injectListboxRootContext","provideListboxRootContext","createContext","ListboxRoot_vue_vue_type_script_setup_true_lang_default","__expose","__emit","emits","multiple","highlightOnHover","orientation","disabled","selectionBehavior","propDir","toRefs","getItems","useCollection","handleTypeaheadSearch","useTypeahead","kbd","dir","useDirection","isFormControl","firstValue","ref","isUserAction","focusable","modelValue","useVModel","onValueChange","modelArray","highlightedElement","previousElement","isVirtual","isComposing","virtualFocusHook","createEventHook","virtualKeydownHook","virtualHighlightHook","getCollectionItem","changeHighlight","scrollIntoView","highlightedItem","highlightItem","item","onKeydownEnter","event","onKeydownTypeAhead","isMetaKey","collection","values","onCompositionStart","onCompositionEnd","nextTick","highlightFirstItem","onKeydownNavigation","onLeave","onEnter","entryFocusEvent","_b","intent","getFocusIntent","currentIndex","handleMultipleReplace","targetEl","lastValue","highlightSelected","target","ListboxRoot_default","ListboxContent_vue_vue_type_script_setup_true_lang_default","CollectionSlot","rootContext","isClickFocus","refAutoReset","withModifiers","$event","ev","withKeys","ListboxContent_default","ListboxFilter_vue_vue_type_script_setup_true_lang_default","activedescendant","watchSyncEffect","onMounted","onUnmounted","ListboxFilter_default","injectListboxGroupContext","provideListboxGroupContext","ListboxGroup_vue_vue_type_script_setup_true_lang_default","id","useId","ListboxGroup_default","LISTBOX_SELECT","injectListboxItemContext","provideListboxItemContext","ListboxItem_vue_vue_type_script_setup_true_lang_default","CollectionItem","isHighlighted","isSelected","handleSelect","handleSelectCustomEvent","eventDetail","handleAndDispatchCustomEvent","withMemo","ListboxItem_default","ListboxItemIndicator_vue_vue_type_script_setup_true_lang_default","itemContext","ListboxItemIndicator_default","injectComboboxRootContext","provideComboboxRootContext","ComboboxRoot_vue_vue_type_script_setup_true_lang_default","parentElement","ignoreFilter","resetSearchTermOnSelect","openOnFocus","openOnClick","open","onOpenChange","filterSearch","isUserInputted","inputElement","resetSearchTerm","triggerElement","allItems","allGroups","contains","filterState","oldValue","itemCount","filteredItems","filteredGroups","score","groupId","group","itemId","inst","getCurrentInstance","_c","PopperRoot_default","isRef","ComboboxRoot_default","injectComboboxContentContext","provideComboboxContentContext","ComboboxContentImpl_vue_vue_type_script_setup_true_lang_default","position","useBodyScrollLock","useHideOthers","pickedProps","forwardedProps","useForwardProps","popperStyle","isInputWithinContent","DismissableLayer_default","resolveDynamicComponent","PopperContent_default","ComboboxContentImpl_default","ComboboxContent_vue_vue_type_script_setup_true_lang_default","forwarded","useForwardPropsEmits","Presence_default","ComboboxContent_default","ComboboxEmpty_vue_vue_type_script_setup_true_lang_default","isRender","normalizeProps","createTextVNode","ComboboxEmpty_default","injectComboboxGroupContext","provideComboboxGroupContext","ComboboxGroup_vue_vue_type_script_setup_true_lang_default","context","ComboboxGroup_default","ComboboxInput_vue_vue_type_script_setup_true_lang_default","listboxContext","handleKeyDown","handleInput","handleFocus","handleClick","rootModelValue","ComboboxInput_default","ComboboxItem_vue_vue_type_script_setup_true_lang_default","groupContext","filteredCurrentItem","toDisplayString","ComboboxItem_default","ComboboxItemIndicator_vue_vue_type_script_setup_true_lang_default","guardReactiveProps","ComboboxItemIndicator_default","ComboboxLabel_vue_vue_type_script_setup_true_lang_default","ComboboxLabel_default","ComboboxPortal_vue_vue_type_script_setup_true_lang_default","Teleport_default","ComboboxPortal_default","ComboboxTrigger_vue_vue_type_script_setup_true_lang_default","ComboboxTrigger_default","useNonce","nonce","injectConfigProviderContext","ComboboxViewport_vue_vue_type_script_setup_true_lang_default","propNonce","ComboboxViewport_default","emit","searchTerm","getDisplayValue","internalModelValue","isOpen","userHasTyped","newValue","onUpdateModelValue","selectedOpt","allOptionsFlat","opt","getValue","isGroup","option","getLabel","isDisabled","getIcon","flatOptions","optionOrGroup","selectedValue","selectedOption","selectedOptionIcon","RenderIcon","iconContent","filterFunction","search","lowerSearch","filtered","filteredGroupOptions","label","filteredOptions","handleInputChange","handleOpenChange","handleBlur","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_unref","ComboboxRoot","ComboboxAnchor","_normalizeClass","_createElementVNode","_hoisted_2","_createBlock","ComboboxInput","placeholder","ComboboxTrigger","LucideChevronDown","ComboboxPortal","ComboboxContent","ComboboxViewport","ComboboxEmpty","_toDisplayString","_Fragment","_renderList","ComboboxGroup","ComboboxLabel","_createTextVNode","idx","ComboboxItem","_hoisted_3","ComboboxItemIndicator","LucideCheck","_hoisted_4","_sfc_render","isDependent","step","dependsOnStep","steps","dependsOnTooltip","stepsCompleted","totalSteps","completedPercentage","skip","skipAll","reset","resetAll","useOnboarding","_resolveDynamicComponent","_hoisted_5","Badge","_hoisted_6","Button","_hoisted_7","_withModifiers","Tooltip","searchInput","articles","_useModel","parsedArticles","filteredSubArticles","subArticle","openDocs","openDoc","name","TextInput","FeatherIcon","_withDirectives","_hoisted_8","_hoisted_10","_hoisted_11","_vShow","syncStatus","isOnboardingStepsCompleted","show","headingTitle","showHelpCenter","StepsIcon","resetOnboardingSteps","footerItems","HelpIcon","minimize","Dropdown","MaximizeIcon","MinimizeIcon","OnboardingSteps","HelpCenter","openOnboarding","showHelpModal","Dialog","_renderSlot","trialMessage","trialEndDays","showBanner","baseEndpoint","siteName","trialTitle","createResource","data","calculateTrialEndDays","trialEndDate","diffTime","upgradePlan","LightningIcon","dayjs","router","useRouter","useDevice","query","navigationItems","items","LucideTicket","LucideBookOpen","isCustomerPortal","CPGroup","fullSearchItem","LucideFileSearch","groupedSearchResults","results","onInput","onSelection","hideCommandPalette","addKeyboardShortcut","useShortcut","toggleCommandPalette","onBeforeUnmount","Combobox","_component_LucideSearch","ComboboxOptions","ComboboxOption","_withCtx","active","notificationStore","useNotificationStore","sidebarStore","useSidebarStore","onClickOutside","handleNotificationClick","getRoute","_normalizeStyle","_component_Button","_component_LucideCheckCheck","_component_LucideX","_component_RouterLink","UserAvatar","_hoisted_9","_hoisted_12","_hoisted_13","_component_LucideBell","slots","useSlots","dropdownTransition","groups","filterOptions","popoverPlacement","normalizeDropdownItem","onClick","Menu","Popover","togglePopover","MenuButton","$slots","_normalizeProps","_mergeProps","MenuItems","MenuItem","user","useAuthStore","telephonyStore","useTelephonyStore","CallUI","shiftKey","metaIcon","shortcutGroups","shortcut","kIndex","_sfc_main","error","_component_Dialog","$data","$props","$options","inviteQueue","currentInputIsValidEmail","updateOnboardingStep","isManager","testEmailRegex","onSearchInputChange","valStr","inputs","clearInputFlag","addToInviteQueue","clearSearchInput","email","removeEmailFromQueue","removeAllEmailFromQueue","close","sentInvitesResource","res","toast","sendInvites","$emit","args","Input","$attrs","Avatar","_component_Badge","PAGE_LENGTH","agents","createListResource","activeFilter","showNewAgentsDialog","useAgents","filters","reactive","newVal","updateAgent","agent","isActive","getUserRole","updateUserRoleCache","useUserStore","agentStore","getRoles","agentRole","roles","RoleOption","updateRole","role","selected","newRole","call","getOptions","dropdownOptions","_component_SettingsLayoutHeader","__","_component_LucidePlus","FormControl","_component_Dropdown","_component_FeatherIcon","AgentCard","IconMoreHorizontal","_component_AddNewAgentsDialog","config","useConfigStore","websiteSettings","state","loadingState","brandingConfig","settingsResource","handleLogoChange","handleFaviconChange","update","file","doctype","fieldname","url","SettingsLayoutHeader","FileUploader","openFileSelector","LogoGmail","LogoOutlook","LogoSendgrid","LogoSparkpost","LogoYahoo","LogoYandex","LogoFrappeMail","fixedFields","incomingOutgoingFields","popularProviderFields","customProviderFields","services","emailIcon","validateInputs","isCustom","validateEmailWithZod","logo","serviceName","selectedService","fields","service","addEmailRes","createEmailAccount","EmailProviderIcon","CircleAlert","field","_component_FormControl","_component_ErrorMessage","badgeTitleColor","emailAccount","emailAccounts","accounts","account","EmailAccountCard","_d","info","isCustomService","loading","loadingPull","useStorage","updateAccount","old","updatedEmailAccount","nameChanged","otherFieldsChanged","isDirty","callRenameDoc","succesHandler","errorHandler","callSetValue","pullEmails","accountData","updateStep","newStep","EmailAdd","EmailAccountList","EmailEdit","defaultAssignmentDays","assignmentRuleData","resetAssignmentRuleData","assignmentRulesActiveScreen","validateAssignmentRule","skipAssignConditionCheck","skipUnAssignConditionCheck","validateField","assignmentRulesErrors","validateConditions","_e","_f","resetAssignmentRuleErrors","getUser","teamRestrictionApplied","_teamName","team","createDocumentResource","ignoreRestrictions","teamMembers","_user","agentFilters","removeMemberFromTeam","member","users","addMember","showRename","renameDialogOptions","renameTeam","params","showDelete","markRaw","Settings","setActiveSettingsTab","LucideLock","LucideUnlock","teamName","_component_LucideMoreHorizontal","Link","newTeamTitle","newTeam","isEmpty","teams","showForm","NewTeamModal","TeamsList","TeamEdit","defaultSupportAndResolution","slaData","resetSlaData","slaActiveScreen","slaDataErrors","resetSlaDataErrors","validateSlaData","skipConditionCheck","prioritiesError","priority","priorityNum","priorityNames","uniquePriorities","validWorkdays","day","workdayMap","duplicateWorkdays","invalidTimeRanges","startTimeStr","endTimeStr","parseTime","timeStr","hours","minutes","date","startTime","endTime","slaPolicyList","inject","duplicateDialog","isConfirmingDelete","ConfirmDelete","deleteSla","duplicate","onToggle","Switch","LoadingIndicator","sla","SlaPolicyListItem","goToNew","SlaPolicyList","filterableFields","GroupIcon","UnGroupIcon","TemplateOption","typeCheck","typeLink","typeNumber","typeSelect","typeString","typeDate","typeRating","toggleConjunction","updateField","resetConditionValue","getValueControl","operator","fieldData","fieldtype","_options","getSelectOptions","DateRangePicker","DatePicker","DateTimePicker","StarRating","updateValue","updateOperator","oldOperatorValue","newOperatorValue","isSameTypeOperator","getDefaultValue","getOperators","op","oldOperator","newOperator","textOperators","Autocomplete","CFConditions","getConjunction","conjunction","condition","turnIntoGroup","isGroupCondition","removeCondition","conditionIndex","unGroupConditions","newConditions","CFCondition","addCondition","watchDebounced","ErrorMessage","dialog","workDayData","errors","deleteWorkDay","formatTimeToHHMMSS","seconds","resetForm","validateTimeRange","startHours","startMinutes","endHours","endMinutes","validateForm","isWorkdayValid","isStartTimeValid","isEndTimeValid","onSave","itemIndex","updatedItem","newWorkDay","workDayOptions","editWorkDay","formatTime","time","getGridTemplateColumnsForTable","column","Select","WorkDayModal","allDays","addWorkDay","usedDays","nextDay","columns","row","SlaWorkDaysListItem","holidayListActiveScreen","holidayDataErrors","holidayData","resetHolidayData","validateHoliday","startDate","endDate","updateWeeklyOffDates","newHolidays","weeklyOffs","getWeeklyOffDates","getWeekOfMonth","firstDayOfWeek","offset","getWeeklyOffDateList","weeklyOff","holidays","repetition","dateList","targetDay","existingDates","currentDate","useAllOccurrences","currentDateObj","currentDateStart","shouldIncludeDate","createNewHolidayList","editHolidayList","holidayListData","NestedPopover","holiday","SlaWorkDaysList","initialDelay","repeatDelay","normalizedOptions","displayOptions","hoursInput","minutesInput","secondsInput","activeInterval","activeAction","isMouseDown","actionTimeout","hoursValue","num","newTime","getMinutes","getSeconds","updateTime","minutesValue","getHours","secondsValue","clearActiveInterval","startAction","action","handlePointerUp","emitEvent","validateAndUpdateTime","unit","handleEnter","increment","decrement","formatTimeHMS","days","remainingSeconds","formattedTime","priorityOptions","priorityData","resolutionTime","responseTime","deleteItem","FormLabel","DurationPicker","Checkbox","editItem","gridTemplateColumns","onDefaultPriorityChange","defaultPriority","EditResponseResolutionModal","provide","addRow","existingPriorities","availablePriorities","newPriority","SlaPriorityListItem","statuses","useTicketStatusStore","openStatuses","showConfirmDialog","initialData","useNewUI","isOldSla","deskUrl","getSlaData","condition_json","newData","conditionsAvailable","conditionsJsonAvailable","disableSettingModalOutsideClick","goBack","confirmDialogInfo","saveSla","validationErrors","updateSla","createSla","defaultTicketStatus","ticketReopenStatus","convertToConditions","toggleEnabled","toggleDefaultSla","beforeUnloadHandler","_hoisted_14","SlaAssignmentConditions","_hoisted_15","_hoisted_16","getFormattedDate","_component_LucideCalendar","_hoisted_17","_hoisted_18","_hoisted_19","SlaPriorityList","_hoisted_20","SlaStatusList","SlaHolidays","ConfirmDialog","slaPolicyListData","SlaPolicies","SlaPolicyView","holidayList","deleteHolidayList","HolidayListItem","HolidayList","holidayDate","fromDate","toDate","holidayExists","holidayIndex","editHoliday","deleteHoliday","holidayToDelete","editDate","AddHolidayModal","module","this","getRepetitionText","parts","last","weekday","isSameOrBefore","recurringHolidayData","workDays","availableWorkDays","addHoliday","saveHoliday","all","first","second","third","fourth","fifth","currentYear","currentMonth","today","daw","formattedMonth","useDatePicker","datesAsWeeks","popoverTimeouts","dateValue","handleMouseEnter","callback","handleMouseLeave","isDateInRange","checkDate","from","to","isHoliday","inputDate","isWeekOff","getHolidayDescription","htmlToText","newYear","newMonth","week","closePopover","openPopover","closeDropdown","openDropdown","visibleMonths","months","startYear","endYear","yearsList","yearList","year","onYearChange","goToToday","month","HLCalender","holidayListView","getHolidayData","updateDuration","updateHoliday","createHoliday","updateHolidayResource","RecurringHolidaysList","TabButtons","HolidaysTableView","HolidaysCalendarView","Holidays","HolidayView","fieldDependenciesList","hiddenChildFields","_fields","parent","child","optionsMap","getFieldOptions","_component_Tooltip","_component_lucide_info","color","ComboboxButton","LucideCheckSquare","LucideSquare","_selectedOptions","arr","term","keys","lowerCaseTerm","acc","match","_component_Combobox","isComboboxOpen","_component_Popover","_guardReactiveProps","_component_LoadingIndicator","_component_ComboboxOptions","_component_ComboboxInput","_component_ComboboxOption","_component_LucideSquare","_component_LucideCheckSquare","fieldCriteriaState","getField","getMeta","selections","childField","parentField","fieldCriteriaOptions","handleCriteriaSelection","stateKey","_values","DocumentationButton","MultiSelectCombobox","parentFields","isNew","filteredParentFieldValues","filteredChildFieldValues","parentPlaceholder","childPlaceholder","handleParentValueClick","handleChildValueClick","childValue","getSelectedChildValueCount","toggleAllChildValues","handleSelectAllChildValues","toggleCheckboxLabel","selectedCount","isChildValueSelected","_component_LucideChevronRight","dependencyLabel","getFieldDependencyLabel","getFields","notAllowedFields","createUpdateFieldDependency","stringifyParentChildMapping","fieldDependency","parseMapping","parseFieldCriteria","mapping","criteria","_selections","handleFieldValues","isParentField","fieldsToHide","handleBackNavigation","handleSubmit","successMessage","newParentField","newChildField","FieldDependencyFieldsSelection","FieldDependencyValueSelection","FieldDependencyCriteria","rowName","handleSwitchToggle","fieldDependencyName","FieldDependencyList","FieldDependency","authStore","isAdmin","emails","roleToLabel","roleOptions","managerRoleOption","roleDescription","roleOption","onSubmit","inviteByEmailResource","getInviteByEmailRoles","resetInputValues","emailsToStr","emailsStr","pendingInvitesResource","cancelInviteResource","rolesToLabel","rolesSt","selectedRole","invite","assignmentRulesList","deleteAssignmentRule","onPriorityChange","setAssignmentRuleValue","fieldName","assignmentRule","AssignmentRuleListItem","assignmentRulesListData","AssignmentRulesListView","usersList","addInvitedAgents","addAssignee","AddNewAgentsDialog","ticketRoutingOptions","removeAssignedUser","_users","AssigneeSearch","toggleDay","dayIndex","workDay","AssignmentScheduleItem","isLoading","useNewUIForAssignCondition","useNewUIForUnassignCondition","isAssignConditionOld","isUnassignConditionOld","getAssignmentRuleData","assignConditionJson","unassignConditionJson","assignConditionsAvailable","assignConditionsJsonAvailable","unassignConditionsAvailable","unassignConditionsJsonAvailable","saveAssignmentRule","showOverwriteConfirm","updateAssignmentRule","createAssignmentRule","er","_hoisted_21","_hoisted_22","AssignmentRulesSection","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","AssignmentSchedule","AssigneeRules","AssignmentRulesList","AssignmentRuleView","showEye","_withKeys","LucideEyeOff","LucideEye","isDocDirty","doc","originalDoc","validateTwilio","twilio","telephonyAgent","twilioErrors","validatePhone","validateExotel","exotel","exotelErrors","number","auth","twilioApps","twilioAppsResource","telephonyProviders","save","promises","result","refreshApps","app","Password","notifications","notification","content","enabled","unsavedChanges","showUnsavedConfirm","showContentChangeConfirm","notificationDataResource","setUnsavedChanges","resetUnsavedChanges","resetContent","onResetContent","internalOnBack","_component_LucideChevronLeft","defaultContent","compRef","updateSettings","onGetDataSuccess","Notification","statusOptions","ticketStatus","_data","curNotification","notificationToComponent","ShareFeedback","Acknowledgement","ReplyToAgents","ReplyViaAgent","resetCurNotification","onSelect","NotificationList","tabs","LucideMail","EmailConfig","LucideMailOpen","EmailNotifications","ImageUp","Branding","LucideUser","Agents","LucideUserPlus","InviteAgents","LucideUsers","TeamsConfig","ShieldCheck","Sla","Briefcase","AssignmentRules","FieldDependencyIcon","FieldDependencyConfig","PhoneIcon","Telephony","activeTab","nextActiveTab","tabName","tab","onTabChange","currentSiteInfo","confirmLoginToFrappeCloud","$dialog","globalStore","loginToFrappeCloud","isMobileView","useScreenSize","route","useRoute","isExpanded","width","storeToRefs","device","isCallingEnabled","showSettingsModal","showShortcutsModal","showCommandPalette","pinnedViews","publicViews","useView","isFCSite","allViews","customerPortalSidebarOptions","agentPortalSidebarOptions","parseViews","views","view","currentView","customerPortalDropdown","agentPortalDropdown","Apps","path","FrappeCloudIcon","LucideKeyboard","profileSettings","isActiveTab","openCommandPalette","HDLogo","showOnboardingBanner","Timer","Ticket","UserPen","handleFirstTicketNavigation","showAssignmentModal","MailOpen","showEmailBox","showCommentBox","MessageCircle","FileText","generalCategory","getGeneralCategory","InviteCustomer","currentStep","showIntermediateModal","showNewContactModal","Globe","setUp","ticket","getFirstTicket","setUpOnboarding","UserMenu","SidebarLink","LucideSearch","LucideLayoutDashboard","LucideBell","Section","opened","hide","toggle","link","TrialBanner","GettingStartedBanner","LucideArrowLeftFromLine","LucideArrowRightFromLine","SettingsModal","ShortcutsModal","HelpModal","capture","IntermediateStepModal","CP","Sidebar","AppHeader","Notifications","CommandPalette"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,104,105]}