{"version":3,"file":"Dashboard-dc95e913.js","sources":["../../../../frappe-ui/src/components/Charts/helpers.ts","../../../../frappe-ui/src/components/Charts/eChartOptions.ts","../../../../frappe-ui/src/components/Charts/axisChartOptions.ts","../../../../frappe-ui/src/components/Charts/ECharts.vue","../../../../frappe-ui/src/components/Charts/AxisChart.vue","../../../../frappe-ui/src/components/Charts/NumberChart.vue","../../../../frappe-ui/src/components/Charts/donutChartOptions.ts","../../../../frappe-ui/src/components/Charts/DonutChart.vue","../../../../desk/src/pages/dashboard/Dashboard.vue"],"sourcesContent":["import { dayjs } from '../../utils/dayjs'\n\nexport function formatLabel(name: string) {\n  return name\n    .split('_')\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ')\n}\n\nexport function formatValue(value: number, precision = 0, shorten = false) {\n  if (isNaN(value)) return value.toString()\n\n  let locale = 'en-US'\n\n  if (shorten) {\n    let formatted = new Intl.NumberFormat(locale, {\n      notation: 'compact',\n      maximumFractionDigits: precision,\n    }).format(value)\n\n    if (locale == 'en-IN') {\n      formatted = formatted.replace('T', 'K')\n    }\n\n    return formatted\n  } else {\n    precision = precision || guessPrecision(value)\n    return new Intl.NumberFormat(locale, {\n      minimumFractionDigits: precision,\n      maximumFractionDigits: precision,\n    }).format(value)\n  }\n}\n\nfunction guessPrecision(number: number) {\n  if (!number || isNaN(number)) return 0\n  const str = number.toString()\n  const decimalIndex = str.indexOf('.')\n  if (decimalIndex === -1) return 0\n  return Math.min(str.length - decimalIndex - 1, 2)\n}\n\nexport type TimeGrain =\n  | 'second'\n  | 'minute'\n  | 'hour'\n  | 'day'\n  | 'week'\n  | 'month'\n  | 'quarter'\n  | 'year'\nexport function formatDate(date: string, format?: string, grain: TimeGrain = 'day') {\n  if (!date) return ''\n\n  if (grain) {\n    const grainToFormat: Record<TimeGrain, string> = {\n      second: 'MMMM D, YYYY h:mm:ss A',\n      minute: 'MMMM D, YYYY h:mm A',\n      hour: 'MMMM D, YYYY h:00 A',\n      day: 'MMMM D, YYYY',\n      week: 'MMM Do, YYYY',\n      month: 'MMMM, YYYY',\n      year: 'YYYY',\n      quarter: '[Q]Q, YYYY',\n    }\n\n    format = grainToFormat[grain]\n  }\n\n  if (!format) {\n    format = 'MMM D, YY'\n  }\n\n  return dayjs(date).format(format)\n}\n\n\nexport function isObject(item: any) {\n  return item && typeof item === 'object' && !Array.isArray(item)\n}\n\nexport function mergeDeep(target: any, ...sources: any[]) {\n  if (!sources.length) return target;\n  const source = sources.shift();\n\n  if (!source || !isObject(target) || !isObject(source)) {\n    // Skip the current source if it's not a proper object\n    return mergeDeep(target, ...sources);\n  }\n\n  let output = Object.assign({}, target);\n\n  Object.keys(source).forEach((key) => {\n    if (isObject(source[key])) {\n      if (!(key in output)) {\n        output[key] = source[key];\n      } else {\n        output[key] = mergeDeep(output[key], source[key]);\n      }\n    } else {\n      output[key] = source[key];\n    }\n  });\n\n  return mergeDeep(output, ...sources);\n}\n","import { formatDate, formatLabel, formatValue, mergeDeep } from './helpers'\nimport { AxisChartConfig } from './types'\n\nexport const PADDING_TOP = 0\nexport const PADDING_BOTTOM = 10\nexport const AXIS_TITLE_HEIGHT = 20\nexport const LEGEND_HEIGHT = 30\nexport const LEGEND_BOTTOM = 10\nexport const TITLE_HEIGHT = 20\nexport const SUBTITLE_HEIGHT = 18\nexport const TITLE_BOTTOM = 24\n\nexport default function useEchartsOptions(config: AxisChartConfig) {\n  const title = config.title\n  const subtitle = config.subtitle\n  const hasTitle = title ? 1 : 0\n  const hasSubtitle = subtitle ? 1 : 0\n  const hasXAxisTitle = config.xAxis.title ? 1 : 0\n  const hasYAxisTitle = config.yAxis.title ? 1 : 0\n  const hasY2AxisTitle = config.y2Axis?.title ? 1 : 0\n  const hasLegend = config.series.length > 1 ? 1 : 0\n\n  const xAxisOptions = getXAxisOptions(config)\n  const yAxisOptions = getYAxisOptions(config)\n\n  return {\n    animation: true,\n    animationDuration: 700,\n    textStyle: { fontFamily: ['InterVar', 'sans-serif'] },\n    title: getTitleOptions(title, subtitle),\n    color: config.colors,\n    grid: {\n      left: '1%',\n      right: config.swapXY ? '2.5%' : '1.5%',\n      top:\n        PADDING_TOP +\n        TITLE_HEIGHT * hasTitle +\n        SUBTITLE_HEIGHT * hasSubtitle +\n        TITLE_BOTTOM,\n      bottom: PADDING_BOTTOM + LEGEND_HEIGHT * hasLegend,\n      containLabel: true,\n    },\n    xAxis: xAxisOptions,\n    yAxis: yAxisOptions,\n    series: [],\n    tooltip: {\n      show: true,\n      trigger: 'axis',\n      formatter: (params: Object | Array<Object>) => {\n        if (Array.isArray(params)) {\n          params = params\n            // remove zero values\n            .filter((p) => p.value?.[1] !== 0)\n            // sort in descending order by value\n            .sort((a, b) => b.value?.[1] - a.value?.[1])\n        }\n\n        if (!Array.isArray(params)) {\n          const p = params as any\n          const value = config.swapXY ? p.value[0] : p.value[1]\n          const formatted = isNaN(value) ? value : formatValue(value)\n          return `\n                <div class=\"flex items-center justify-between gap-5\">\n                  <div>${p.name}</div>\n                  <div class=\"font-bold\">${formatted}</div>\n                </div>\n              `\n        }\n\n        if (Array.isArray(params)) {\n          const t = params.map((p, idx) => {\n            const xValue = config.swapXY ? p.value[1] : p.value[0]\n            const yValue = config.swapXY ? p.value[0] : p.value[1]\n            const formattedX =\n              config.xAxis.type == 'time'\n                ? formatDate(xValue, undefined, config.xAxis.timeGrain)\n                : xValue\n            const formattedY = isNaN(yValue) ? yValue : formatValue(yValue)\n            return `\n              <div class=\"flex flex-col\">\n                ${idx == 0 ? `<div>${formattedX}</div>` : ''}\n                <div class=\"flex items-center justify-between gap-5\">\n                  <div class=\"flex gap-1 items-center\">\n                    ${p.marker}\n                    <div>${formatLabel(p.seriesName)}:</div>\n                  </div>\n                  <div class=\"font-bold\">${formattedY}</div>\n                </div>\n              </div>\n            `\n          })\n          return t.join('')\n        }\n      },\n      confine: true,\n      appendToBody: false,\n      axisPointer: {\n        type: 'shadow',\n      },\n    },\n    legend: {\n      show: hasLegend,\n      type: 'scroll',\n      bottom: LEGEND_BOTTOM,\n      orient: 'horizontal',\n      itemGap: 12,\n      padding: [0, 25],\n      formatter: function (name: string) {\n        return formatLabel(name)\n      },\n      textStyle: {\n        padding: [0, 0, 0, -5],\n        color: 'var(--ink-gray-8)',\n      },\n      icon: 'circle',\n      pageIcons: {\n        horizontal: [\n          'M 17 3 h 2 c 0.386 0 0.738 0.223 0.904 0.572 s 0.115 0.762 -0.13 1.062 L 11.292 15 l 8.482 10.367 c 0.245 0.299 0.295 0.712 0.13 1.062 S 19.386 27 19 27 h -2 c -0.3 0 -0.584 -0.135 -0.774 -0.367 l -9 -11 c -0.301 -0.369 -0.301 -0.898 0 -1.267 l 9 -11 C 16.416 3.135 16.7 3 17 3 Z',\n          'M 12 27 h -2 c -0.386 0 -0.738 -0.223 -0.904 -0.572 s -0.115 -0.762 0.13 -1.062 L 17.708 15 L 9.226 4.633 c -0.245 -0.299 -0.295 -0.712 -0.13 -1.062 S 9.614 3 10 3 h 2 c 0.3 0 0.584 0.135 0.774 0.367 l 9 11 c 0.301 0.369 0.301 0.898 0 1.267 l -9 11 C 12.584 26.865 12.3 27 12 27 Z',\n        ],\n      },\n      pageIconColor: 'var(--ink-gray-6)',\n      pageInactiveColor: 'var(--ink-gray-4)',\n      pageIconSize: 10,\n      pageTextStyle: {\n        color: 'var(--ink-gray-6)',\n      },\n      animationDurationUpdate: 300,\n    },\n  }\n}\n\nexport function getTitleOptions(title: string, subtitle?: string) {\n  return {\n    top: '4px',\n    left: '0.8%',\n    text: title,\n    subtext: subtitle,\n    padding: 0,\n    itemGap: -3,\n    textStyle: {\n      fontSize: 14,\n      fontWeight: 500,\n      lineHeight: 24,\n      color: 'var(--ink-gray-8)',\n    },\n    subtextStyle: {\n      fontSize: 13,\n      fontWeight: 400,\n      lineHeight: 20,\n      color: 'var(--ink-gray-6)',\n    },\n  }\n}\n\nfunction getXAxisOptions(config: AxisChartConfig) {\n  const options = config.swapXY\n    ? {\n        show: true,\n        type: 'value',\n        z: 2,\n        scale: false,\n        boundaryGap: false,\n        position: 'top',\n        name: `${config.yAxis.title} →`,\n        nameGap: 6,\n        nameLocation: 'end',\n        nameTextStyle: {\n          align: 'right',\n          verticalAlign: 'bottom',\n          padding: [0, 0, 26, 0],\n          backgroundColor: 'var(--surface-white)',\n          borderColor: 'var(--surface-white)',\n          color: 'var(--ink-gray-8)',\n          borderWidth: 4,\n        },\n        splitLine: {\n          show: true,\n          width: 1,\n          lineStyle: {\n            color: 'var(--ink-gray-3)',\n          },\n        },\n        axisLine: {\n          show: false,\n          onZero: false,\n        },\n        axisTick: {\n          show: false,\n          alignWithLabel: true,\n          formatter: function (value: number) {\n            return formatValue(value, 1, true)\n          },\n        },\n        axisLabel: {\n          show: true,\n          hideOverlap: true,\n          margin: 8,\n          formatter: function (value: number) {\n            return formatValue(value, 1, true)\n          },\n        },\n      }\n    : {\n        z: 2,\n        type: config.xAxis.type,\n        scale: true,\n        splitLine: {\n          show: false,\n        },\n        axisLine: {\n          show: true,\n        },\n        axisTick: {\n          show: false,\n          alignWithLabel: true,\n        },\n        axisLabel: {\n          show: true,\n          hideOverlap: true,\n          showMaxLabel:\n            config.xAxis.type === 'category' || config.xAxis.type === 'value',\n          margin: 8,\n        },\n      }\n\n  return mergeDeep(options, config.swapXY ? config.yAxis.echartOptions : config.xAxis.echartOptions)\n}\n\nfunction getYAxisOptions(config: AxisChartConfig) {\n  let primaryYAxisOptions = config.swapXY\n    ? {\n        show: true,\n        type: config.xAxis.type,\n        z: 2,\n        scale: true,\n        inverse: 'true',\n        splitLine: {\n          show: false,\n        },\n        axisLine: {\n          show: true,\n        },\n        axisTick: {\n          show: false,\n          alignWithLabel: true,\n        },\n        axisLabel: {\n          show: true,\n          hideOverlap: true,\n          margin: 6,\n        },\n      }\n    : {\n        show: true,\n        type: 'value',\n        z: 2,\n        scale: false,\n        boundaryGap: ['0%', '1%'],\n        name: `↑ ${config.yAxis.title}`,\n        nameGap: 6,\n        nameLocation: 'end',\n        nameTextStyle: {\n          align: 'left',\n          verticalAlign: 'top',\n          padding: [0, 0, 0, -2],\n          backgroundColor: 'var(--surface-white)',\n          borderColor: 'var(--surface-white)',\n          color: 'var(--ink-gray-8)',\n          borderWidth: 4,\n        },\n        splitLine: {\n          show: true,\n          width: 1,\n          lineStyle: {\n            color: 'var(--ink-gray-3)',\n          },\n        },\n        axisLine: {\n          show: false,\n          onZero: false,\n        },\n        axisTick: {\n          show: false,\n          alignWithLabel: true,\n        },\n        axisLabel: {\n          show: true,\n          hideOverlap: true,\n          margin: 8,\n          formatter: function (value: number) {\n            return formatValue(value, 1, true)\n          },\n        },\n        min: config.yAxis.yMin,\n        max: config.yAxis.yMax,\n      }\n\n  primaryYAxisOptions = mergeDeep(\n    primaryYAxisOptions,\n    config.swapXY ? config.xAxis.echartOptions : config.yAxis.echartOptions\n  )\n\n  let secondaryYAxisOptions = {\n    show: false,\n    type: 'value',\n    z: 2,\n    alignTicks: true,\n    scale: false,\n    boundaryGap: ['0%', '1%'],\n    name: `${config.y2Axis?.title} ↑`,\n    nameLocation: 'end',\n    nameTextStyle: {\n      align: 'right',\n      verticalAlign: 'top',\n      padding: [0, 5, 0, 0],\n      backgroundColor: 'var(--surface-white)',\n      borderColor: 'var(--surface-white)',\n      color: 'var(--ink-gray-8)',\n    },\n    nameGap: 6,\n    splitLine: {\n      show: true,\n      width: 1,\n      lineStyle: {\n        color: 'var(--ink-gray-3)',\n      },\n    },\n    axisLine: {\n      show: false,\n      onZero: false,\n    },\n    axisTick: {\n      show: false,\n      alignWithLabel: true,\n    },\n    axisLabel: {\n      show: true,\n      hideOverlap: true,\n      margin: 8,\n      formatter: function (value: number) {\n        return formatValue(value, 1, true)\n      },\n      // color: '#000',\n    },\n    min: config.y2Axis?.yMin,\n    max: config.y2Axis?.yMax,\n  }\n\n  secondaryYAxisOptions = mergeDeep(\n    secondaryYAxisOptions,\n    config.swapXY ? config.y2Axis?.echartOptions : config.y2Axis?.echartOptions\n  )\n\n  return config.swapXY\n    ? [primaryYAxisOptions]\n    : [primaryYAxisOptions, secondaryYAxisOptions]\n}\n","import useEchartsOptions from './eChartOptions'\nimport { formatValue, mergeDeep } from './helpers'\nimport {\n  AreaSeriesConfig,\n  AxisChartConfig,\n  BarSeriesConfig,\n  LineSeriesConfig,\n} from './types'\n\nexport default function useAxisChartOptions(config: AxisChartConfig) {\n  const data = config.data || []\n  const baseOptions = useEchartsOptions(config)\n\n  if (config.xAxis.type === 'time' && config.swapXY) {\n    throw new Error('Swap axes is not supported for time series data')\n  }\n\n  if (\n    config.series.find((s) => s.axis === 'y2' || s.type !== 'bar') &&\n    config.swapXY\n  ) {\n    throw new Error('Swap axes is not supported for non-bar series or y2 axis')\n  }\n\n  const swapXY = config.swapXY\n  const lastBarSeriesIdx = config.series\n    .slice()\n    .reverse()\n    .findIndex((s) => s.type === 'bar')\n  const hasY2 = config.series.some((s) => s.axis === 'y2')\n\n  if (hasY2) {\n    baseOptions.yAxis[1].show = true\n  }\n\n  baseOptions.series = config.series.map((s, idx) => {\n    let labelPosition = 'top'\n    if (s.type == 'bar' && config.stacked) {\n      labelPosition = idx == lastBarSeriesIdx ? 'top' : 'inside'\n    }\n    if (s.type == 'bar' && swapXY) {\n      labelPosition = 'right'\n    }\n\n    const standardSeriesOptions = {\n      type: s.type,\n      name: s.name,\n      data: data.map((row: any) => {\n        let x, y\n        if (swapXY) {\n          x = row[s.name]\n          y = row[config.xAxis.key]\n        } else {\n          x = row[config.xAxis.key]\n          y = row[s.name]\n        }\n        return [x, y]\n      }),\n      yAxisIndex: s.axis === 'y2' ? 1 : 0,\n      label: {\n        show: s.showDataLabels,\n        position: labelPosition,\n        formatter: (params: any) => {\n          const _val = swapXY ? params.value?.[0] : params.value?.[1]\n          return formatValue(_val, 1, true)\n        },\n        fontSize: 11,\n      },\n      labelLayout: { hideOverlap: true },\n      itemStyle: {\n        color: s.color,\n      },\n    }\n\n    let seriesTypeOptions = {}\n    if (s.type === 'bar') {\n      seriesTypeOptions = getBarSeriesOptions(config, s)\n    }\n    if (s.type === 'line') {\n      seriesTypeOptions = getLineSeriesOptions(config, s)\n    }\n    if (s.type === 'area') {\n      seriesTypeOptions = getAreaSeriesOptions(config, s)\n    }\n\n    return mergeDeep(standardSeriesOptions, seriesTypeOptions, s.echartOptions)\n  })\n\n  return mergeDeep(baseOptions, config.echartOptions)\n}\n\nfunction getBarSeriesOptions(config: AxisChartConfig, series: BarSeriesConfig) {\n  const roundedCorners = config.swapXY ? [0, 2, 2, 0] : [2, 2, 0, 0]\n  const idx = config.series.findIndex((s) => s.name === series.name)\n  const lastBarSeriesIdx = config.series\n    .slice()\n    .reverse()\n    .findIndex((s) => s.type === 'bar')\n\n  const isLastBar = lastBarSeriesIdx === idx\n\n  return {\n    stack: config.stacked ? 'stack' : undefined,\n    barMaxWidth: 60,\n    itemStyle: {\n      borderRadius: config.stacked\n        ? isLastBar\n          ? roundedCorners\n          : 0\n        : roundedCorners,\n    },\n  }\n}\n\nfunction getLineSeriesOptions(\n  config: AxisChartConfig,\n  series: LineSeriesConfig,\n) {\n  const showSymbol = series.showDataPoints || series.showDataLabels\n  return {\n    connectNulls: true,\n    symbol: 'circle',\n    symbolSize: 7,\n    showSymbol: showSymbol,\n    emphasis: {},\n    lineStyle: {\n      width: series.lineWidth || 2,\n      type: series.lineType,\n    },\n  }\n}\n\nfunction getAreaSeriesOptions(\n  config: AxisChartConfig,\n  series: AreaSeriesConfig,\n) {\n  return {\n    type: 'line',\n    showSymbol: series.showDataPoints,\n    areaStyle: {\n      color: series.color,\n      opacity: series.fillOpacity || 0.5,\n    },\n  }\n}\n","<script setup lang=\"ts\">\nimport { EChartsOption, init } from 'echarts'\nimport { onBeforeUnmount, onMounted, ref, watch } from 'vue'\nimport debounce from '../../utils/debounce'\n\nconst props = defineProps<{\n  options: EChartsOption\n  events?: {\n    click: (params: any) => void\n  }\n  error?: string\n}>()\n\nlet chart: echarts.ECharts\nconst chartDiv = ref<HTMLDivElement>()\n\nonMounted(() => {\n  if (!chartDiv.value) return\n\n  chart = init(chartDiv.value, 'light', { renderer: 'svg' })\n  chart.setOption({ ...props.options }, true)\n\n  if (props.events?.click) {\n    chart.on('click', props.events.click)\n  }\n\n  const resizeDebounce = debounce(() => {\n    chart.resize({\n      animation: {\n        duration: 300,\n      },\n    })\n  }, 250)\n\n  let resizeObserver = new ResizeObserver(resizeDebounce)\n  setTimeout(() => resizeObserver.observe(chartDiv.value!), 500)\n  onBeforeUnmount(() => resizeObserver.unobserve(chartDiv.value!))\n})\n\nwatch(\n  () => props.options,\n  (newOptions) => {\n    if (chart) {\n      chart.setOption(newOptions, true)\n    }\n  },\n  { deep: true },\n)\n</script>\n\n<template>\n  <div\n    ref=\"chartDiv\"\n    v-show=\"!error\"\n    class=\"h-full w-full min-w-[300px] md:min-w-[400px] min-h-[300px] px-4 py-2\"\n  ></div>\n  <div\n    v-show=\"error\"\n    class=\"flex h-full w-full items-center justify-center text-center text-ink-red-3\"\n  >\n    Error: {{ error }}\n  </div>\n</template>\n","<template>\n  <ECharts :options=\"options\" :error=\"error\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from 'vue'\nimport useAxisChartOptions from './axisChartOptions'\nimport ECharts from './ECharts.vue'\nimport { AxisChartConfig } from './types'\n\nconst props = defineProps<{ config: AxisChartConfig }>()\n\nconst error = ref('')\nconst options = computed(() => {\n  try {\n    return useAxisChartOptions(props.config)\n  } catch (e: any) {\n    error.value = e.message\n    return {}\n  }\n})\n</script>\n","<template>\n  <div\n    class=\"flex max-h-[140px] items-center gap-2 overflow-hidden bg-surface-white text-ink-gray-8 px-6 pt-5\"\n    :class=\"config.delta ? 'pb-6' : 'pb-3'\"\n  >\n    <slot name=\"body\">\n      <div class=\"flex w-full flex-col\">\n        <slot name=\"title\">\n          <span class=\"truncate text-sm font-medium text-ink-gray-5\">\n            {{ config.title }}\n          </span>\n        </slot>\n        <slot name=\"subtitle\" v-bind=\"{ formatValue }\">\n          <div\n            class=\"flex-1 flex-shrink-0 truncate text-[24px] text-ink-gray-6 font-semibold leading-10\"\n          >\n            {{ config.prefix }}{{ formatValue(config.value, 1, true)\n            }}{{ config.suffix }}\n          </div>\n        </slot>\n        <slot name=\"delta\" v-bind=\"{ formatValue }\">\n          <div\n            v-if=\"config.delta\"\n            class=\"flex items-center gap-0.5 text-xs font-medium\"\n            :class=\"[\n              config.negativeIsBetter\n                ? config.delta >= 0\n                  ? 'text-ink-red-4'\n                  : 'text-ink-green-3'\n                : config.delta >= 0\n                  ? 'text-ink-green-3'\n                  : 'text-ink-red-4',\n            ]\"\n          >\n            <span class=\"\">\n              {{ config.delta >= 0 ? '↑' : '↓' }}\n            </span>\n            <span>\n              {{ config.deltaPrefix }}{{ formatValue(config.delta, 1, true)\n              }}{{ config.deltaSuffix }}\n            </span>\n          </div>\n        </slot>\n      </div>\n    </slot>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { formatValue } from './helpers'\nimport { NumberChartConfig } from './types'\n\ndefineProps<{ config: NumberChartConfig }>()\n</script>\n","import { getTitleOptions } from './eChartOptions'\nimport { formatValue } from './helpers'\nimport { DonutChartConfig } from './types'\n\nexport default function useDonutChartOptions(config: DonutChartConfig) {\n  let data = config.data || []\n\n  data = data.sort((a, b) => {\n    const aValue = a[config.valueColumn]\n    const bValue = b[config.valueColumn]\n    if (aValue === bValue) {\n      return 0\n    }\n    return aValue > bValue ? -1 : 1\n  })\n\n  const labels = data.map((row) => row[config.categoryColumn])\n  const values = data.map((row) => row[config.valueColumn])\n  const total = values.reduce((acc, value) => {\n    return isNaN(value) ? acc : acc + value\n  }, 0)\n\n  let radius = ['40%', '70%']\n  let center = ['50%', '48%']\n\n  if (config.subtitle) {\n    radius = ['40%', '70%']\n    center = ['50%', '50%']\n  }\n\n  if (config.showInlineLabels) {\n    center = ['50%', '50%']\n  }\n\n  // legend position\n  let orient = 'horizontal'\n  let bottom = 0\n  let left = 'center'\n  // let padding = [30, 30, 10, 30]\n  let padding = [0, 10, 10, 10]\n\n  return {\n    animation: true,\n    animationDuration: 700,\n    color: config.colors,\n    textStyle: { fontFamily: ['InterVar', 'sans-serif'] },\n    title: getTitleOptions(config.title, config.subtitle),\n    dataset: {\n      source: [\n        [config.categoryColumn, config.valueColumn],\n        ...data.map((r) => [r[config.categoryColumn], r[config.valueColumn]]),\n      ],\n    },\n    series: [\n      {\n        type: 'pie',\n        name: config.categoryColumn,\n        center,\n        radius,\n        labelLine: {\n          show: config.showInlineLabels,\n          lineStyle: {\n            width: 2,\n          },\n          length: 10,\n          length2: 20,\n          smooth: true,\n        },\n        label: {\n          show: config.showInlineLabels,\n          formatter: ({ value, name }: any) => {\n            const percentage = total > 0 ? (value[1] / total) * 100 : 0\n            return `${name} (${percentage.toFixed(0)}%)`\n          },\n        },\n        emphasis: { scaleSize: 5 },\n      },\n    ],\n    legend: !config.showInlineLabels\n      ? {\n          // top,\n          left: left,\n          bottom: bottom,\n          padding: padding,\n          orient: orient,\n          show: true,\n          type: 'scroll',\n          itemGap: 12,\n          formatter: function (name: string) {\n            const labelIndex = labels.indexOf(name)\n            const percentage =\n              total > 0 ? (values[labelIndex] / total) * 100 : 0\n            return `${name} (${percentage.toFixed(0)}%)`\n          },\n          textStyle: {\n            padding: [0, 0, 0, -5],\n            color: 'var(--ink-gray-8)',\n          },\n          icon: 'circle',\n          pageIcons: {\n            horizontal: [\n              'M 17 3 h 2 c 0.386 0 0.738 0.223 0.904 0.572 s 0.115 0.762 -0.13 1.062 L 11.292 15 l 8.482 10.367 c 0.245 0.299 0.295 0.712 0.13 1.062 S 19.386 27 19 27 h -2 c -0.3 0 -0.584 -0.135 -0.774 -0.367 l -9 -11 c -0.301 -0.369 -0.301 -0.898 0 -1.267 l 9 -11 C 16.416 3.135 16.7 3 17 3 Z',\n              'M 12 27 h -2 c -0.386 0 -0.738 -0.223 -0.904 -0.572 s -0.115 -0.762 0.13 -1.062 L 17.708 15 L 9.226 4.633 c -0.245 -0.299 -0.295 -0.712 -0.13 -1.062 S 9.614 3 10 3 h 2 c 0.3 0 0.584 0.135 0.774 0.367 l 9 11 c 0.301 0.369 0.301 0.898 0 1.267 l -9 11 C 12.584 26.865 12.3 27 12 27 Z',\n            ],\n          },\n          pageIconColor: 'var(--ink-gray-6)',\n          pageInactiveColor: 'var(--ink-gray-4)',\n          pageIconSize: 10,\n          pageTextStyle: {\n            color: 'var(--ink-gray-6)',\n          },\n          animationDurationUpdate: 300,\n        }\n      : null,\n    tooltip: {\n      trigger: 'item',\n      confine: true,\n      appendToBody: false,\n      formatter: function (params: any) {\n        const p = params as any\n        const value = p.value[1]\n        const percentage = total > 0 ? (value / total) * 100 : 0\n        const formatted = isNaN(value) ? value : formatValue(value, 1, true)\n        const formattedPercentage = percentage.toFixed(0)\n        return `\n          <div class=\"flex items-center justify-between gap-5\">\n            <div>${p.name}</div>\n            <div class=\"font-bold\">\n              ${formatted} (${formattedPercentage}%)\n            </div>\n          </div>\n        `\n      },\n    },\n  }\n}\n","<template>\n  <ECharts :options=\"options\" :error=\"error\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from 'vue'\nimport useDonutChartOptions from './donutChartOptions'\nimport ECharts from './ECharts.vue'\nimport { DonutChartConfig } from './types'\n\nconst props = defineProps<{ config: DonutChartConfig }>()\n\nconst error = ref('')\nconst options = computed(() => {\n  try {\n    return useDonutChartOptions(props.config)\n  } catch (e: any) {\n    error.value = e.message\n    return {}\n  }\n})\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <LayoutHeader>\n      <template #left-header>\n        <div class=\"text-lg font-medium text-gray-900\">Dashboard</div>\n      </template>\n      <template #right-header> </template>\n    </LayoutHeader>\n\n    <div class=\"p-5 w-full overflow-y-scroll\">\n      <!-- Filters -->\n      <div class=\"mb-4 flex items-center gap-4 overflow-x-auto\">\n        <Dropdown\n          v-if=\"!showDatePicker\"\n          :options=\"options\"\n          class=\"!form-control !w-48\"\n          v-model=\"preset\"\n          placeholder=\"Select Range\"\n          @change=\"filters.period = preset\"\n        >\n          <template #default>\n            <div\n              class=\"flex justify-between !w-48 items-center border border-outline-gray-2 rounded text-ink-gray-8 px-2 py-1.5 hover:border-outline-gray-3 hover:shadow-sm focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-0 transition-colors h-7 cursor-pointer\"\n            >\n              <div class=\"flex items-center\">\n                <LucideCalendar class=\"size-4 text-ink-gray-5 mr-2\" />\n                <span class=\"text-base\">{{ preset }}</span>\n              </div>\n              <LucideChevronDown class=\"size-4 text-ink-gray-5\" />\n            </div>\n          </template>\n        </Dropdown>\n        <DateRangePicker\n          v-else\n          class=\"!w-48\"\n          ref=\"datePickerRef\"\n          v-model=\"filters.period\"\n          variant=\"outline\"\n          placeholder=\"Period\"\n          @update:model-value=\"\n            (e:string) => {\n              showDatePicker = false;\n              preset = formatter(e);\n            }\n          \"\n          :formatter=\"formatRange\"\n        >\n          <template #prefix>\n            <LucideCalendar class=\"size-4 text-ink-gray-5 mr-2\" />\n          </template>\n        </DateRangePicker>\n        <Link\n          v-if=\"isManager\"\n          class=\"form-control w-48\"\n          doctype=\"HD Team\"\n          placeholder=\"Team\"\n          v-model=\"filters.team\"\n          :page-length=\"5\"\n          :hide-me=\"true\"\n        >\n          <template #prefix>\n            <LucideUsers class=\"size-4 text-ink-gray-5 mr-2\" />\n          </template>\n        </Link>\n        <Link\n          v-if=\"isManager\"\n          class=\"form-control w-48\"\n          doctype=\"HD Agent\"\n          placeholder=\"Agent\"\n          v-model=\"filters.agent\"\n          :page-length=\"5\"\n          :filters=\"agentFilter\"\n          :hide-me=\"true\"\n        >\n          <template #prefix>\n            <LucideUser class=\"size-4 text-ink-gray-5 mr-2\" />\n          </template>\n        </Link>\n      </div>\n      <!-- Charts -->\n      <div v-if=\"!loading\" class=\"transition-all animate-fade-in duration-300\">\n        <!-- Number Cards -->\n        <div\n          class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\"\n          v-if=\"!numberCards.loading\"\n        >\n          <Tooltip\n            v-for=\"(config, index) in numberCards.data\"\n            :text=\"config.tooltip\"\n          >\n            <NumberChart\n              :key=\"index\"\n              class=\"border rounded-md\"\n              :config=\"config\"\n            />\n          </Tooltip>\n        </div>\n        <!-- Trend Charts -->\n        <div\n          class=\"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4\"\n          v-if=\"!trendData.loading\"\n        >\n          <div\n            class=\"border rounded-md min-h-80\"\n            v-for=\"(chart, index) in trendData.data\"\n            :key=\"index\"\n          >\n            <component :is=\"getChartType(chart)\" />\n          </div>\n        </div>\n        <!-- Master Data Charts -->\n        <div\n          class=\"grid grid-cols-1 md:grid-cols-2 gap-4 w-full mt-4\"\n          v-if=\"!masterData.loading\"\n        >\n          <div\n            class=\"border rounded-md\"\n            v-for=\"(chart, index) in masterData.data\"\n            :key=\"index\"\n          >\n            <component :is=\"getChartType(chart)\" />\n          </div>\n        </div>\n      </div>\n      <!-- Loading State -->\n      <div\n        v-else\n        class=\"flex items-center justify-center h-[240px] gap-2 rounded transition-all animate-fade-in\"\n      >\n        <Button :loading=\"true\" size=\"2xl\" variant=\"ghost\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Link } from \"@/components\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport {\n  AxisChart,\n  createResource,\n  DateRangePicker,\n  dayjs,\n  DonutChart,\n  Dropdown,\n  NumberChart,\n  Tooltip,\n  usePageMeta,\n} from \"frappe-ui\";\nimport { computed, h, onMounted, reactive, ref, watch } from \"vue\";\n\nconst { isManager, userId } = useAuthStore();\n\nconst filters = reactive({\n  period: getLastXDays(),\n  agent: null,\n  team: null,\n});\n\nconst colors = [\n  \"#318AD8\",\n  \"#F683AE\",\n  \"#48BB74\",\n  \"#F56B6B\",\n  \"#FACF7A\",\n  \"#44427B\",\n  \"#5FD8C4\",\n  \"#F8814F\",\n  \"#15CCEF\",\n  \"#A6B1B9\",\n];\n\nconst numberCards = createResource({\n  url: \"helpdesk.api.dashboard.get_dashboard_data\",\n  cache: [\"Analytics\", \"NumberCards\"],\n  params: {\n    dashboard_type: \"number_card\",\n    filters,\n  },\n});\n\nconst masterData = createResource({\n  url: \"helpdesk.api.dashboard.get_dashboard_data\",\n  cache: [\"Analytics\", \"MasterCharts\"],\n  params: {\n    dashboard_type: \"master\",\n    filters,\n  },\n});\n\nconst trendData = createResource({\n  url: \"helpdesk.api.dashboard.get_dashboard_data\",\n  cache: [\"Analytics\", \"TrendCharts\"],\n  params: {\n    dashboard_type: \"trend\",\n    filters,\n  },\n});\n\nconst agentFilter = ref(null);\nconst teamMembers = createResource({\n  url: \"helpdesk.helpdesk.doctype.hd_team.hd_team.get_team_members\",\n  cache: [\"Analytics\", \"TeamMembers\"],\n  params: {\n    team: filters.team,\n  },\n  onSuccess: (data) => {\n    // Set Agent Filters\n    agentFilter.value = { name: [\"in\", data] };\n  },\n});\n\nwatch(\n  () => filters.team,\n  (newVal) => {\n    filters.agent = null; // Reset agent when team is selected\n    if (newVal) {\n      teamMembers.update({\n        params: {\n          team: newVal,\n        },\n      });\n      teamMembers.reload();\n    }\n    if (!newVal) {\n      agentFilter.value = null; // Reset agent filter if no team is selected\n    }\n  }\n);\n\nconst loading = computed(() => {\n  return numberCards.loading || masterData.loading || trendData.loading;\n});\n\nfunction getChartType(chart: any) {\n  chart.colors = colors;\n  if (chart[\"type\"] === \"axis\") {\n    return h(AxisChart, {\n      config: chart,\n    });\n  }\n  if (chart[\"type\"] === \"pie\") {\n    return h(DonutChart, {\n      config: chart,\n    });\n  }\n}\n\nfunction getLastXDays(range: number = 30): string {\n  const today = new Date();\n  const lastXDate = new Date(today);\n  lastXDate.setDate(today.getDate() - range);\n\n  return `${dayjs(lastXDate).format(\"YYYY-MM-DD\")},${dayjs(today).format(\n    \"YYYY-MM-DD\"\n  )}`;\n}\n\nconst showDatePicker = ref(false);\nconst datePickerRef = ref(null);\nconst preset = ref(\"Last 30 Days\");\n\nconst options = computed(() => [\n  {\n    group: \"Presets\",\n    hideLabel: true,\n    items: [\n      {\n        label: \"Today\",\n        onClick: () => {\n          preset.value = \"Today\";\n          filters.period = getLastXDays(0);\n        },\n      },\n      {\n        label: \"Last 7 Days\",\n        onClick: () => {\n          preset.value = \"Last 7 Days\";\n          filters.period = getLastXDays(7);\n        },\n      },\n      {\n        label: \"Last 30 Days\",\n        onClick: () => {\n          preset.value = \"Last 30 Days\";\n          filters.period = getLastXDays(30);\n        },\n      },\n      {\n        label: \"Last 60 Days\",\n        onClick: () => {\n          preset.value = \"Last 60 Days\";\n          filters.period = getLastXDays(60);\n        },\n      },\n      {\n        label: \"Last 90 Days\",\n        onClick: () => {\n          preset.value = \"Last 90 Days\";\n          filters.period = getLastXDays(90);\n        },\n      },\n    ],\n  },\n  {\n    label: \"Custom Range\",\n    onClick: () => {\n      showDatePicker.value = true;\n      setTimeout(() => {\n        datePickerRef.value?.open();\n      }, 0);\n      preset.value = \"Custom Range\";\n      filters.period = null; // Reset period to allow custom date selection\n    },\n  },\n]);\n\nfunction formatter(range: string) {\n  if (!range) {\n    filters.period = getLastXDays();\n    preset.value = \"Last 30 Days\";\n    return preset.value;\n  }\n  let [from, to] = range.split(\",\");\n  return `${formatRange(from)} to ${formatRange(to)}`;\n}\n\nfunction formatRange(date: string) {\n  const dateObj = new Date(date);\n  return dateObj.toLocaleDateString(\"en-US\", {\n    month: \"short\",\n    day: \"numeric\",\n    year:\n      dateObj.getFullYear() === new Date().getFullYear()\n        ? undefined\n        : \"numeric\",\n  });\n}\n\nwatch(\n  () => filters,\n  (newVal) => {\n    if (showDatePicker.value) {\n      return;\n    }\n    const filters = {\n      from_date: newVal.period?.split(\",\")[0] || null,\n      to_date: newVal.period?.split(\",\")[1] || null,\n      agent: newVal.agent || null,\n      team: newVal.team || null,\n    };\n\n    numberCards.update({\n      params: {\n        dashboard_type: \"number_card\",\n        filters: filters,\n      },\n    });\n    numberCards.reload();\n\n    masterData.update({\n      params: {\n        dashboard_type: \"master\",\n        filters: filters,\n      },\n    });\n    masterData.reload();\n\n    trendData.update({\n      params: {\n        dashboard_type: \"trend\",\n        filters: filters,\n      },\n    });\n    trendData.reload();\n  },\n  { deep: true }\n);\n\nonMounted(() => {\n  if (!isManager) {\n    // when filters are updated, resources are reloaded coz of the watcher\n    filters.agent = userId;\n    return;\n  }\n  // If not managers call the resources\n  numberCards.reload();\n  masterData.reload();\n  trendData.reload();\n});\n\nusePageMeta(() => {\n  return {\n    title: \"Dashboard\",\n  };\n});\n</script>\n\n<style scoped>\n:deep(.form-control button) {\n  @apply text-base rounded h-7 py-1.5 border border-outline-gray-2 bg-surface-white placeholder-ink-gray-4 hover:border-outline-gray-3 hover:shadow-sm focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-0 text-ink-gray-8 transition-colors w-full dark:[color-scheme:dark];\n}\n:deep(.form-control button > div) {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n:deep(.form-control div) {\n  width: 100%;\n  display: flex;\n}\n</style>\n"],"names":["formatLabel","name","word","formatValue","value","precision","shorten","locale","guessPrecision","number","str","decimalIndex","formatDate","date","format","grain","dayjs","isObject","item","mergeDeep","target","sources","source","output","key","PADDING_TOP","PADDING_BOTTOM","LEGEND_HEIGHT","LEGEND_BOTTOM","TITLE_HEIGHT","SUBTITLE_HEIGHT","TITLE_BOTTOM","useEchartsOptions","config","title","subtitle","hasTitle","hasSubtitle","_a","hasLegend","xAxisOptions","getXAxisOptions","yAxisOptions","getYAxisOptions","getTitleOptions","params","p","a","b","_b","formatted","idx","xValue","yValue","formattedX","formattedY","options","primaryYAxisOptions","secondaryYAxisOptions","_c","_d","_e","useAxisChartOptions","data","baseOptions","swapXY","lastBarSeriesIdx","labelPosition","standardSeriesOptions","row","x","y","_val","seriesTypeOptions","getBarSeriesOptions","getLineSeriesOptions","getAreaSeriesOptions","series","roundedCorners","isLastBar","props","__props","chart","chartDiv","ref","onMounted","init","resizeDebounce","debounce","resizeObserver","onBeforeUnmount","watch","newOptions","_createElementVNode","error","_withDirectives","computed","e","_createBlock","ECharts","_createElementBlock","_normalizeClass","_renderSlot","_ctx","_hoisted_1","_hoisted_2","_normalizeProps","_guardReactiveProps","_unref","_hoisted_3","_toDisplayString","_hoisted_4","useDonutChartOptions","aValue","bValue","labels","values","total","acc","radius","center","orient","bottom","left","padding","r","percentage","labelIndex","formattedPercentage","isManager","userId","useAuthStore","filters","reactive","getLastXDays","colors","numberCards","createResource","masterData","trendData","agentFilter","teamMembers","newVal","loading","getChartType","h","AxisChart","DonutChart","range","today","lastXDate","showDatePicker","datePickerRef","preset","formatter","from","to","formatRange","dateObj","usePageMeta","_openBlock","_createVNode","_component_LayoutHeader","_cache","DateRangePicker","$event","_component_LucideCalendar","Dropdown","_hoisted_5","_hoisted_6","_component_LucideChevronDown","Link","_component_LucideUsers","_component_LucideUser","_hoisted_11","_component_Button","_hoisted_7","_hoisted_8","_Fragment","index","Tooltip","NumberChart","_hoisted_9","_resolveDynamicComponent","_hoisted_10"],"mappings":"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"}