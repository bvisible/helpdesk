import{b8 as l,a as f,A as h,Z as p,W as s,c,a4 as m}from"./index-b4c863a6.js";const k=l("notification",()=>{const a=f(),o=h(!1),e=p({doctype:"HD Notification",cache:"Notifications",fields:["creation","name","notification_type","read","reference_comment","reference_ticket","user_from","user_to"],orderBy:"creation desc"}),i=s({url:"helpdesk.helpdesk.doctype.hd_notification.utils.clear",auto:!1,onSuccess:()=>e.reload()}),n=t=>{s({url:"helpdesk.helpdesk.doctype.hd_notification.utils.clear",auto:!0,params:{ticket:t},onSuccess:()=>e.reload()})},r=c(()=>e.data||[]),u=c(()=>r.value.filter(t=>!t.read).length);function d(){o.value=!o.value}return m(()=>a.hasDeskAccess,t=>{t&&(e.filters={user_to:["=",a.userId]},e.reload())},{immediate:!0}),{clear:i,data:r,toggle:d,read:n,unread:u,visible:o,resource:e}});export{k as u};
//# sourceMappingURL=notification-a08fd36e.js.map
