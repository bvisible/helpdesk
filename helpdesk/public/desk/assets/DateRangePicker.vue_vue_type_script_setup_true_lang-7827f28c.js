import{d as J,c as j,z as b,M as K,r as I,e as m,f as Q,w as g,l as u,k as p,t as x,x as T,g as i,ak as X,B as Z,ab as ee,h as l,be as C,E as w,F as D,a8 as N,G as te}from"./index-3194ec9b.js";import{u as ae,a as n,g as h}from"./useDatePicker-fa7d5592.js";const le={class:"flex flex-col space-y-1.5"},se={key:0,class:"block text-xs text-ink-gray-5"},ne={class:"flex items-center p-1 text-ink-gray-4"},oe={class:"flex-1 text-center text-base font-medium text-ink-gray-6"},re={class:"flex items-center justify-center gap-1 p-1"},ue={class:"flex flex-col items-center justify-center p-1 text-ink-gray-8"},ie={class:"flex items-center text-xs uppercase"},ce=["onClick"],fe={class:"flex justify-end space-x-1 p-1"},me=J({__name:"DateRangePicker",props:{value:{},modelValue:{},placeholder:{},formatter:{type:Function},readonly:{type:Boolean},inputClass:{},placement:{},label:{}},emits:["update:modelValue","change"],setup(R,{expose:W,emit:S}){const o=R,V=S,{currentYear:Y,currentMonth:k,today:M,datesAsWeeks:z,formattedMonth:A,prevMonth:E,nextMonth:P}=ae(),U=j(()=>{var s,d,v;let e="mt-2";return(s=o.placement)!=null&&s.startsWith("top")?e="mb-2":(d=o.placement)!=null&&d.startsWith("left")?e="mr-2":(v=o.placement)!=null&&v.startsWith("right")&&(e="ml-2"),e}),c=j(()=>o.value?o.value:o.modelValue),a=b(""),t=b("");function G(e){a.value&&t.value?(a.value=n(e),t.value=""):a.value&&!t.value?t.value=n(e):a.value=n(e),L()}function L(){if(!a.value||!t.value)return;let e=h(a.value),s=h(t.value);if(e>s){let d=e;e=s,s=d}a.value=n(e),t.value=n(s)}function B(){let e=`${a.value},${t.value}`;!a.value&&!t.value&&(e=""),V("change",e),V("update:modelValue",e)}function F(){let e=t.value?h(t.value):M.value;Y.value=e.getFullYear(),k.value=e.getMonth()+1}function O(e){return!a.value||!t.value?!1:e>=h(a.value)&&e<=h(t.value)}function q(e){return e?(typeof e=="string"&&(e=e.split(",")),o.formatter?o.formatter(e[0])+" to "+o.formatter(e[1]):e):""}function H(){a.value="",t.value="",B()}const $=b();return K(()=>{let e=typeof(c==null?void 0:c.value)=="string"?c.value.split(","):c.value;a.value=(e==null?void 0:e[0])||"",t.value=(e==null?void 0:e[1])||"",F()}),W({open:()=>{var e;(e=$.value)==null||e.open()}}),(e,s)=>{const d=I("FeatherIcon"),v=I("Button");return m(),Q(l(te),{ref_key:"popoverRef",ref:$,onOpen:F,class:"flex w-full [&>div:first-child]:w-full",placement:e.placement},{target:g(({togglePopover:y})=>[u("div",le,[o.label?(m(),p("label",se,x(o.label),1)):T("",!0),i(l(C),ee({readonly:"",type:"text",placeholder:e.placeholder,value:c.value&&e.formatter?q(c.value):c.value,onFocus:f=>e.readonly?null:y(),class:["w-full",e.inputClass]},e.$attrs),X({_:2},[e.$slots.prefix?{name:"prefix",fn:g(()=>[Z(e.$slots,"prefix")]),key:"0"}:void 0]),1040,["placeholder","value","onFocus","class"])])]),body:g(({togglePopover:y})=>[u("div",{class:N(["w-fit select-none text-base text-ink-gray-9 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",U.value])},[u("div",ne,[i(v,{variant:"ghost",class:"h-7 w-7",onClick:l(E)},{default:g(()=>[i(d,{"stroke-width":2,name:"chevron-left",class:"h-4 w-4"})]),_:1},8,["onClick"]),u("div",oe,x(l(A)),1),i(v,{variant:"ghost",class:"h-7 w-7",onClick:l(P)},{default:g(()=>[i(d,{"stroke-width":2,name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["onClick"])]),u("div",re,[i(l(C),{class:"w-28 text-sm",type:"text",modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=f=>a.value=f)},null,8,["modelValue"]),i(l(C),{class:"w-28 text-sm",type:"text",modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=f=>t.value=f)},null,8,["modelValue"])]),u("div",ue,[u("div",ie,[(m(),p(D,null,w(["s","m","t","w","t","f","s"],(f,_)=>u("div",{class:"flex h-6 w-8 items-center justify-center text-center",key:_},x(f),1)),64))]),(m(!0),p(D,null,w(l(z),(f,_)=>(m(),p("div",{class:"flex items-center",key:_},[(m(!0),p(D,null,w(f,r=>(m(),p("div",{key:l(n)(r),class:N(["flex h-8 w-8 cursor-pointer items-center justify-center rounded hover:bg-surface-gray-2",{"text-ink-gray-3":r.getMonth()!==l(k)-1,"text-ink-gray-9":r.getMonth()===l(k)-1,"font-extrabold text-ink-gray-9":l(n)(r)===l(n)(l(M)),"rounded-none bg-surface-gray-3":O(r),"rounded-l-md rounded-r-none bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6":a.value&&l(n)(r)===l(n)(a.value),"rounded-r-md bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6":t.value&&l(n)(r)===l(n)(t.value)}]),onClick:()=>G(r)},x(r.getDate()),11,ce))),128))]))),128))]),u("div",fe,[i(v,{label:"Clear",onClick:()=>{H(),y()},disabled:!a.value||!t.value},null,8,["onClick","disabled"]),i(v,{variant:"solid",label:"Apply",disabled:!a.value||!t.value,onClick:()=>{B(),y()}},null,8,["disabled","onClick"])])],2)]),_:3},8,["placement"])}}});export{me as _};
//# sourceMappingURL=DateRangePicker.vue_vue_type_script_setup_true_lang-7827f28c.js.map
