import{d as q,A as y,c as E,bq as z,bv as o,cb as U,bx as D,a7 as ne,bN as be,bH as M,af as Z,bI as Pe,cc as me,cd as ge,K as x,bt as J,F as W,bF as G,N as ae,O as re,ce as Se,br as V,bs as A,by as _,bz as F,bG as ye,bJ as Y,a0 as Q,bK as B,bB as R,ar as he,e as ue,f as we,w as j,g as ee,h as K,C as te,D as le,E as oe,an as Ce,l as se,ao as Ee,am as $e,j as ke,k as Fe}from"./index-b4c863a6.js";import{q as Ie,N as xe,E as Be,n as ie,d as I}from"./portal-302b46c8.js";import{c as _e}from"./popper-0aa08b12.js";var Ne=(u=>(u[u.Open=0]="Open",u[u.Closed=1]="Closed",u))(Ne||{});let pe=Symbol("PopoverContext");function X(u){let v=Q(pe,null);if(v===null){let b=new Error(`<${u} /> is missing a parent <${de.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(b,X),b}return v}let Oe=Symbol("PopoverGroupContext");function ce(){return Q(Oe,null)}let ve=Symbol("PopoverPanelContext");function Te(){return Q(ve,null)}let de=q({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(u,{slots:v,attrs:b,expose:$}){var P;let m=y(null);$({el:m,$el:m});let l=y(1),e=y(null),w=y(null),g=y(null),c=y(null),d=E(()=>z(m)),h=E(()=>{var t,a;if(!o(e)||!o(c))return!1;for(let H of document.querySelectorAll("body > *"))if(Number(H==null?void 0:H.contains(o(e)))^Number(H==null?void 0:H.contains(o(c))))return!0;let n=U(),p=n.indexOf(o(e)),C=(p+n.length-1)%n.length,k=(p+1)%n.length,L=n[C],fe=n[k];return!((t=o(c))!=null&&t.contains(L))&&!((a=o(c))!=null&&a.contains(fe))}),f={popoverState:l,buttonId:y(null),panelId:y(null),panel:c,button:e,isPortalled:h,beforePanelSentinel:w,afterPanelSentinel:g,togglePopover(){l.value=D(l.value,{0:1,1:0})},closePopover(){l.value!==1&&(l.value=1)},close(t){f.closePopover();let a=(()=>t?t instanceof HTMLElement?t:t.value instanceof HTMLElement?o(t):o(f.button):o(f.button))();a==null||a.focus()}};ne(pe,f),be(E(()=>D(l.value,{0:M.Open,1:M.Closed})));let N={buttonId:f.buttonId,panelId:f.panelId,close(){f.closePopover()}},S=ce(),O=S==null?void 0:S.registerPopover,[T,s]=Ie(),i=xe({mainTreeNodeRef:S==null?void 0:S.mainTreeNodeRef,portals:T,defaultContainers:[e,c]});function r(){var t,a,n,p;return(p=S==null?void 0:S.isFocusWithinPopoverGroup())!=null?p:((t=d.value)==null?void 0:t.activeElement)&&(((a=o(e))==null?void 0:a.contains(d.value.activeElement))||((n=o(c))==null?void 0:n.contains(d.value.activeElement)))}return Z(()=>O==null?void 0:O(N)),Be((P=d.value)==null?void 0:P.defaultView,"focus",t=>{var a,n;t.target!==window&&t.target instanceof HTMLElement&&l.value===0&&(r()||e&&c&&(i.contains(t.target)||(a=o(f.beforePanelSentinel))!=null&&a.contains(t.target)||(n=o(f.afterPanelSentinel))!=null&&n.contains(t.target)||f.closePopover()))},!0),Pe(i.resolveContainers,(t,a)=>{var n;f.closePopover(),me(a,ge.Loose)||(t.preventDefault(),(n=o(e))==null||n.focus())},E(()=>l.value===0)),()=>{let t={open:l.value===0,close:f.close};return x(W,[x(s,{},()=>J({theirProps:{...u,...b},ourProps:{ref:m},slot:t,slots:v,attrs:b,name:"Popover"})),x(i.MainTreeNode)])}}}),De=q({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(u,{attrs:v,slots:b,expose:$}){var P;let m=(P=u.id)!=null?P:`headlessui-popover-button-${G()}`,l=X("PopoverButton"),e=E(()=>z(l.button));$({el:l.button,$el:l.button}),ae(()=>{l.buttonId.value=m}),re(()=>{l.buttonId.value=null});let w=ce(),g=w==null?void 0:w.closeOthers,c=Te(),d=E(()=>c===null?!1:c.value===l.panelId.value),h=y(null),f=`headlessui-focus-sentinel-${G()}`;d.value||Z(()=>{l.button.value=o(h)});let N=Se(E(()=>({as:u.as,type:v.type})),h);function S(t){var a,n,p,C,k;if(d.value){if(l.popoverState.value===1)return;switch(t.key){case B.Space:case B.Enter:t.preventDefault(),(n=(a=t.target).click)==null||n.call(a),l.closePopover(),(p=o(l.button))==null||p.focus();break}}else switch(t.key){case B.Space:case B.Enter:t.preventDefault(),t.stopPropagation(),l.popoverState.value===1&&(g==null||g(l.buttonId.value)),l.togglePopover();break;case B.Escape:if(l.popoverState.value!==0)return g==null?void 0:g(l.buttonId.value);if(!o(l.button)||(C=e.value)!=null&&C.activeElement&&!((k=o(l.button))!=null&&k.contains(e.value.activeElement)))return;t.preventDefault(),t.stopPropagation(),l.closePopover();break}}function O(t){d.value||t.key===B.Space&&t.preventDefault()}function T(t){var a,n;u.disabled||(d.value?(l.closePopover(),(a=o(l.button))==null||a.focus()):(t.preventDefault(),t.stopPropagation(),l.popoverState.value===1&&(g==null||g(l.buttonId.value)),l.togglePopover(),(n=o(l.button))==null||n.focus()))}function s(t){t.preventDefault(),t.stopPropagation()}let i=ie();function r(){let t=o(l.panel);if(!t)return;function a(){D(i.value,{[I.Forwards]:()=>_(t,F.First),[I.Backwards]:()=>_(t,F.Last)})===R.Error&&_(U().filter(n=>n.dataset.headlessuiFocusGuard!=="true"),D(i.value,{[I.Forwards]:F.Next,[I.Backwards]:F.Previous}),{relativeTo:o(l.button)})}a()}return()=>{let t=l.popoverState.value===0,a={open:t},{...n}=u,p=d.value?{ref:h,type:N.value,onKeydown:S,onClick:T}:{ref:h,id:m,type:N.value,"aria-expanded":l.popoverState.value===0,"aria-controls":o(l.panel)?l.panelId.value:void 0,disabled:u.disabled?!0:void 0,onKeydown:S,onKeyup:O,onClick:T,onMousedown:s};return x(W,[J({ourProps:p,theirProps:{...v,...n},slot:a,attrs:v,slots:b,name:"PopoverButton"}),t&&!d.value&&l.isPortalled.value&&x(V,{id:f,features:A.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:r})])}}}),Ge=q({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(u,{attrs:v,slots:b,expose:$}){var P;let m=(P=u.id)!=null?P:`headlessui-popover-panel-${G()}`,{focus:l}=u,e=X("PopoverPanel"),w=E(()=>z(e.panel)),g=`headlessui-focus-sentinel-before-${G()}`,c=`headlessui-focus-sentinel-after-${G()}`;$({el:e.panel,$el:e.panel}),ae(()=>{e.panelId.value=m}),re(()=>{e.panelId.value=null}),ne(ve,e.panelId),Z(()=>{var s,i;if(!l||e.popoverState.value!==0||!e.panel)return;let r=(s=w.value)==null?void 0:s.activeElement;(i=o(e.panel))!=null&&i.contains(r)||_(o(e.panel),F.First)});let d=ye(),h=E(()=>d!==null?(d.value&M.Open)===M.Open:e.popoverState.value===0);function f(s){var i,r;switch(s.key){case B.Escape:if(e.popoverState.value!==0||!o(e.panel)||w.value&&!((i=o(e.panel))!=null&&i.contains(w.value.activeElement)))return;s.preventDefault(),s.stopPropagation(),e.closePopover(),(r=o(e.button))==null||r.focus();break}}function N(s){var i,r,t,a,n;let p=s.relatedTarget;p&&o(e.panel)&&((i=o(e.panel))!=null&&i.contains(p)||(e.closePopover(),((t=(r=o(e.beforePanelSentinel))==null?void 0:r.contains)!=null&&t.call(r,p)||(n=(a=o(e.afterPanelSentinel))==null?void 0:a.contains)!=null&&n.call(a,p))&&p.focus({preventScroll:!0})))}let S=ie();function O(){let s=o(e.panel);if(!s)return;function i(){D(S.value,{[I.Forwards]:()=>{var r;_(s,F.First)===R.Error&&((r=o(e.afterPanelSentinel))==null||r.focus())},[I.Backwards]:()=>{var r;(r=o(e.button))==null||r.focus({preventScroll:!0})}})}i()}function T(){let s=o(e.panel);if(!s)return;function i(){D(S.value,{[I.Forwards]:()=>{let r=o(e.button),t=o(e.panel);if(!r)return;let a=U(),n=a.indexOf(r),p=a.slice(0,n+1),C=[...a.slice(n+1),...p];for(let k of C.slice())if(k.dataset.headlessuiFocusGuard==="true"||t!=null&&t.contains(k)){let L=C.indexOf(k);L!==-1&&C.splice(L,1)}_(C,F.First,{sorted:!1})},[I.Backwards]:()=>{var r;_(s,F.Previous)===R.Error&&((r=o(e.button))==null||r.focus())}})}i()}return()=>{let s={open:e.popoverState.value===0,close:e.close},{focus:i,...r}=u,t={ref:e.panel,id:m,onKeydown:f,onFocusout:l&&e.popoverState.value===0?N:void 0,tabIndex:-1};return J({ourProps:t,theirProps:{...v,...r},attrs:v,slot:s,slots:{...b,default:(...a)=>{var n;return[x(W,[h.value&&e.isPortalled.value&&x(V,{id:g,ref:e.beforePanelSentinel,features:A.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:O}),(n=b.default)==null?void 0:n.call(b,...a),h.value&&e.isPortalled.value&&x(V,{id:c,ref:e.afterPanelSentinel,features:A.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:T})])]}},features:Y.RenderStrategy|Y.Static,visible:h.value,name:"PopoverPanel"})}}});const Le={__name:"NestedPopover",props:{placement:{type:String,default:"bottom-start"}},setup(u){const v=u,b=y(null),$=y(null);let P=y(null);function m(){P.value?P.value.update():P.value=_e(b.value.el,$.value.el,{placement:v.placement})}function l(){$e(()=>m())}return he(()=>{var e;(e=P.value)==null||e.destroy()}),(e,w)=>(ue(),we(K(de),null,{default:j(({open:g})=>[ee(K(De),{as:"div",ref_key:"reference",ref:b,onClick:l,onFocusin:l,onKeydown:l},{default:j(({open:c})=>[te(e.$slots,"target",le(oe({open:c})))]),_:2},1536),Ce(se("div",null,[ee(K(Ge),{ref_key:"popover",ref:$,static:"",class:"z-[100]"},{default:j(({open:c,close:d})=>[te(e.$slots,"body",le(oe({open:c,close:d})))]),_:2},1536)],512),[[Ee,g]])]),_:3}))}},Re=Le,He={},Me={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function je(u,v){return ue(),Fe("svg",Me,[...v[0]||(v[0]=[se("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.5 4.5C2.5 3.39543 3.39543 2.5 4.5 2.5H8.5C8.77614 2.5 9 2.27614 9 2C9 1.72386 8.77614 1.5 8.5 1.5H4.5C2.84315 1.5 1.5 2.84315 1.5 4.5V11.5C1.5 13.1569 2.84315 14.5 4.5 14.5H11.5C13.1569 14.5 14.5 13.1569 14.5 11.5V7.5C14.5 7.22386 14.2761 7 14 7C13.7239 7 13.5 7.22386 13.5 7.5V11.5C13.5 12.6046 12.6046 13.5 11.5 13.5H4.5C3.39543 13.5 2.5 12.6046 2.5 11.5V4.5ZM14.1255 2.58446C14.3207 2.3892 14.3207 2.07261 14.1255 1.87735C13.9302 1.68209 13.6136 1.68209 13.4184 1.87735L6.68616 8.60954C6.4909 8.8048 6.4909 9.12139 6.68616 9.31665C6.88143 9.51191 7.19801 9.51191 7.39327 9.31665L14.1255 2.58446Z",fill:"currentColor"},null,-1)])])}const qe=ke(He,[["render",je]]);export{qe as E,De as G,Re as N,Ge as j,de as y};
//# sourceMappingURL=EditIcon-f33e48c1.js.map
