import{bO as N,af as x,A as f,cq as R,bq as P,K as M,bs as k,br as B,bv as h,d as v,a7 as y,bt as w,a0 as p,c as F,N as L,a4 as $,O as C,ae as q,p as A,bj as I}from"./index-b4c863a6.js";function D(e,t,n,r){N.isServer||x(s=>{e=e??window,e.addEventListener(t,n,r),s(()=>e.removeEventListener(t,n,r))})}var G=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(G||{});function J(){let e=f(0);return R("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function Q({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){let r=f(null),s=P(r);function o(){var u,a,c;let i=[];for(let l of e)l!==null&&(l instanceof HTMLElement?i.push(l):"value"in l&&l.value instanceof HTMLElement&&i.push(l.value));if(t!=null&&t.value)for(let l of t.value)i.push(l);for(let l of(u=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?u:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(l.contains(h(r))||l.contains((c=(a=h(r))==null?void 0:a.getRootNode())==null?void 0:c.host)||i.some(m=>l.contains(m))||i.push(l));return i}return{resolveContainers:o,contains(u){return o().some(a=>a.contains(u))},mainTreeNodeRef:r,MainTreeNode(){return n!=null?null:M(B,{features:k.Hidden,ref:r})}}}let O=Symbol("ForcePortalRootContext");function U(){return p(O,!1)}let V=v({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){return y(O,e.force),()=>{let{force:r,...s}=e;return w({theirProps:s,ourProps:{},slot:{},slots:t,attrs:n,name:"ForcePortalRoot"})}}});function K(e){let t=P(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let n=t.getElementById("headlessui-portal-root");if(n)return n;let r=t.createElement("div");return r.setAttribute("id","headlessui-portal-root"),t.body.appendChild(r)}const g=new WeakMap;function W(e){var t;return(t=g.get(e))!=null?t:0}function S(e,t){let n=t(W(e));return n<=0?g.delete(e):g.set(e,n),n}let X=v({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n}){let r=f(null),s=F(()=>P(r)),o=U(),u=p(j,null),a=f(o===!0||u==null?K(r.value):u.resolveTarget());a.value&&S(a.value,d=>d+1);let c=f(!1);L(()=>{c.value=!0}),x(()=>{o||u!=null&&(a.value=u.resolveTarget())});let i=p(b,null),l=!1,m=I();return $(r,()=>{if(l||!i)return;let d=h(r);d&&(C(i.register(d),m),l=!0)}),C(()=>{var d,E;let T=(d=s.value)==null?void 0:d.getElementById("headlessui-portal-root");!T||a.value!==T||S(a.value,H=>H-1)||a.value.children.length>0||(E=a.value.parentElement)==null||E.removeChild(a.value)}),()=>{if(!c.value||a.value===null)return null;let d={ref:r,"data-headlessui-portal":""};return M(q,{to:a.value},w({ourProps:d,theirProps:e,slot:{},attrs:n,slots:t,name:"Portal"}))}}}),b=Symbol("PortalParentContext");function Y(){let e=p(b,null),t=f([]);function n(o){return t.value.push(o),e&&e.register(o),()=>r(o)}function r(o){let u=t.value.indexOf(o);u!==-1&&t.value.splice(u,1),e&&e.unregister(o)}let s={register:n,unregister:r,portals:t};return[t,v({name:"PortalWrapper",setup(o,{slots:u}){return y(b,s),()=>{var a;return(a=u.default)==null?void 0:a.call(u)}}})]}let j=Symbol("PortalGroupContext"),Z=v({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:n}){let r=A({resolveTarget(){return e.target}});return y(j,r),()=>{let{target:s,...o}=e;return w({theirProps:o,ourProps:{},slot:{},attrs:t,slots:n,name:"PortalGroup"})}}});export{X as $,D as E,Q as N,G as d,J as n,Y as q,V as u,Z as z};
//# sourceMappingURL=portal-302b46c8.js.map
