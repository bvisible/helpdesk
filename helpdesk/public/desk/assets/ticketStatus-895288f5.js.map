{"version":3,"file":"ticketStatus-895288f5.js","sources":["../../../../desk/src/stores/ticketStatus.ts"],"sourcesContent":["import { HDTicketStatus } from \"@/types/doctypes\";\nimport { parseColor } from \"@/utils\";\nimport { createListResource } from \"frappe-ui\";\nimport { defineStore } from \"pinia\";\n\nexport const useTicketStatusStore = defineStore(\"ticketStatus\", () => {\n  const statuses = createListResource({\n    doctype: \"HD Ticket Status\",\n    cache: [\"HD Ticket Status\", \"list\"],\n    fields: [\n      \"label_agent\",\n      \"label_customer\",\n      \"order\",\n      \"different_view\",\n      \"category\",\n      \"color\",\n      \"enabled\",\n    ],\n    orderBy: \"`tabHD Ticket Status`.order\",\n    pageLength: 1000,\n    auto: true,\n    transform: (data: HDTicketStatus[]) => {\n      return data.map((d) => {\n        if (!d.different_view) {\n          d.label_customer = d.label_agent;\n        }\n        d[\"parsed_color\"] = parseColor(d.color);\n        return d;\n      });\n    },\n  });\n\n  function getStatus(label: string): HDTicketStatus | undefined {\n    return statuses.data?.find(\n      (s: HDTicketStatus) =>\n        s.label_agent === label || s.label_customer === label\n    );\n  }\n  const colorMap = {\n    Green: [\"text-green-700\", \"bg-surface-green-2\"],\n    Black: [\"text-black\", \"bg-surface-gray-2\"],\n    Gray: [\"text-gray-700\", \"bg-surface-gray-2\"],\n    Blue: [\"text-blue-700\", \"bg-surface-blue-2\"],\n    Red: [\"text-red-500\", \"bg-surface-red-1\"],\n    Pink: [\"text-pink-500\", \"bg-surface-pink-1\"],\n    Orange: [\"text-orange-600\", \"bg-surface-orange-1\"],\n    Amber: [\"text-amber-700\", \"bg-surface-amber-2\"],\n    Yellow: [\"text-yellow-700\", \"bg-surface-amber-2\"],\n    Cyan: [\"text-cyan-700\", \"bg-surface-cyan-1\"],\n    Teal: [\"text-teal-700\", \"bg-teal-100\"],\n    Violet: [\"text-violet-700\", \"bg-surface-violet-1\"],\n    Purple: [\"text-purple-700\", \"bg-purple-100\"],\n    Default: [\"text-ink-gray-9\", \"bg-surface-gray-2\"],\n  };\n\n  return {\n    statuses,\n    colorMap,\n    getStatus,\n  };\n});\nfunction parseColor(color: string): string {\n  color = color.toLowerCase();\n  let textColor = `!text-${color}-600`;\n  if (color == \"black\") {\n    textColor = \"!text-ink-gray-9\";\n  } else if ([\"gray\", \"green\"].includes(color)) {\n    textColor = `!text-${color}-700`;\n  }\n\n  return textColor;\n}\n"],"names":["useTicketStatusStore","defineStore","statuses","createListResource","data","d","parseColor","getStatus","label","_a","s","color","textColor"],"mappings":"gDAKa,MAAAA,EAAuBC,EAAY,eAAgB,IAAM,CACpE,MAAMC,EAAWC,EAAmB,CAClC,QAAS,mBACT,MAAO,CAAC,mBAAoB,MAAM,EAClC,OAAQ,CACN,cACA,iBACA,QACA,iBACA,WACA,QACA,SACF,EACA,QAAS,8BACT,WAAY,IACZ,KAAM,GACN,UAAYC,GACHA,EAAK,IAAKC,IACVA,EAAE,iBACLA,EAAE,eAAiBA,EAAE,aAEvBA,EAAE,aAAkBC,EAAWD,EAAE,KAAK,EAC/BA,EACR,CACH,CACD,EAED,SAASE,EAAUC,EAA2C,OAC5D,OAAOC,EAAAP,EAAS,OAAT,YAAAO,EAAe,KACnBC,GACCA,EAAE,cAAgBF,GAASE,EAAE,iBAAmBF,EAEtD,CAkBO,MAAA,CACL,SAAAN,EACA,SAnBe,CACf,MAAO,CAAC,iBAAkB,oBAAoB,EAC9C,MAAO,CAAC,aAAc,mBAAmB,EACzC,KAAM,CAAC,gBAAiB,mBAAmB,EAC3C,KAAM,CAAC,gBAAiB,mBAAmB,EAC3C,IAAK,CAAC,eAAgB,kBAAkB,EACxC,KAAM,CAAC,gBAAiB,mBAAmB,EAC3C,OAAQ,CAAC,kBAAmB,qBAAqB,EACjD,MAAO,CAAC,iBAAkB,oBAAoB,EAC9C,OAAQ,CAAC,kBAAmB,oBAAoB,EAChD,KAAM,CAAC,gBAAiB,mBAAmB,EAC3C,KAAM,CAAC,gBAAiB,aAAa,EACrC,OAAQ,CAAC,kBAAmB,qBAAqB,EACjD,OAAQ,CAAC,kBAAmB,eAAe,EAC3C,QAAS,CAAC,kBAAmB,mBAAmB,CAAA,EAMhD,UAAAK,CAAA,CAEJ,CAAC,EACD,SAASD,EAAWK,EAAuB,CACzCA,EAAQA,EAAM,cACV,IAAAC,EAAY,SAASD,CAAK,OAC9B,OAAIA,GAAS,QACCC,EAAA,mBACH,CAAC,OAAQ,OAAO,EAAE,SAASD,CAAK,IACzCC,EAAY,SAASD,CAAK,QAGrBC,CACT"}