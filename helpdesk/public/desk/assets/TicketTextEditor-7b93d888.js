import{d as k,A as x,c as w,a as y,am as B,r as _,e as p,k as h,g as i,w as l,l as r,h as e,C as m,ab as V,aZ as F,a_ as S,f as $,G as H,F as L,S as P,v as T,z as E,a$ as M,b0 as N}from"./index-b4c863a6.js";import{_ as z}from"./AttachmentItem.vue_vue_type_script_setup_true_lang-b54cd9d5.js";import{P as I}from"./TypingIndicator.vue_vue_type_style_index_0_scoped_3f215bd3_lang-c8d975a4.js";import"./dayjs-95f8111d.js";import"./knowledgeBase-2d00b929.js";import{_ as C}from"./UserAvatar.vue_vue_type_script_setup_true_lang-e554c997.js";import{T as j,_ as A}from"./file-to-base64-e61fad39.js";import{F as D}from"./FileUploader-44680597.js";import"./Avatar.vue_vue_type_script_setup_true_lang-89128cfb.js";import"./popper-0aa08b12.js";import"./chevron-left-d60af664.js";import"./chevron-right-cd59273c.js";import"./plus-3c348a65.js";const U={class:"rounded p-3 shadow w-full"},X={class:"text-base"},q={class:"flex items-center justify-between"},G={class:"flex flex-col gap-2"},O={class:"flex flex-col space-y-1.5 overflow-auto sm:flex-row sm:justify-between"},R={class:"flex items-center"},Z={class:"flex items-center gap-2"},J=k({__name:"TextEditor",props:{modelValue:{},autofocus:{type:Boolean,default:!1}},emits:["clear","update:modelValue"],setup(o,{expose:d}){const g=o,c=x(null),f=w(()=>c.value.editor),s=y(),a=["Paragraph",["Heading 2","Heading 3","Heading 4","Heading 5"],"Bullet List","Numbered List","Image","Video","Link","Blockquote","Code"];return d({editor:f}),g.autofocus&&B(()=>c.value.editor.commands.focus()),(n,u)=>{const b=_("Button");return p(),h("div",U,[i(e(A),V({ref_key:"e",ref:c,extensions:[e(I)]},n.$attrs,{"editor-class":["prose-f max-h-64 max-w-none  overflow-auto my-4 min-h-[5rem]",e(F)(o.modelValue)],"bubble-menu":"",content:o.modelValue,onChange:u[1]||(u[1]=t=>n.$emit("update:modelValue",t))}),{top:l(()=>[r("span",X,[r("span",q,[i(e(C),{name:e(s).userName,image:e(s).userImage,expand:"",strong:""},null,8,["name","image"]),m(n.$slots,"top-right")]),m(n.$slots,"top-bottom")])]),bottom:l(()=>[r("div",G,[m(n.$slots,"bottom-top"),r("div",O,[r("div",R,[i(e(j),{buttons:a}),m(n.$slots,"bottom-left")]),r("div",Z,[i(b,{label:"Discard",theme:"gray",variant:"subtle",onClick:u[0]||(u[0]=()=>{f.value.commands.clearContent(!0),n.$emit("clear")})}),m(n.$slots,"bottom-right")])])])]),_:3},16,["extensions","editor-class","content"])])}}}),K={class:"lucide lucide-paperclip",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Q(o,d){return p(),h("svg",K,[...d[0]||(d[0]=[r("path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"},null,-1)])])}const W=S({name:"lucide-paperclip",render:Q}),Y={class:"flex flex-wrap gap-2"},ee={class:"flex"},te={class:"text-base text-gray-700"},ge=k({__name:"TicketTextEditor",props:{content:{},placeholder:{},attachments:{},expand:{type:Boolean,default:!1}},emits:["update:content","update:attachments","update:expand"],setup(o,{expose:d}){const g=x(null),c=w(()=>g.value.editor),f=y();return d({editor:c}),(s,a)=>{const n=N,u=W,b=_("Button");return o.expand?(p(),$(e(J),{key:0,ref_key:"e",ref:g,"model-value":o.content,placeholder:o.placeholder,"onUpdate:modelValue":a[2]||(a[2]=t=>s.$emit("update:content",t)),onClear:a[3]||(a[3]=()=>s.$emit("update:attachments",[]))},{"bottom-top":l(()=>[r("div",Y,[(p(!0),h(L,null,H(o.attachments,t=>(p(),$(e(z),{key:t.file_url,label:t.file_name,url:["MOV","MP4"].includes(t.file_type)?null:t.file_url},{suffix:l(()=>[i(n,{class:"size-4",onClick:E(()=>{s.$emit("update:attachments",o.attachments.filter(v=>v.file_url!==t.file_url)),e(M)(t.name)},["stop"])},null,8,["onClick"])]),_:2},1032,["label","url"]))),128))])]),"bottom-left":l(()=>[r("span",ee,[m(s.$slots,"bottom-left"),i(e(D),{"upload-args":{folder:"Home/Helpdesk",private:!0},onSuccess:a[0]||(a[0]=t=>s.$emit("update:attachments",[...o.attachments,t])),onFailure:a[1]||(a[1]=()=>e(P).error("Error uploading file"))},{default:l(({openFileSelector:t})=>[i(b,{theme:"gray",variant:"ghost",onClick:v=>t()},{icon:l(()=>[i(u,{class:"size-4"})]),_:1},8,["onClick"])]),_:1})])]),"top-right":l(()=>[m(s.$slots,"top-right")]),"top-bottom":l(()=>[m(s.$slots,"top-bottom")]),"bottom-right":l(()=>[m(s.$slots,"bottom-right")]),_:3},8,["model-value","placeholder"])):(p(),h("div",{key:1,class:"flex w-full cursor-pointer items-center gap-2 rounded bg-gray-100 px-3.5 py-2 hover:bg-gray-200",onClick:a[4]||(a[4]=()=>s.$emit("update:expand",!o.expand))},[i(e(C),{name:e(f).userName,image:e(f).userImage,size:"sm"},null,8,["name","image"]),r("span",te,T(o.placeholder),1)]))}}});export{ge as default};
//# sourceMappingURL=TicketTextEditor-7b93d888.js.map
