{"version":3,"file":"EmailArea-cbb8d998.js","sources":["../../../../desk/src/components/icons/ReplyAllIcon.vue","../../../../desk/src/components/icons/ReplyIcon.vue","../../../../desk/src/components/ticket/TicketSplitModal.vue","../../../../desk/src/components/EmailArea.vue"],"sourcesContent":["<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M5.85355 3.14645C5.65829 2.95118 5.34171 2.95118 5.14645 3.14645L1.14645 7.14645C0.951184 7.34171 0.951184 7.65829 1.14645 7.85355L5.14645 11.8536C5.34171 12.0488 5.65829 12.0488 5.85355 11.8536C6.04882 11.6583 6.04882 11.3417 5.85355 11.1464L2.20711 7.5L5.85355 3.85355C6.04882 3.65829 6.04882 3.34171 5.85355 3.14645ZM10 8C11.933 8 13.5 9.567 13.5 11.5V12C13.5 12.2761 13.7239 12.5 14 12.5C14.2761 12.5 14.5 12.2761 14.5 12V11.5C14.5 9.01472 12.4853 7 10 7H6.6728L9.81924 3.85355C10.0145 3.65829 10.0145 3.34171 9.81924 3.14645C9.62398 2.95118 9.3074 2.95118 9.11214 3.14645L5.11214 7.14645C4.91688 7.34171 4.91688 7.65829 5.11214 7.85355L9.11214 11.8536C9.3074 12.0488 9.62398 12.0488 9.81924 11.8536C10.0145 11.6583 10.0145 11.3417 9.81924 11.1464L6.6728 8H10Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M5.64645 3.14645C5.84171 2.95118 6.15829 2.95118 6.35355 3.14645C6.54882 3.34171 6.54882 3.65829 6.35355 3.85355L3.20711 7H10C12.4853 7 14.5 9.01472 14.5 11.5V12C14.5 12.2761 14.2761 12.5 14 12.5C13.7239 12.5 13.5 12.2761 13.5 12V11.5C13.5 9.567 11.933 8 10 8H3.20711L6.35355 11.1464C6.54882 11.3417 6.54882 11.6583 6.35355 11.8536C6.15829 12.0488 5.84171 12.0488 5.64645 11.8536L1.64645 7.85355C1.45118 7.65829 1.45118 7.34171 1.64645 7.14645L5.64645 3.14645Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <Dialog :options=\"{ title: `Split ticket` }\" v-model=\"showDialog\">\n    <template #body-content>\n      <div class=\"flex flex-col gap-4\">\n        <p class=\"text-p-base text-ink-gray-8\">\n          All\n          <span class=\"underline\">emails/ comments</span>\n          from this email onwards will be moved to new ticket.\n        </p>\n        <FormControl\n          label=\"New Ticket Subject\"\n          type=\"text\"\n          v-model=\"subject\"\n          placeholder=\"Add a subject for the new ticket\"\n        />\n        <div\n          class=\"flex items-center gap-2 rounded-md p-2 ring-1 ring-gray-200\"\n        >\n          <TriangleAlert\n            class=\"h-6 w-5 w-min-5 w-max-5 min-h-5 max-w-5 text-yellow-500\"\n          />\n\n          <div class=\"text-wrap text-sm text-gray-700\">\n            This action is irreversible.\n          </div>\n        </div>\n      </div>\n    </template>\n    <template #actions>\n      <Button\n        class=\"w-full\"\n        variant=\"solid\"\n        label=\"Split into new ticket\"\n        :loading=\"splitTicket.loading\"\n        :icon-left=\"LucideSplit\"\n        @click=\"handleTicketSplit\"\n      />\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { Dialog, createResource, toast } from \"frappe-ui\";\nimport { ref } from \"vue\";\nimport LucideSplit from \"~icons/lucide/split\";\nimport TriangleAlert from \"~icons/lucide/triangle-alert\";\n\ninterface Props {\n  ticket_id: string;\n  communication_id: string;\n}\n\ninterface E {\n  (event: \"update\"): void;\n  //   (event: \"rowClick\", row: any): void;\n}\n\nconst props = defineProps<Props>();\nconst emit = defineEmits<E>();\nconst showDialog = defineModel<boolean>();\n\nconst subject = ref(null);\n\nconst splitTicket = createResource({\n  url: \"helpdesk.helpdesk.doctype.hd_ticket.api.split_ticket\",\n  makeParams({ subject, communication_id }) {\n    return {\n      subject,\n      communication_id,\n    };\n  },\n  validate({ subject, communication_id }) {\n    if (!subject) throw { message: \"Subject is required\" };\n    if (!communication_id) throw { message: \"Communication ID is required\" };\n  },\n  onSuccess: (newTicket: string) => {\n    toast.success(\"Ticket split successfully\");\n    showDialog.value = false;\n    window.open(\n      window.location.origin + \"/helpdesk/tickets/\" + newTicket,\n      \"_blank\"\n    );\n    window.location.reload();\n  },\n});\n\nfunction handleTicketSplit() {\n  splitTicket.submit({\n    subject: subject.value,\n    communication_id: props.communication_id,\n  });\n}\n</script>\n\n<style scoped></style>\n","<template>\n  <div\n    :id=\"`communication-${name}`\"\n    v-bind=\"$attrs\"\n    class=\"grow cursor-pointer border-transparent bg-white rounded-md shadow text-base leading-6 transition-all duration-300 ease-in-out\"\n  >\n    <div\n      class=\"flex items-center justify-between gap-2\"\n      :class=\"isMobileView && 'items-start'\"\n    >\n      <!-- email design for mobile -->\n      <div v-if=\"isMobileView\" class=\"flex items-center gap-2 text-sm\">\n        <div class=\"leading-tight\">\n          <p>{{ sender.full_name || \"No name found\" }}</p>\n          <Tooltip :text=\"dateFormat(creation, dateTooltipFormat)\">\n            <p class=\"text-xs md:text-sm text-gray-600\">\n              {{ timeAgo(creation) }}\n            </p>\n          </Tooltip>\n          <p class=\"sm:flex hidden text-sm text-gray-600\" v-if=\"sender.name\">\n            {{ \"<\" + sender.name + \">\" }}\n          </p>\n        </div>\n      </div>\n      <!-- email design for desktop -->\n      <div v-else class=\"flex items-center gap-1\">\n        <span>{{ sender.full_name || \"No name found\" }}</span>\n        <span class=\"sm:flex hidden text-sm text-gray-600\" v-if=\"sender.name\">{{\n          \"<\" + sender.name + \">\"\n        }}</span>\n      </div>\n\n      <div class=\"flex gap-0.5 items-center\">\n        <Badge\n          v-if=\"status.label\"\n          :label=\"__(status.label)\"\n          variant=\"subtle\"\n          :theme=\"status.color\"\n          class=\"mr-1.5\"\n        />\n        <Tooltip\n          :text=\"dateFormat(creation, dateTooltipFormat)\"\n          v-if=\"!isMobileView\"\n        >\n          <p class=\"text-xs md:text-sm text-gray-600\">\n            {{ timeAgo(creation) }}\n          </p>\n        </Tooltip>\n        <Button variant=\"ghost\" class=\"text-gray-700\" @click=\"reply\">\n          <ReplyIcon class=\"h-4 w-4\" />\n        </Button>\n        <Button variant=\"ghost\" class=\"text-gray-700\" @click=\"replyAll\">\n          <ReplyAllIcon class=\"h-4 w-4\" />\n        </Button>\n        <Dropdown\n          v-if=\"showSplitOption\"\n          :placement=\"'right'\"\n          :options=\"[\n            {\n              label: 'Split Ticket',\n              icon: LucideSplit,\n              onClick: () => (showSplitModal = true),\n            },\n          ]\"\n        >\n          <Button\n            icon=\"more-horizontal\"\n            class=\"text-gray-600\"\n            variant=\"ghost\"\n          />\n        </Dropdown>\n      </div>\n    </div>\n    <!-- <div class=\"text-sm leading-5 text-gray-600\">\n      {{ subject }}\n    </div> -->\n    <div class=\"text-sm leading-5 text-gray-600\">\n      <span v-if=\"to\" class=\"text-2xs mr-1 font-bold text-gray-500\">TO:</span>\n      <span v-if=\"to\"> {{ to }} </span>\n      <span v-if=\"cc\">, </span>\n      <span v-if=\"cc\" class=\"text-2xs mr-1 font-bold text-gray-500\"> CC: </span>\n      <span v-if=\"cc\">{{ cc }}</span>\n      <span v-if=\"bcc\">, </span>\n      <span v-if=\"bcc\" class=\"text-2xs mr-1 font-bold text-gray-500\">\n        BCC:\n      </span>\n      <span v-if=\"bcc\">{{ bcc }}</span>\n    </div>\n    <div class=\"border-0 border-t my-3 border-outline-gray-modals\" />\n    <EmailContent :content=\"content\" />\n    <div class=\"flex flex-wrap gap-2\">\n      <AttachmentItem\n        v-for=\"a in attachments\"\n        :key=\"a.file_url\"\n        :label=\"a.file_name\"\n        :url=\"a.file_url\"\n      />\n    </div>\n  </div>\n  <TicketSplitModal\n    v-model=\"showSplitModal\"\n    :ticket_id=\"name\"\n    :communication_id=\"name\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { AttachmentItem } from \"@/components\";\nimport { useScreenSize } from \"@/composables/screen\";\nimport { dateFormat, dateTooltipFormat, timeAgo } from \"@/utils\";\nimport { Dropdown } from \"frappe-ui\";\nimport { computed, ref } from \"vue\";\nimport LucideSplit from \"~icons/lucide/split\";\nimport { ReplyAllIcon, ReplyIcon } from \"./icons\";\nimport TicketSplitModal from \"./ticket/TicketSplitModal.vue\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { storeToRefs } from \"pinia\";\n\nconst props = defineProps({\n  activity: {\n    type: Object,\n    required: true,\n  },\n  showSplitOption: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst {\n  sender,\n  to,\n  cc,\n  bcc,\n  creation,\n  subject,\n  attachments,\n  content,\n  name,\n  deliveryStatus,\n} = props.activity;\n\nconst emit = defineEmits([\"reply\"]);\n\nconst auth = storeToRefs(useAuthStore());\n\nconst { isMobileView } = useScreenSize();\n\nconst showSplitModal = ref(false);\n\nconst status = computed(() => {\n  let _status = deliveryStatus;\n  let indicator_color = \"red\";\n  if ([\"Sent\", \"Clicked\"].includes(_status)) {\n    indicator_color = \"green\";\n  } else if ([\"Sending\", \"Scheduled\"].includes(_status)) {\n    indicator_color = \"orange\";\n  } else if ([\"Opened\", \"Read\"].includes(_status)) {\n    indicator_color = \"blue\";\n  } else if (_status == \"Error\") {\n    indicator_color = \"red\";\n  }\n  return { label: _status, color: indicator_color };\n});\n\nconst reply = () => {\n  const user = auth.user.value;\n  emit(\"reply\", {\n    content: content,\n    to: user === sender.name ? to : sender.name,\n  });\n};\n\nconst replyAll = () => {\n  const user = auth.user.value;\n\n  const normalizeAndFilter = (field) => {\n    let arr;\n    if (typeof field === \"string\") {\n      arr = field.split(\",\").map((s) => s.trim());\n    } else {\n      arr = field || [];\n    }\n    return arr.filter((item) => item !== user && item !== sender.name);\n  };\n\n  const filteredTo = normalizeAndFilter(to);\n  const filteredCc = normalizeAndFilter(cc);\n  const filteredBcc = normalizeAndFilter(bcc);\n\n  let _to, _cc, _bcc;\n\n  if (user === sender.name) {\n    // User is the sender, reply to all original recipients\n    _to = filteredTo.join(\", \");\n    _cc = filteredCc;\n    _bcc = filteredBcc;\n  } else {\n    // User is a recipient, reply to sender with all other recipients in cc\n    _to = sender.name;\n    _cc = [...filteredTo, ...filteredCc];\n    _bcc = filteredBcc;\n  }\n\n  emit(\"reply\", {\n    content: content,\n    to: _to,\n    cc: _cc.filter(Boolean),\n    bcc: _bcc.filter(Boolean),\n  });\n};\n\n// TODO: Implement reply functionality using this way instead of emit drillup\n// function reply(email, reply_all = false) {\n//   emailBox.toggleEmailBox();\n//   let editor = emailBox.editor;\n//   let message = email.content;\n//   let recipients = sender.name;\n//   editor.toEmails = [email.sender];\n//   editor.cc = editor.bcc = false;\n//   editor.ccEmails = [];\n//   editor.bccEmails = [];\n//   console.log(recipients);\n\n//   if (!email.subject.startsWith(\"Re:\")) {\n//     editor.subject = `Re: ${email.subject}`;\n//   } else {\n//     editor.subject = email.subject;\n//   }\n\n//   if (reply_all) {\n//     let cc = email.cc?.split(\",\").map((r) => r.trim());\n//     let bcc = email.bcc?.split(\",\").map((r) => r.trim());\n\n//     if (cc?.length) {\n//       recipients = recipients.filter((r) => !cc?.includes(r));\n//       cc.push(...recipients);\n//     } else {\n//       cc = recipients;\n//     }\n\n//     editor.cc = cc ? true : false;\n//     editor.bcc = bcc ? true : false;\n\n//     editor.ccEmails = cc;\n//     editor.bccEmails = bcc;\n//   }\n\n//   let repliedMessage = `<blockquote>${message}</blockquote>`;\n\n//   editor.editor\n//     .chain()\n//     .clearContent()\n//     .insertContent(\"<p>.</p>\")\n//     .updateAttributes(\"paragraph\", { class: \"reply-to-content\" })\n//     .insertContent(repliedMessage)\n//     .focus(\"all\")\n//     .insertContentAt(0, { type: \"paragraph\" })\n//     .focus(\"start\")\n//     .run();\n// }\n</script>\n\n<style>\n.email-content {\n  max-width: 100%;\n}\n.email-content > * {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n}\n</style>\n"],"names":["_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","props","__props","showDialog","_useModel","subject","ref","splitTicket","createResource","communication_id","newTicket","toast","handleTicketSplit","_createBlock","_unref","Dialog","$event","_createVNode","_component_FormControl","_hoisted_2","TriangleAlert","_component_Button","LucideSplit","sender","to","cc","bcc","creation","attachments","content","name","deliveryStatus","emit","__emit","auth","storeToRefs","useAuthStore","isMobileView","useScreenSize","showSplitModal","status","computed","_status","indicator_color","reply","user","replyAll","normalizeAndFilter","field","arr","s","item","filteredTo","filteredCc","filteredBcc","_to","_cc","_bcc","_mergeProps","$attrs","_normalizeClass","_hoisted_3","_toDisplayString","_component_Tooltip","dateFormat","dateTooltipFormat","_hoisted_4","timeAgo","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_component_Badge","__","_hoisted_9","ReplyIcon","ReplyAllIcon","Dropdown","_hoisted_10","_hoisted_11","_hoisted_14","_hoisted_17","_component_EmailContent","_hoisted_19","_Fragment","_renderList","a","AttachmentItem","TicketSplitModal"],"mappings":"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"}